<?xml version="1.0"?>
<testCase version="8.4.0.202012071239" entryPoint="add_favorites_to_KPIs">
    <general>
        <sessionClass includeTestCase="true" sessionType="project://di_Landslide/session_profiles/landslide_rest.ffsp"/>
        <language>Python</language>
    </general>
    <procedures>
        <item name="add_favorites_to_KPIs" isPublic="true">
            <steps>
                <item guid="8340775f-1120-4d3f-bc2b-a2855cbf14f3" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>print(response)</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>count(mapped/Json/KPIs/item)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>kpi_length</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="1d1cd6ae-cd53-411b-989e-e626b97845df" action="if" useFieldsInCommand="false">
                    <command>
                        <body>&apos;running_id&apos; in locals() and running_id:</body>
                    </command>
                    <nestedSteps>
                        <item guid="0c25be47-2965-4082-814b-331845e35d76" action="Custom" session="[session]">
                            <command>
                                <body>-requestMethod GET -dataType json -rawResponse true -url runningTests/[running_id]/measurements/favorites</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>favorites</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" rawResponse="true" rawResponse.inherit="false" url="runningTests/[running_id]/measurements/favorites" url.inherit="false"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="e2084614-958f-4abc-a3d9-16f37a1fed65" action="json" useFieldsInCommand="false">
                    <command>
                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;favorites&apos;, pathValue=&apos;{&quot;favorites&quot;}&apos;</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>count(mapped/Json/favorites/item)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>favorite_count</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>favorites()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>favorite_items</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                        <action inherit="false">getJsonNode</action>
                        <pathValue inherit="false">{&quot;favorites&quot;}</pathValue>
                        <documentName inherit="false">favorites</documentName>
                    </applicationProperties>
                </item>
                <item guid="bb36e654-539a-458c-8d9f-3b20a263527a" action="if" useFieldsInCommand="false">
                    <command>
                        <body>skip_duplicate == &quot;false&quot;:</body>
                    </command>
                    <nestedSteps>
                        <item guid="cb98642a-085b-4284-b5b1-fe493fe2dd8e" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;response&apos;, pathValue=&apos;{&quot;/&quot;:{&quot;favorites_measurements&quot;:[]}}&apos;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">addJsonNode</action>
                                <pathValue inherit="false">{&quot;/&quot;:{&quot;favorites_measurements&quot;:[]}}</pathValue>
                                <documentName inherit="false">response</documentName>
                            </applicationProperties>
                        </item>
                        <item guid="a16baf6e-0788-465a-9020-ab16b23bfb57" action="for" useFieldsInCommand="false">
                            <command>
                                <body>i in range(int(favorite_count)):</body>
                            </command>
                            <nestedSteps>
                                <item guid="bf07af5b-739a-4b7f-97fe-902a2f5bbefb" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;favorites&apos;, pathValue=&apos;{&quot;favorites/\\\\[[i]]&quot;}&apos;</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="regex">
                                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                                        <regex>^\\{&quot;\\w+&quot;:\\{([^\\r\\n]+)}}$</regex>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>name_value</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">getJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;favorites/\\[[i]]&quot;}</pathValue>
                                        <documentName inherit="false">favorites</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="19ddba91-db1d-423e-a6ba-0640f9986fbb" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>parts = name_value.split(&apos;&quot;:&quot;&apos;)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="da6c74bc-ea50-4ad2-9e1f-ce2ea701a536" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>print(parts[0].replace(&apos;&quot;&apos;, &apos;&apos;))</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>responseLine()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>name</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="95ca2dd0-f8df-400e-a2bf-c7011018dc54" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>print(parts[1].replace(&apos;&quot;&apos;, &apos;&apos;))</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>responseLine()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>value</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="3193bf61-cd5b-40b1-92ba-6b8d44d77f8d" action="json" skip="true" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;favorite_items&apos;, pathValue=&apos;{&quot;\\\\[[i]]&quot;}&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">getJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;\\[[i]]&quot;}</pathValue>
                                        <documentName inherit="false">favorite_items</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="cf03bd9d-7720-4d98-be06-9953890638eb" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;response&apos;, pathValue=&apos;{&quot;favorites_measurements/\\\\[[i]]&quot;:{&quot;name&quot;:&quot;[name]&quot;,&quot;value&quot;:&quot;[value]&quot;}}&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">addJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;favorites_measurements/\\[[i]]&quot;:{&quot;name&quot;:&quot;[name]&quot;,&quot;value&quot;:&quot;[value]&quot;}}</pathValue>
                                        <documentName inherit="false">response</documentName>
                                    </applicationProperties>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="07f7920c-837c-43d7-8333-2b7f1061b2fa" action="else" useFieldsInCommand="false">
                    <nestedSteps>
                        <item guid="fae3f1e6-b39c-47a4-90ac-d5c4853c93f5" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Insert steps here for when expression is false</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="64fdc35b-63d0-4cc0-a6b6-75d3ecbdfb2a" action="return">
                    <command>
                        <body>[response]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="running_id"/>
                <item name="favorites"/>
                <item name="response">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="skip_duplicate">
                    <defaultValue>false</defaultValue>
                </item>
            </arguments>
            <response>{}</response>
        </item>
        <item name="apply_configured_tc_parameters" isPublic="true">
            <steps>
                <item guid="377e3ca2-daac-40a7-b280-b8a0a7433b5a" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>ignore_parameters = [&quot;Sessions&quot;, &quot;DefaultBearers&quot;, &quot;CommandSequence&quot;, &quot;StartRate&quot;, &quot;DisconnectRate&quot;]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="7d88c719-0c53-46e0-8cfd-863ba5855e1c" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>print(configured_parameters)</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>count(mapped/Json/tsGroups/item)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>int(value) &gt; 0</expression>
                                        <actionsWhenFalse>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>tsgroup_count = 0</statement>
                                                </actionProperties>
                                            </item>
                                            <item actionId="SkipRemainingRules">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>count(mapped/Json/tsGroups/item/testCases/item/parameters/*)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>int(value) &gt; 0</expression>
                                        <actionsWhenTrue>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>param_count = int(value)</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>tsgroup_count = 0</statement>
                                                </actionProperties>
                                            </item>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>param_count = 0</statement>
                                                </actionProperties>
                                            </item>
                                            <item actionId="SkipRemainingRules">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>count(mapped/Json/tsGroups/item)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>tsgroup_count</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                        <storeResponseAt>ls_params</storeResponseAt>
                        <storeResponseText>true</storeResponseText>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="05846ebc-1e73-4086-b9dd-763459cb4cf3" action="if" useFieldsInCommand="false">
                    <command>
                        <body>int(tsgroup_count) == 0 or int(param_count) &lt;= 0:</body>
                    </command>
                    <nestedSteps>
                        <item guid="ff18f63d-552d-40b1-a68e-ba15c65f2528" action="return">
                            <command>
                                <body>[run_data]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="70997a79-1874-4b1d-9add-e2f3469fdc29" action="for" useFieldsInCommand="false">
                    <command>
                        <body>group_index in range(0, int(tsgroup_count)):</body>
                    </command>
                    <nestedSteps>
                        <item guid="6b105251-a408-4cb5-801c-966ceb5c7315" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;configured_parameters&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/testCases&quot;}&apos;</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/testCases/item)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>tc_count</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">getJsonNode</action>
                                <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/testCases&quot;}</pathValue>
                                <documentName inherit="false">configured_parameters</documentName>
                            </applicationProperties>
                        </item>
                        <item guid="4bbb66c3-ad80-45ce-9889-4314b9071ba6" action="for" useFieldsInCommand="false">
                            <command>
                                <body>tc_index in range(0, int(tc_count)):</body>
                            </command>
                            <nestedSteps>
                                <item guid="f8b16bfa-708c-4ee7-ac23-4f2be7df7737" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;test_session_info&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/testCases/\\\\[[tc_index]]/parameters&quot;}&apos;</body>
                                    </command>
                                    <postProcessing>
                                        <storeResponseAt>tc_parameters</storeResponseAt>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">getJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/testCases/\\[[tc_index]]/parameters&quot;}</pathValue>
                                        <documentName inherit="false">test_session_info</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="61d8fe3a-ccb4-4204-9c00-dc834f476950" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;configured_parameters&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/testCases/\\\\[[tc_index]]/parameters&quot;}&apos;</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>count(mapped/Json/parameters/*)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>param_count</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <storeResponseAt>configure_tc_parameters</storeResponseAt>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">getJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/testCases/\\[[tc_index]]/parameters&quot;}</pathValue>
                                        <documentName inherit="false">configured_parameters</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="bfc314bb-962e-43ee-b5a7-0d30b9125f62" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/testCases/\\\\[[tc_index]]/parameters&quot;}&apos;</body>
                                    </command>
                                    <postProcessing>
                                        <storeResponseAt>run_data_tc_parameters</storeResponseAt>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">getJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/testCases/\\[[tc_index]]/parameters&quot;}</pathValue>
                                        <documentName inherit="false">run_data</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="938d5177-a804-48ef-add6-16371536a4bc" action="for" useFieldsInCommand="false">
                                    <command>
                                        <body>param_index in range(1, int(param_count) + 1):</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="ff59d9c5-b9e0-4a52-90f9-cf2797519d77" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>query_path = &apos;name(mapped/Json/parameters/*[{0}])&apos;.format(param_index)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="f485424f-8847-489e-baeb-22a6f923e26d" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>param_name = query(&apos;configure_tc_parameters&apos;,query_path);print(param_name)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="322d59bd-835f-4022-8bc8-920181cde16d" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>query_path = &apos;count(mapped/Json/parameters/{0}/*)&apos;.format(param_name)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="911da388-bde6-41c1-aba4-e9f4e48eaf79" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>param_child_count = query(&apos;configure_tc_parameters&apos;,query_path);print(param_child_count)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="c5d6be7d-3d53-4b79-871b-0ee7a3be53ad" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>int(param_child_count) == 0:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="4d7e70f2-9815-4853-8d62-7fdd07005114" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>query_path = &apos;mapped/Json/parameters/{0}&apos;.format(param_name)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="ea903f54-0217-4a99-b9c9-613fe94208b6" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>param_value = query(&apos;configure_tc_parameters&apos;,query_path);print(param_value)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="38fbdffa-7305-41ae-bef5-75850acc0503" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>create_mode == &quot;true&quot;:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="2e5c4b42-5fce-47a9-8fcc-fec5edd13a03" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>current_param_value = &apos;#{0}&apos;.format(param_value)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="6679501f-05de-4ab7-aa0a-a1fedea4727c" action="else" useFieldsInCommand="false">
                                                    <nestedSteps>
                                                        <item guid="ff87fad2-f88f-4d78-a600-8e210089e6db" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>query_path = &apos;boolean(mapped/Json/parameters/{0})&apos;.format(param_name)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="8219128f-e1a0-42f8-8f8f-836333e227f7" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>is_param_exist = query(&apos;tc_parameters&apos;,query_path);print(is_param_exist)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="29e8344c-d5c3-4b8a-99d9-c1628486394b" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>is_param_exist == &quot;true&quot;:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="0c312a48-bb08-4c26-b711-42b83796cef7" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>query_path = &apos;mapped/Json/parameters/{0}&apos;.format(param_name)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="75ab3333-08c4-46f0-9a32-330c569769f8" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>current_param_value = query(&apos;tc_parameters&apos;,query_path);print(current_param_value)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="44adad75-9cf5-4757-a2f1-ef61939426a3" action="else" useFieldsInCommand="false">
                                                            <nestedSteps>
                                                                <item guid="21001cee-bfe6-45e2-8f55-b758421b1ec7" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>current_param_value = param_value</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="be41abaf-bd1b-4fea-b882-7995707fb239" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>param_value != current_param_value:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="fb4cb4a3-4ee4-4446-ab3e-e48b57f5807a" action="comment" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Show execute message</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="ebe07b9b-d123-4714-b56e-1c0c8591fbaf" action="comment" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>Check param name is in ignore parameters or not</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="04edab47-4f72-440c-8144-87b4b2730c4c" action="if" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>param_name in ignore_parameters:</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="5b3079bb-71a4-4e96-8257-d3f5b692a69c" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>message = &apos; &apos; * 4 + &apos;- Parameter &quot;{0}&quot;: Skip (This parameter will be hanlded by this script)&apos;.format(param_name)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="d80e923e-e7ee-4389-bd6f-d788da77244e" action="else" useFieldsInCommand="false">
                                                                            <nestedSteps>
                                                                                <item guid="b239fa72-8c00-4565-97a6-8b80d844488d" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>message = &apos; &apos; * 4 + &apos;+ Parameter &quot;{0}&quot;: Set to value &quot;{1}&quot;&apos;.format(param_name, param_value)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="203566fb-aa70-4d13-bbdc-a3f8a73d0192" action="message" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>Information:[message]</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                        <message inherit="false">[message]</message>
                                                                    </applicationProperties>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="4582a6d0-d964-4e5e-b522-00c24cdc0841" action="comment" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Add new value to run data</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="1305dcbe-f2f2-4ec4-9d91-cc50034eaa04" action="if" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>param_name in ignore_parameters:</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="b4f6ac1d-8da2-4cc8-a872-543e14e7b5ed" action="continue" useFieldsInCommand="false">
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="3c5111e9-e7fd-4d13-a60f-95c01908a6b5" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>query_path = &apos;boolean(mapped/Json/parameters/{0})&apos;.format(param_name)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="08f9ad1a-4cdc-4b55-a6bf-b882a2888c56" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>is_param_exist = query(&apos;run_data_tc_parameters&apos;,query_path);print(is_param_exist)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="d1dd6c72-0fcb-4caa-bfef-10c022d0aacc" action="if" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>is_param_exist == &quot;true&quot;:</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="31cceecf-acca-47de-9982-361e763f76e2" action="json" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>action=&apos;setJsonValue&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/testCases/\\\\[[tc_index]]/parameters/[param_name]&quot;:&quot;[param_value]&quot;}&apos;</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                                <action inherit="false">setJsonValue</action>
                                                                                <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/testCases/\\[[tc_index]]/parameters/[param_name]&quot;:&quot;[param_value]&quot;}</pathValue>
                                                                                <documentName inherit="false">run_data</documentName>
                                                                            </applicationProperties>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="c6ab24cd-ab48-4ad5-b9c0-451e7454d583" action="else" useFieldsInCommand="false">
                                                                    <nestedSteps>
                                                                        <item guid="82b80256-adf7-495d-aa00-26f37a944644" action="json" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/testCases/\\\\[[tc_index]]/parameters/&quot;:{&quot;[param_name]&quot;:&quot;[param_value]&quot;}}&apos;</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                                <action inherit="false">addJsonNode</action>
                                                                                <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/testCases/\\[[tc_index]]/parameters/&quot;:{&quot;[param_name]&quot;:&quot;[param_value]&quot;}}</pathValue>
                                                                                <documentName inherit="false">run_data</documentName>
                                                                            </applicationProperties>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="a041bf80-3f3c-426e-a3ec-72d2ed7e911c" action="else" useFieldsInCommand="false">
                                            <nestedSteps>
                                                <item guid="bd2aa1e8-0cbb-4a5f-a5f8-36a5f11da50f" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Get node&apos;s properties</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="5ee396e0-6129-4f2f-a2b2-932e90759a69" action="json" useFieldsInCommand="false">
                                                            <command>
                                                                <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;configured_parameters&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/testCases/\\\\[[tc_index]]/parameters/[param_name]&quot;}&apos;</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query sub="true">[param_name]()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>node_property</storageLocation>
                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                                <storeResponseAt>configure_tc_node</storeResponseAt>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                <action inherit="false">getJsonNode</action>
                                                                <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/testCases/\\[[tc_index]]/parameters/[param_name]&quot;}</pathValue>
                                                                <documentName inherit="false">configured_parameters</documentName>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="e6d0e91e-393d-425a-8902-53fcfe29093e" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>create_mode == &quot;true&quot;:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="c6cfdcd6-b4a7-4f83-a708-d69ad99890f0" action="comment" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>Show execute message</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="c8a70b18-43d4-4e8d-bd24-6b6831fe51dc" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>message = &apos; &apos; * 4 + &apos;- Test Node &quot;{0}&quot;:&apos;.format(param_name)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="a88f5e56-7fbe-4eae-83bb-8639fc204d32" action="message" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>Information:[message]</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                                <message inherit="false">[message]</message>
                                                                            </applicationProperties>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="db594218-f4b0-4c28-8b38-31901c36a541" action="json" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/testCases/\\\\[[tc_index]]/parameters/[param_name]/&quot;:[node_property]}&apos;</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                        <action inherit="false">addJsonNode</action>
                                                                        <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/testCases/\\[[tc_index]]/parameters/[param_name]/&quot;:[node_property]}</pathValue>
                                                                        <documentName inherit="false">run_data</documentName>
                                                                    </applicationProperties>
                                                                </item>
                                                                <item guid="8822f596-1d98-4cb2-a6c1-d342f805730c" action="comment" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>Show execute message</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="9cd25992-989b-44f9-8244-be66c0748aeb" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>print(node_property)</body>
                                                                            </command>
                                                                            <postProcessing>
                                                                                <analysisRules>
                                                                                    <item>
                                                                                        <extractorInfo extractorType="query">
                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                <query>count(mapped/Json/*)</query>
                                                                                            </extractorProperties>
                                                                                        </extractorInfo>
                                                                                        <processorInfo ruleType="store">
                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                <storageLocation>node_property_count</storageLocation>
                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                            </ruleProperties>
                                                                                        </processorInfo>
                                                                                    </item>
                                                                                </analysisRules>
                                                                                <storeResponseAt>node_property_xml</storeResponseAt>
                                                                            </postProcessing>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="01e7e9dc-105b-4812-b5e8-43db3a1295b0" action="for" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>node_i in range(1, int(node_property_count) + 1):</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="3e3c5873-84d2-4101-beb0-10c945a8507a" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>query_path = &apos;name(mapped/Json/*[{0}])&apos;.format(node_i)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="75103d59-f9e8-480f-ace2-f705250abb1c" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>node_param_name = query(&apos;node_property_xml&apos;,query_path);print(node_param_name)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="e601f7f9-b0ba-4dbf-b14d-3118dd1b5b4b" action="if" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>node_param_name:</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="40c40c09-79bc-4b1a-b21a-1d183cee504f" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>query_path = &apos;mapped/Json/{0}&apos;.format(node_param_name)</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="9a32ef6c-bf85-4ae1-8805-b3e59e11dd16" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>node_param_value = query(&apos;node_property_xml&apos;,query_path);print(node_param_value)</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="6d5a71fc-d980-45a5-ab4d-ff7bf78f38d6" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>message = &apos; &apos; * 8 + &apos;+ &quot;{0}&quot;: &quot;{1}&quot;&apos;.format(node_param_name, node_param_value)</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="9ab1ddb7-11ac-43fb-b12f-a12ac2ed8436" action="message" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>Information:[message]</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                                                <message inherit="false">[message]</message>
                                                                                            </applicationProperties>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="0b2bece3-3331-4d49-898e-e38010bc5e28" action="continue" useFieldsInCommand="false">
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="4e32edd5-915f-4601-9afb-28306ea44d64" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>query_path = &apos;boolean(mapped/Json/parameters/{0})&apos;.format(param_name)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="594d4775-d658-4d19-b450-4b5180afe317" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>is_param_exist = query(&apos;tc_parameters&apos;,query_path);print(is_param_exist)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="afe0f0e0-accf-4edd-9546-e22b4731fead" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>is_param_exist == &quot;true&quot;:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="294b1bb3-c7f2-4384-9663-5e5d1cb028bc" action="json" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;test_session_info&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/testCases/\\\\[[tc_index]]/parameters/[param_name]&quot;}&apos;</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <storeResponseAt>tc_node</storeResponseAt>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                        <action inherit="false">getJsonNode</action>
                                                                        <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/testCases/\\[[tc_index]]/parameters/[param_name]&quot;}</pathValue>
                                                                        <documentName inherit="false">test_session_info</documentName>
                                                                    </applicationProperties>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="5065160d-73fd-47b7-8072-0a124d8f787a" action="else" useFieldsInCommand="false">
                                                            <nestedSteps>
                                                                <item guid="e779e799-cbdf-4107-a580-65a466dfdd25" action="continue" useFieldsInCommand="false">
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="22dfc8fe-9498-41c9-b537-c72e3605bec9" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>is_param_exist = query(&apos;run_data_tc_parameters&apos;,query_path);print(is_param_exist)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="64ebe477-993e-4e74-85a1-5e5987cd1d21" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>is_param_exist == &quot;true&quot;:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="a93de224-06b7-4e7c-a4b7-0e1e86d95620" action="json" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/testCases/\\\\[[tc_index]]/parameters/[param_name]&quot;}&apos;</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <storeResponseAt>run_data_tc_node</storeResponseAt>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                        <action inherit="false">getJsonNode</action>
                                                                        <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/testCases/\\[[tc_index]]/parameters/[param_name]&quot;}</pathValue>
                                                                        <documentName inherit="false">run_data</documentName>
                                                                    </applicationProperties>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="97b2c79f-0012-4ce4-b8fc-7946bcdbae49" action="else" useFieldsInCommand="false">
                                                            <nestedSteps>
                                                                <item guid="9ee0b551-e8ef-4ada-ace4-57d60b287ef8" action="continue" useFieldsInCommand="false">
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="942a314d-4466-4d77-9715-c1161a5ba1f3" action="for" useFieldsInCommand="false">
                                                    <command>
                                                        <body>child_i in range(1, int(param_child_count) + 1):</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="266f2754-109c-4ffb-b6db-ad950449c30e" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>query_path = &apos;name(mapped/Json/{0}/*[{1}])&apos;.format(param_name, child_i)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="bf273a6c-b874-4ac2-a617-4c09c2d140e8" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>param_child_name = query(&apos;configure_tc_node&apos;,query_path);print(param_child_name)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="1a31245f-b96a-41cf-9445-eaf37496589e" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>query_path = &apos;mapped/Json/{0}/{1}&apos;.format(param_name, param_child_name)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="b8d614af-e013-4a4a-8af2-3308b714acb1" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>param_child_value = query(&apos;configure_tc_node&apos;,query_path);print(param_child_value)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="b867d382-4202-49ba-b10f-ac97fc5ee404" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>current_param_child_value = query(&apos;tc_node&apos;,query_path);print(current_param_child_value)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="b934c7fc-2efb-4320-b0b7-20be76ee5f8a" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>current_param_child_value != param_child_value:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="1212b000-6bc2-4106-8a9d-b42711a8f835" action="comment" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>Show execute message</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="875bbbb2-56d9-4ca7-aa69-88623b7d5f08" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>message = &apos; &apos; * 4 + &apos;- Test Node &quot;{0}&quot;:&apos;.format(param_name)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="06674c0d-c8c1-4f32-9b59-9aa4565e8325" action="message" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>Information:[message]</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                                <message inherit="false">[message]</message>
                                                                            </applicationProperties>
                                                                        </item>
                                                                        <item guid="6505d58c-d0a9-4402-a6c8-27b11ce94c96" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>message = &apos; &apos; * 8 + &apos;+ &quot;{0}&quot;: &quot;{1}&quot;&apos;.format(param_child_name, param_child_value)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="c3b3cf0b-8d85-468a-8d82-3fa7cb24166e" action="message" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>Information:[message]</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                                <message inherit="false">[message]</message>
                                                                            </applicationProperties>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="d463dab2-9d19-40c0-be74-d86c9a3a4e7f" action="comment" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>Add new value to run data</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="e5ed1dbb-5ab5-466a-9739-be34604c7705" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>query_path = &apos;boolean(mapped/Json/{0})&apos;.format(param_name)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="c46659bb-aab6-4d96-8664-24cd52b90876" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>is_param_exist = query(&apos;run_data_tc_node&apos;,query_path);print(is_param_exist)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="a28e9d35-65bd-4323-bc72-27a42a0ba543" action="if" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>is_param_exist == &quot;false&quot;:</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="88cc887c-d7f5-4ecf-ad51-df8311e07cb0" action="json" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/testCases/\\\\[[tc_index]]/parameters/&quot;:{&quot;[param_name]&quot;:{}}}&apos;</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                                        <action inherit="false">addJsonNode</action>
                                                                                        <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/testCases/\\[[tc_index]]/parameters/&quot;:{&quot;[param_name]&quot;:{}}}</pathValue>
                                                                                        <documentName inherit="false">run_data</documentName>
                                                                                    </applicationProperties>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="2ca48d96-dcff-4ef3-b047-0cc5ea280b06" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>query_path = &apos;boolean(mapped/Json/{0}/{1})&apos;.format(param_name, param_child_name)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="4bfda633-8d04-4b3e-9a9d-d321e37d6c04" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>is_param_child_exist = query(&apos;run_data_tc_node&apos;,query_path);print(is_param_child_exist)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="53266bda-bc66-4bcc-90a6-f70773ce2d44" action="if" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>is_param_child_exist == &quot;true&quot;:</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="3daf79f5-7112-4357-af72-d12ff70189ec" action="json" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>action=&apos;setJsonValue&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/testCases/\\\\[[tc_index]]/parameters/[param_name]/[param_child_name]&quot;:&quot;[param_child_value]&quot;}&apos;</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                                        <action inherit="false">setJsonValue</action>
                                                                                        <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/testCases/\\[[tc_index]]/parameters/[param_name]/[param_child_name]&quot;:&quot;[param_child_value]&quot;}</pathValue>
                                                                                        <documentName inherit="false">run_data</documentName>
                                                                                    </applicationProperties>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="c56081a8-c159-4983-b498-746361bed3b9" action="else" useFieldsInCommand="false">
                                                                            <nestedSteps>
                                                                                <item guid="534871c1-b2b0-491d-a48d-ac16f455447f" action="json" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/testCases/\\\\[[tc_index]]/parameters/[param_name]/&quot;:{&quot;[param_child_name]&quot;:&quot;[param_child_value]&quot;}}&apos;</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                                        <action inherit="false">addJsonNode</action>
                                                                                        <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/testCases/\\[[tc_index]]/parameters/[param_name]/&quot;:{&quot;[param_child_name]&quot;:&quot;[param_child_value]&quot;}}</pathValue>
                                                                                        <documentName inherit="false">run_data</documentName>
                                                                                    </applicationProperties>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="c0f9dfc4-06a4-4b52-aebb-b8164fcd3b6c" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>child_i += 1</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="6b145617-b5b1-45b5-a181-2085d5331cb5" action="for" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>child_next in range(child_i, int(param_child_count) + 1):</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="1bd44ad4-ff6b-4dc3-b265-6aa3ba8806b5" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>query_path = &apos;name(mapped/Json/{0}/*[{1}])&apos;.format(param_name, child_next)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="e270e90c-d141-4ac8-9217-cb097c550e88" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>param_child_name = query(&apos;configure_tc_node&apos;,query_path);print(param_child_name)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="a879d133-041f-4699-b778-cbb72df9dfbf" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>query_path = &apos;mapped/Json/{0}/{1}&apos;.format(param_name, param_child_name)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="876e0a60-2648-449e-8e09-3d8d2424e4ca" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>param_child_value = query(&apos;configure_tc_node&apos;,query_path);print(param_child_value)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="7612d027-9613-4138-99ed-bbe52ac21320" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>current_param_child_value = query(&apos;tc_node&apos;,query_path);print(current_param_child_value)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="84ea53d4-8e73-485a-ba7a-e796a8aa256d" action="if" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>current_param_child_value != param_child_value:</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="8fb313b3-8b6d-43f6-b77c-924c2d6620aa" action="comment" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>Show execute message</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="4bc9e338-fd64-4f88-a85b-f2194e06543a" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>message = &apos; &apos; * 8 + &apos;+ {0}: Set to &quot;{1}&quot;&apos;.format(param_child_name, param_child_value)</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="e4e5a892-17b9-412e-828b-990c6d9565bc" action="message" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>Information:[message]</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                                                <message inherit="false">[message]</message>
                                                                                            </applicationProperties>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="9dd1ac44-a325-4ff5-8ac0-f332530a1eab" action="comment" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>Add new value to run data</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="0f1ebfd5-848b-4e1d-9347-a45942788d20" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>query_path = &apos;boolean(mapped/Json/{0})&apos;.format(param_name)</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="7fbfd7fe-002d-4081-9c35-7ea047df462a" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>is_param_exist = query(&apos;run_data_tc_node&apos;,query_path);print(is_param_exist)</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="1c51e2b5-5329-449b-a782-cd0c1cdacdb2" action="if" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>is_param_exist == &quot;false&quot;:</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="316af6d5-6ef2-413b-b8f4-4f9fd730d271" action="json" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/testCases/\\\\[[tc_index]]/parameters/&quot;:{&quot;[param_name]&quot;:{}}}&apos;</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                                                        <action inherit="false">addJsonNode</action>
                                                                                                        <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/testCases/\\[[tc_index]]/parameters/&quot;:{&quot;[param_name]&quot;:{}}}</pathValue>
                                                                                                        <documentName inherit="false">run_data</documentName>
                                                                                                    </applicationProperties>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="edcb959f-daa0-421c-b933-ea40ba51407b" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>query_path = &apos;boolean(mapped/Json/{0}/{1})&apos;.format(param_name, param_child_name)</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="86c292cb-d5c1-414d-8309-40371001cc9b" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>is_param_child_exist = query(&apos;run_data_tc_node&apos;,query_path);print(is_param_child_exist)</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="f58613cd-f838-4d29-be97-6ea41f631b88" action="if" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>is_param_child_exist == &quot;true&quot;:</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="dc8f706e-0350-4b0c-9749-b940d3b9d704" action="json" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>action=&apos;setJsonValue&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/testCases/\\\\[[tc_index]]/parameters/[param_name]/[param_child_name]&quot;:&quot;[param_child_value]&quot;}&apos;</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                                                        <action inherit="false">setJsonValue</action>
                                                                                                        <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/testCases/\\[[tc_index]]/parameters/[param_name]/[param_child_name]&quot;:&quot;[param_child_value]&quot;}</pathValue>
                                                                                                        <documentName inherit="false">run_data</documentName>
                                                                                                    </applicationProperties>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="741544e3-eeeb-4c63-b4c9-ccd90073684b" action="else" useFieldsInCommand="false">
                                                                                            <nestedSteps>
                                                                                                <item guid="78ed2960-2a4f-4cad-980f-e501e251e680" action="json" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/testCases/\\\\[[tc_index]]/parameters/[param_name]/&quot;:{&quot;[param_child_name]&quot;:&quot;[param_child_value]&quot;}}&apos;</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                                                        <action inherit="false">addJsonNode</action>
                                                                                                        <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/testCases/\\[[tc_index]]/parameters/[param_name]/&quot;:{&quot;[param_child_name]&quot;:&quot;[param_child_value]&quot;}}</pathValue>
                                                                                                        <documentName inherit="false">run_data</documentName>
                                                                                                    </applicationProperties>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="b3afc577-97fb-4983-b6e8-6517b3a657e7" action="break" useFieldsInCommand="false">
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="3f095033-218f-4e53-a12c-b0d669e7159c" action="else" useFieldsInCommand="false">
                                                            <nestedSteps>
                                                                <item guid="8787b7e5-06f8-4949-9bb8-c336fbb54c03" action="continue" useFieldsInCommand="false">
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="f3f1d04a-a0d9-43e6-948e-1eaecc6ae2ef" action="return">
                    <command>
                        <body>[run_data]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="run_data">
                    <description>JSON Object to run a test session.</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="configured_parameters">
                    <description>JSON Object of LS parameters</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="test_session_info">
                    <description>Test session object.</description>
                </item>
            </arguments>
            <response>{}</response>
        </item>
        <item name="cleanup" isPublic="true">
            <steps>
                <item guid="a22edf72-fe34-4c7b-9618-e4b15e5479f4" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Cleanup: Stop node test if B2B</body>
                    </command>
                    <nestedSteps>
                        <item guid="43b8ff9e-711d-4031-b7e5-636675e9d798" action="if" useFieldsInCommand="false">
                            <command>
                                <body>is_b2b == &quot;true&quot; and running_node_id:</body>
                            </command>
                            <nestedSteps>
                                <item guid="f04f8950-0ff9-4211-9103-227663cc15b9" action="StopRunningTest" session="[session]">
                                    <command>
                                        <body>-runningTestId [running_node_id]</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="contains">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                        <searchString>Error</searchString>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>value == 1</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                    <message>Can&apos;t stop test id: [running_node_id]</message>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="SkipRemainingRules">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenTrue>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>name()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="message">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                        <message>&quot;{value}&quot; is stopping</message>
                                                        <tag sub="false" defaultValue=""/>
                                                    </ruleProperties>
                                                </processorInfo>
                                                <skip>true</skip>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="StopRunningTest" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" runningTestId="[running_node_id]" runningTestId.inherit="false"/>
                                </item>
                                <item guid="2b4b1fcc-dfaf-40b6-81bf-826aa0fb3a6d" action="waiting_for_test_get_expected_state" session="[session]" useFieldsInCommand="false">
                                    <command>
                                        <body>-running_test_id [running_node_id] -expected_state COMPLETE -time_out [timeout]</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>responseLine()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>final_state</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="64f89c23-02ec-4143-b1ba-628c1151c92d" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>final_state != &quot;COMPLETE&quot;:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="fa9bfb54-4bba-4b9a-8beb-c1fe2d29afbe" action="AbortRunningTest" session="[session]">
                                            <command>
                                                <body>-runningTestId [running_node_id]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="AbortRunningTest" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" runningTestId="[running_node_id]" runningTestId.inherit="false"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="64f3ab7f-3386-4c05-9a0c-d3fdfc4f2e55" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Remove all running Test Sessions</body>
                    </command>
                    <nestedSteps>
                        <item guid="ceac64d8-4005-4ec5-8e6f-c0294d19755d" action="if" useFieldsInCommand="false">
                            <command>
                                <body>remove_running_test == &quot;true&quot;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="a7a5962f-4825-4499-b9fd-5a0e02fdebba" action="for" useFieldsInCommand="false">
                                    <command>
                                        <body>id in nodal_running_id_list:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="ba10c875-88a6-49e4-b3b5-988a4619b2e7" action="Custom" session="[session]">
                                            <command>
                                                <body>-requestMethod DELETE -dataType json -url runningtests/[id]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" requestMethod="DELETE" requestMethod.inherit="false" url="runningtests/[id]" url.inherit="false"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="567af3f7-11c1-4e03-968d-82c6db917564" action="for" useFieldsInCommand="false">
                                    <command>
                                        <body>id in node_running_id_list:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="a6d26b9d-a0b9-40d7-9629-a78f1ef85f21" action="Custom" session="[session]">
                                            <command>
                                                <body>-requestMethod DELETE -dataType json -url runningtests/[id]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" requestMethod="DELETE" requestMethod.inherit="false" url="runningtests/[id]" url.inherit="false"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="running_node_id">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="is_b2b">
                    <defaultValue>true</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="timeout">
                    <defaultValue>180</defaultValue>
                </item>
                <item name="remove_running_test">
                    <defaultValue>false</defaultValue>
                </item>
                <item name="node_running_id_list"/>
                <item name="nodal_running_id_list"/>
            </arguments>
        </item>
        <item name="configure_sessions_subscriber" isPublic="true">
            <steps>
                <item guid="7be758a6-fd50-4558-b6fb-81d3d5d76df7" action="if" useFieldsInCommand="false">
                    <command>
                        <body>&apos;session_capacity&apos; in locals() and session_capacity:</body>
                    </command>
                    <nestedSteps>
                        <item guid="9a12a9db-e36e-45c1-9dbf-c3f1891e08ff" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>sessions_number = int(session_capacity)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="e415f2a9-5e57-4934-908a-7aa90b5169b5" action="else" useFieldsInCommand="false">
                    <nestedSteps>
                        <item guid="573d3108-1693-4232-875d-c9149ebc437b" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>sessions_number = &quot;&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="d2f535b0-8c85-4644-b68d-7d2c13a2c4bb" action="if" useFieldsInCommand="false">
                    <command>
                        <body>&apos;targeted_end_rate&apos; in locals() and targeted_end_rate:</body>
                    </command>
                    <nestedSteps>
                        <item guid="d6ff62ce-082c-4201-a9d0-40cc45d5db37" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>start_rate = int(targeted_end_rate)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="77426b9a-923c-4900-a278-f3ecfccbec98" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>disconnect_rate = start_rate</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="2e8b6d0c-7668-4d54-8154-b0ba7158633a" action="else" useFieldsInCommand="false">
                    <nestedSteps>
                        <item guid="5a702e5a-2651-4909-9e59-66de644859cf" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>start_rate = &quot;&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="79c91982-22f1-49be-8a98-aa60a5e99920" action="if" useFieldsInCommand="false">
                    <command>
                        <body>not sessions_number and not start_rate:</body>
                    </command>
                    <nestedSteps>
                        <item guid="77e001cd-ebdd-4bd4-b1d0-729148cfc508" action="return">
                            <command>
                                <body>[run_data]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="c515de88-171d-4a19-b5ac-7feba4c732c4" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>print(run_data)</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>count(mapped/Json/tsGroups/item)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>group_count</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="4713f053-2635-478c-852a-33e337c9a927" action="for" useFieldsInCommand="false">
                    <command>
                        <body>group_index in range(0, int(group_count)):</body>
                    </command>
                    <nestedSteps>
                        <item guid="3a7170ba-171a-45bc-8163-afb82e99ab92" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/testCases&quot;}&apos;</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/testCases/item)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>testcase_count</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>testcase_info</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">getJsonNode</action>
                                <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/testCases&quot;}</pathValue>
                                <documentName inherit="false">run_data</documentName>
                            </applicationProperties>
                        </item>
                        <item guid="4ee58a2b-71eb-4502-b86a-c7cb0f3e5205" action="for" useFieldsInCommand="false">
                            <command>
                                <body>testcase_index in range(0, int(testcase_count)):</body>
                            </command>
                            <nestedSteps>
                                <item guid="177b4f45-2e1f-4bae-8c77-03c0363ada20" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;testcase_info&apos;, pathValue=&apos;{&quot;testCases/\\\\[[testcase_index]]/parameters&quot;}&apos;</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>count(mapped/Json/parameters/Sessions)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>int(value) &gt; 0</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>is_sessions_exist = True</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>is_sessions_exist = False</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>count(mapped/Json/parameters/StartRate)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>int(value) &gt; 0</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>is_startrate_exist = True</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>is_startrate_exist = False</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>count(mapped/Json/parameters/DisconnectRate)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>int(value) &gt; 0</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>is_disconnectrate_exist = True</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>is_disconnectrate_exist = False</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <storeResponseAt>parameter_info</storeResponseAt>
                                        <storeResponseText>true</storeResponseText>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">getJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;testCases/\\[[testcase_index]]/parameters&quot;}</pathValue>
                                        <documentName inherit="false">testcase_info</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="642f447c-883c-4fc7-8f89-8ae20713c771" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>is_sessions_exist and sessions_number:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="49f82857-eec2-4da7-8c4b-8a52f51ffb17" action="json" useFieldsInCommand="false">
                                            <command>
                                                <body>action=&apos;setJsonValue&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/testCases/\\\\[[testcase_index]]/parameters/Sessions&quot;:&quot;[sessions_number]&quot;}&apos;</body>
                                            </command>
                                            <postProcessing>
                                                <storeResponseAt>run_data</storeResponseAt>
                                                <storeResponseText>true</storeResponseText>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                <action inherit="false">setJsonValue</action>
                                                <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/testCases/\\[[testcase_index]]/parameters/Sessions&quot;:&quot;[sessions_number]&quot;}</pathValue>
                                                <documentName inherit="false">run_data</documentName>
                                            </applicationProperties>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="8316d2a6-a442-4c84-a7e6-c15f6f4b500e" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>is_startrate_exist and start_rate:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="4b5ad7ca-19a6-4d15-a45e-72dc30eb09ef" action="json" useFieldsInCommand="false">
                                            <command>
                                                <body>action=&apos;setJsonValue&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/testCases/\\\\[[testcase_index]]/parameters/StartRate&quot;:&quot;[start_rate]&quot;}&apos;</body>
                                            </command>
                                            <postProcessing>
                                                <storeResponseAt>run_data</storeResponseAt>
                                                <storeResponseText>true</storeResponseText>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                <action inherit="false">setJsonValue</action>
                                                <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/testCases/\\[[testcase_index]]/parameters/StartRate&quot;:&quot;[start_rate]&quot;}</pathValue>
                                                <documentName inherit="false">run_data</documentName>
                                            </applicationProperties>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="b8a2c4b5-5d54-452f-8711-44ba622dbf6e" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>is_disconnectrate_exist and start_rate:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="4ce7f15f-cd7b-47b7-b1f0-7d7987492f0b" action="json" useFieldsInCommand="false">
                                            <command>
                                                <body>action=&apos;setJsonValue&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/testCases/\\\\[[testcase_index]]/parameters/DisconnectRate&quot;:&quot;[disconnect_rate]&quot;}&apos;</body>
                                            </command>
                                            <postProcessing>
                                                <storeResponseAt>run_data</storeResponseAt>
                                                <storeResponseText>true</storeResponseText>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                <action inherit="false">setJsonValue</action>
                                                <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/testCases/\\[[testcase_index]]/parameters/DisconnectRate&quot;:&quot;[disconnect_rate]&quot;}</pathValue>
                                                <documentName inherit="false">run_data</documentName>
                                            </applicationProperties>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="216288ea-9ffb-4d83-8345-a7ec2b0b1e1c" action="return">
                    <command>
                        <body>[run_data]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="run_data">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="session_capacity"/>
                <item name="targeted_end_rate"/>
            </arguments>
        </item>
        <item name="configure_tc_parameters_from_LS_params" isPublic="true">
            <steps>
                <item guid="1efcf029-0ca5-4d57-8b1e-9921d849cd9f" action="if" useFieldsInCommand="false">
                    <command>
                        <body>&apos;test_session_name&apos; in locals() and test_session_name:</body>
                    </command>
                    <nestedSteps>
                        <item guid="06ca0a00-9f4d-48e8-8a8a-083b97b8b6a7" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Get Test Session Data</body>
                            </command>
                            <nestedSteps>
                                <item guid="5ed45365-d7ec-4885-8a57-14be1aebb3b6" action="Custom" session="[session]">
                                    <command>
                                        <body>-requestMethod GET -dataType json -rawResponse true -url libraries/[library_id]/TestSessions/[test_session_name]</body>
                                    </command>
                                    <postProcessing>
                                        <storeResponseAt>test_session_info</storeResponseAt>
                                        <storeResponseText>true</storeResponseText>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" rawResponse="true" rawResponse.inherit="false" url="libraries/[library_id]/TestSessions/[test_session_name]" url.inherit="false"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="0943404c-0202-4dbe-aea9-b86a46542028" action="else" useFieldsInCommand="false">
                    <nestedSteps>
                        <item guid="fdd955b7-d92f-4e9e-b3f6-8b1f010702cd" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;name&quot;}&apos;</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>name()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>test_session_name</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">getJsonNode</action>
                                <pathValue inherit="false">{&quot;name&quot;}</pathValue>
                                <documentName inherit="false">run_data</documentName>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="e273ddd8-8c9e-422f-9fba-66b2f9d46cfa" action="if" useFieldsInCommand="false">
                    <command>
                        <body>isinstance(param_group_names, str):</body>
                    </command>
                    <nestedSteps>
                        <item guid="8ceb1c30-34eb-40b8-9639-00a1f819015a" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>group_name_list = param_group_names.split(&quot;;&quot;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="b81aaf49-4fac-46c8-b4ce-8cfbde76eef8" action="elif" useFieldsInCommand="false">
                    <command>
                        <body>isinstance(param_group_names, list):</body>
                    </command>
                    <nestedSteps>
                        <item guid="a90fded2-1ae8-42ae-90f2-a2a410f020bd" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>group_name_list = param_group_names</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="f2abf77f-5e1e-41c8-af34-d4676f70c9b6" action="else" useFieldsInCommand="false">
                    <nestedSteps>
                        <item guid="e192e026-6f68-41bc-bf13-f8ac1b4c3d81" action="message">
                            <command>
                                <body>Warning:Invalid argument \\&quot;param_group_names\\&quot;: \\&quot;\\[param_group_names]\\&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                <severity inherit="false">Warning</severity>
                                <message inherit="false">Invalid argument &quot;param_group_names&quot;: &quot;[param_group_names]&quot;</message>
                            </applicationProperties>
                        </item>
                        <item guid="e6cefdfb-708f-40e7-b14d-aa4e4e7d814a" action="return">
                            <command>
                                <body>[run_data]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="d010d8d0-a2c8-4c82-96bb-94a0e6502edb" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>names = &quot;, &quot;.join(group_name_list)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="aa4c9d4f-9792-42b8-9cbd-9a65a2a89f70" action="message" useFieldsInCommand="false">
                    <command>
                        <body>Information:Apply &quot;[names]&quot; parameters to Test Session &quot;[test_session_name]&quot;:</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                        <message inherit="false">Apply &quot;[names]&quot; parameters to Test Session &quot;[test_session_name]&quot;:</message>
                    </applicationProperties>
                </item>
                <item guid="c74fa8d0-e127-4241-852f-819cb78eef40" action="for" useFieldsInCommand="false">
                    <command>
                        <body>parameter_group_name in group_name_list:</body>
                    </command>
                    <nestedSteps>
                        <item guid="d90f3d03-c7d4-459e-98de-dbd230d6831c" action="if" useFieldsInCommand="false">
                            <command>
                                <body>parameter_group_name == &quot;LS_params&quot;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="5080730d-6983-451c-8f32-407fb7429c91" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>create_mode = &quot;true&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="af35a0a0-636f-41ec-836b-52f229495352" action="else" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="385db1a4-edb1-44ed-8576-dc457cc5061d" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>create_mode = &quot;false&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="d9c8fde7-6234-4b0a-aee4-d96b5240144d" action="get_parameters_from_group" session="[session]" useFieldsInCommand="false">
                            <command>
                                <body>-parameter_group_name [parameter_group_name]</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>configured_parameters</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="1199bce3-a870-485c-8d97-c4631680df98" action="apply_configured_tc_parameters" session="[session]" useFieldsInCommand="false">
                            <command>
                                <body>-run_data [run_data] -configured_parameters [configured_parameters] -test_session_info [test_session_info] -create_mode [create_mode] -group_name [parameter_group_name]</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>run_data</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="7905cbb3-ff8b-4858-8e93-5ee00bf1cb3c" action="return">
                    <command>
                        <body>[run_data]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="run_data">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="library_id"/>
                <item name="test_session_name"/>
                <item name="test_session_info"/>
                <item name="param_group_names">
                    <defaultValue>LS_Nodal_favorite_params;LS_params</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{}</response>
        </item>
        <item name="configure_test_session" isPublic="true">
            <steps>
                <item guid="07089494-d44a-4b72-90e0-bb7bef17818d" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Print run data and save it</body>
                    </command>
                    <nestedSteps>
                        <item guid="a297cb09-8293-4756-8828-71cac15a9271" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(run_data)</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>responseLine()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>current_data</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>current_data_xml</storeResponseAt>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="b104f30b-e1d6-43a6-a599-f8d2adc7b6db" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Print ts groups</body>
                    </command>
                    <nestedSteps>
                        <item guid="99b2b219-6161-4a4e-ad29-f6b6f5e1da4b" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(ts_groups)</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>ts_group_xml</storeResponseAt>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="dd1ee690-49c7-49a7-be2d-dc09e5a5eba0" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Update reservations</body>
                    </command>
                    <nestedSteps>
                        <item guid="ac88e916-ad9e-4574-8f67-c8e2304e50e8" action="update_reservations" session="[session]" useFieldsInCommand="false">
                            <command>
                                <body>-run_data [run_data]</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>run_data</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="9034b71f-0258-498d-bb9d-d79e197f419c" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Get reservations and get reservations port number</body>
                    </command>
                    <nestedSteps>
                        <item guid="7848b349-6324-4eec-95e6-44c919dcbaa6" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(run_data)</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/tsGroups/item)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>group_count</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>reservations()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>reservations</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/portCapture)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>int(value) &gt; 0</expression>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>ports_capture = &quot;&quot;</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>portCapture()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>ports_capture</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>rundata_xml</storeResponseAt>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="5faf18a6-8b59-4759-b759-048d30b30234" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>sut_ips = []</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="4c049795-42c9-4d49-af5d-f32d53a3fd82" action="for" useFieldsInCommand="false">
                            <command>
                                <body>group_index in range(0, int(group_count)):</body>
                            </command>
                            <nestedSteps>
                                <item guid="d3fc623c-2b36-4e9c-a621-d63c7d1cb92c" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Get TS information and Assign TS group for test session</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="dbcc5193-682b-4885-aaf6-d228343c2e63" action="json" useFieldsInCommand="false">
                                            <command>
                                                <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/tsId&quot;}&apos;</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>tsId()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>old_ts_id</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                <action inherit="false">getJsonNode</action>
                                                <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/tsId&quot;}</pathValue>
                                                <documentName inherit="false">run_data</documentName>
                                            </applicationProperties>
                                        </item>
                                        <item guid="8bb0a44c-fa25-4ef1-9b92-20ab6aa84753" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>query_path = &apos;boolean(mapped/Json/reservations/item[tsId = &quot;{0}&quot;])&apos;.format(old_ts_id)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="16722bee-13ff-4bab-b5ef-d5c1a17ab40b" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>is_reservation_contains_ts = query(&apos;rundata_xml&apos;,query_path);print(is_reservation_contains_ts)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="ff64658e-a3e9-4c74-bc87-ed0750150ea8" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>is_reservation_contains_ts == &quot;false&quot;:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="0b92387c-e742-401f-b1a5-b9ed29e84210" action="execute_fail_message" session="[session]" useFieldsInCommand="false">
                                                    <command>
                                                        <body>-should_exit true -message &quot;Run data has problem. Value: [run_data]&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="5537793c-fd27-4d09-bdb1-b66105e40113" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>query_path = &apos;count(mapped/Json/reservations/item[tsId = &quot;{0}&quot;]/preceding-sibling::*)&apos;.format(old_ts_id)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="b8ce6dc4-436a-41c0-a0a6-4c3314eed8ae" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>reservations_index = query(&apos;rundata_xml&apos;,query_path);print(reservations_index)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="58a777ec-4903-4929-bd53-5a99b5e68e00" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>ts_name:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="60d5e7ec-557f-4413-bfa9-fe666953a0b4" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>print(ts_groups)</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query sub="true">mapped/Json/item\\[ts_param_name=&apos;[ts_name]&apos;]/TS_ID</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>ts_id</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="c2c9abf8-2a98-4ce6-bb73-76c1529f33de" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>&apos;ts_id&apos; not in locals():</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="a9836b0f-308f-4cd7-af29-3f504c356da3" action="get_ts_id_for_reservation" session="[session]" useFieldsInCommand="false">
                                                    <command>
                                                        <body>-reservations [reservations] -reservation_index [reservations_index] -ts_groups [ts_groups]</body>
                                                    </command>
                                                    <postProcessing>
                                                        <storeResponseAt>ts_id</storeResponseAt>
                                                        <storeResponseText>true</storeResponseText>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="43b4d07c-90fd-48dd-b15a-3b46179122a0" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>&apos;ts_id&apos; not in locals() or ts_id == &quot;-1&quot;:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="61617283-54bf-47df-8603-8a0c371d9f91" action="execute_fail_message" session="[session]" useFieldsInCommand="false">
                                                    <command>
                                                        <body>-message &quot;TS doesn&apos;t have enough ports&quot; -should_exit &quot;true&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="2c223dae-a781-4292-9492-c0586538ca60" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Set is_reserve for TS group to avoid assign same TS</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="07b0181d-20fd-4c27-8e7d-596100e2c667" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>query_path = &apos;count(mapped/Json/item[TS_ID = &quot;{0}&quot;]/preceding-sibling::*)&apos;.format(ts_id)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="387af2e9-7de5-45ab-9b84-a7b6c1feed0a" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>ts_used_index = query(&apos;ts_group_xml&apos;,query_path);print(ts_used_index)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="ecbb2e79-d505-44b9-807b-f7e32b1e92ce" action="json" useFieldsInCommand="false">
                                                    <command>
                                                        <body>action=&apos;setJsonValue&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;ts_groups&apos;, pathValue=&apos;{&quot;\\\\[[ts_used_index]]/is_reserve&quot;:true}&apos;</body>
                                                    </command>
                                                    <postProcessing>
                                                        <storeResponseAt>ts_groups</storeResponseAt>
                                                        <storeResponseText>true</storeResponseText>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                        <action inherit="false">setJsonValue</action>
                                                        <pathValue inherit="false" sub="true">{&quot;\\[[ts_used_index]]/is_reserve&quot;:true}</pathValue>
                                                        <documentName inherit="false">ts_groups</documentName>
                                                    </applicationProperties>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="9d69b4e4-16c6-4a62-a691-76cdfa4218cb" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Get TS information</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="910a8cb3-3a39-4c06-9075-d6de707ebfcc" action="json" useFieldsInCommand="false">
                                                    <command>
                                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;ts_groups&apos;, pathValue=&apos;{&quot;\\\\[[ts_used_index]]/ports&quot;}&apos;</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>count(mapped/Json/ports/item)</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="assert">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                        <expression>int(value) &gt; 0</expression>
                                                                        <actionsWhenFalse>
                                                                            <item actionId="SkipRemainingRules">
                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            </item>
                                                                        </actionsWhenFalse>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>ports()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>eth_info</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>count(mapped/Json/ports/item)</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>eth_count</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                        <storeResponseAt>ts_ports_xml</storeResponseAt>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                        <action inherit="false">getJsonNode</action>
                                                        <pathValue inherit="false" sub="true">{&quot;\\[[ts_used_index]]/ports&quot;}</pathValue>
                                                        <documentName inherit="false">ts_groups</documentName>
                                                    </applicationProperties>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="f49b5299-4070-41d1-bd54-d4aef503e37c" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Get new port list to map ports in test session</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="2a2cf793-e76f-47c0-a8fa-9893ead3d589" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>eth_mapping = []</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="2b8017a6-1918-4682-866d-7aa32f0cd510" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Assign TS ID for testcase and reservations</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="c7715e7d-c9b3-4ac9-a944-d7d98fbe0713" action="json" useFieldsInCommand="false">
                                                    <command>
                                                        <body>action=&apos;setJsonValue&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/tsId&quot;:&quot;[ts_id]&quot;}&apos;</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>mapped/Json/name</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>test_name</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                        <action inherit="false">setJsonValue</action>
                                                        <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/tsId&quot;:&quot;[ts_id]&quot;}</pathValue>
                                                        <documentName inherit="false">run_data</documentName>
                                                    </applicationProperties>
                                                </item>
                                                <item guid="0889be80-5ee9-4f37-b43c-67eab8f39ad5" action="json" useFieldsInCommand="false">
                                                    <command>
                                                        <body>action=&apos;setJsonValue&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;reservations/\\\\[[reservations_index]]/tsId&quot;:&quot;[ts_id]&quot;}&apos;</body>
                                                    </command>
                                                    <postProcessing>
                                                        <storeResponseAt>run_data</storeResponseAt>
                                                        <storeResponseText>true</storeResponseText>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                        <action inherit="false">setJsonValue</action>
                                                        <pathValue inherit="false" sub="true">{&quot;reservations/\\[[reservations_index]]/tsId&quot;:&quot;[ts_id]&quot;}</pathValue>
                                                        <documentName inherit="false">run_data</documentName>
                                                    </applicationProperties>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="447b2224-1f6e-47b4-b42d-92e3fcd94cc8" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Reserve port on TS for Test Session Reservation</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="ab81e677-e634-4765-8a35-390688a5c118" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Configure eth for reservations</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="73538c5f-0a06-426d-9e9f-150a35fb99a3" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>port_reserve_list = []</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="6369b51f-d493-4d93-b8d4-3e439244800c" action="json" useFieldsInCommand="false">
                                                            <command>
                                                                <body>action=&apos;createJson&apos;, documentName=&apos;new_phy_info&apos;, fromFile=&apos;false&apos;, jsonString=&apos;[]&apos;</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                <action inherit="false">createJson</action>
                                                                <jsonString inherit="false">[]</jsonString>
                                                                <documentName inherit="false">new_phy_info</documentName>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="984d0b99-a287-416d-8d93-740187a06e7e" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>array_index = 0</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="74e1ec0b-dce2-411c-8176-425f43187898" action="for" useFieldsInCommand="false">
                                                            <command>
                                                                <body>port_i in range(int(eth_count)):</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="5ffeebd6-d1e8-45c0-9df8-3efba28653bc" action="json" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;eth_info&apos;, pathValue=&apos;{&quot;\\\\[[port_i]]&quot;}&apos;</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <analysisRules>
                                                                            <item>
                                                                                <extractorInfo extractorType="query">
                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                        <query>phyname()</query>
                                                                                    </extractorProperties>
                                                                                </extractorInfo>
                                                                                <processorInfo ruleType="store">
                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                        <storageLocation>phy_name</storageLocation>
                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                    </ruleProperties>
                                                                                </processorInfo>
                                                                            </item>
                                                                        </analysisRules>
                                                                        <storeResponseAt>ts_port_xml</storeResponseAt>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                        <action inherit="false">getJsonNode</action>
                                                                        <pathValue inherit="false" sub="true">{&quot;\\[[port_i]]&quot;}</pathValue>
                                                                        <documentName inherit="false">eth_info</documentName>
                                                                    </applicationProperties>
                                                                </item>
                                                                <item guid="837671f4-3585-4dd1-9ec0-fe6749c27c1b" action="comment" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>Check phy name v4</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="e02e96c2-5844-4bbf-a4be-9dea0101965d" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>query_path = &apos;boolean(mapped/Json/tsGroups/item[{0}]/testCases/item/parameters/*/phy = &quot;{1}&quot;)&apos;.format(group_index + 1, phy_name)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="9fe533a7-09df-491d-8c20-9e28c0696d80" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>is_phy_name_used = query(&apos;rundata_xml&apos;,query_path);print(is_phy_name_used)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="c087dcab-dd89-4477-8992-391f97711b39" action="if" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>is_phy_name_used == &quot;true&quot;:</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="2aa02046-df07-4869-b0df-86f185de313c" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>query_path = &apos;mapped/Json/ipv4Address&apos;</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="97a9e84a-6da2-4db6-968e-569fafe33d47" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>ipv4_address = query(&apos;ts_port_xml&apos;,query_path);print(ipv4_address)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="1c8fd3d2-030f-4bfd-97d3-878df408d29b" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>query_path = &apos;mapped/Json/ipv4mask&apos;</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="52ad2c3b-e317-4330-a8f3-d1cfe94a3fae" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>ipv4_mask = query(&apos;ts_port_xml&apos;,query_path);print(ipv4_mask)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="92912b06-8144-4d3f-a7b3-8dc1c43bdfb1" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>query_path = &apos;mapped/Json/ipv4NumNode&apos;</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="1bde075b-60e9-4300-9565-64858c8a4eb9" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>ipv4_num_node = query(&apos;ts_port_xml&apos;,query_path);print(ipv4_num_node)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="9d1120bf-380d-4bd7-befd-4ac393f56978" action="json" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>action=&apos;createJson&apos;, documentName=&apos;phy_info&apos;, fromFile=&apos;false&apos;, jsonString=&apos;{&quot;name&quot;:&quot;[phy_name]&quot;,&quot;numIps&quot;:&quot;[ipv4_num_node]&quot;,&quot;base&quot;:&quot;[ipv4_address]&quot;,&quot;mask&quot;:&quot;[ipv4_mask]&quot;}&apos;</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                                        <action inherit="false">createJson</action>
                                                                                        <jsonString inherit="false" sub="true">{&quot;name&quot;:&quot;[phy_name]&quot;,&quot;numIps&quot;:&quot;[ipv4_num_node]&quot;,&quot;base&quot;:&quot;[ipv4_address]&quot;,&quot;mask&quot;:&quot;[ipv4_mask]&quot;}</jsonString>
                                                                                        <documentName inherit="false">phy_info</documentName>
                                                                                    </applicationProperties>
                                                                                </item>
                                                                                <item guid="e5de7d65-c3f3-4926-acc6-45120e5aa854" action="json" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;new_phy_info&apos;, pathValue=&apos;{&quot;\\\\[[array_index]]&quot;:[phy_info]}&apos;</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                                        <action inherit="false">addJsonNode</action>
                                                                                        <pathValue inherit="false" sub="true">{&quot;\\[[array_index]]&quot;:[phy_info]}</pathValue>
                                                                                        <documentName inherit="false">new_phy_info</documentName>
                                                                                    </applicationProperties>
                                                                                </item>
                                                                                <item guid="85fe9adf-10e8-46d0-9b97-a83acf41fe13" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>array_index += 1</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="62db961f-1e1d-40f6-a065-22648fb16cb6" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>port_reserve_list.append(phy_name)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="76379baa-5594-4305-a7e6-80cdc0496d11" action="comment" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>Check phy name v6</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="23a84f45-11fc-4260-904e-dfcb72ca4056" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>phy_name += &quot;v6&quot;</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="ca6151fa-fb03-4780-95e6-8f097ac3390c" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>query_path = &apos;boolean(mapped/Json/tsGroups/item[{0}]/testCases/item/parameters/*/phy = &quot;{1}&quot;)&apos;.format(group_index + 1, phy_name)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="ad7dbfc6-8b35-4820-bcb3-bbbe6fe490fd" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>is_phy_name_used = query(&apos;rundata_xml&apos;,query_path);print(is_phy_name_used)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="2f9760b9-89e1-4f4f-bc0e-5fabc96f5e26" action="if" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>is_phy_name_used == &quot;true&quot;:</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="9fe7cdd1-d02d-4076-9888-3953d9375fd1" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>query_path = &apos;mapped/Json/ipv6Address&apos;</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="6767a50b-71c9-48a7-986a-65c26d24a418" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>ipv6_address = query(&apos;ts_port_xml&apos;,query_path);print(ipv6_address)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="e6de3d61-e66b-4f47-a871-e46735f8cf3b" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>query_path = &apos;mapped/Json/ipv6mask&apos;</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="5fb9c0e1-1062-46df-b2a7-9363d69cb9b2" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>ipv6_mask = query(&apos;ts_port_xml&apos;,query_path);print(ipv6_mask)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="2d01309c-066a-422b-b8b5-ce83c939e0f6" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>query_path = &apos;mapped/Json/ipv6NumNode&apos;</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="cbfaebbb-b776-4ffb-ab59-467714a20e18" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>ipv6_num_node = query(&apos;ts_port_xml&apos;,query_path);print(ipv6_num_node)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="55898bba-989e-4f96-b86b-dc1f2c8ce745" action="json" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>action=&apos;createJson&apos;, documentName=&apos;phy_info&apos;, fromFile=&apos;false&apos;, jsonString=&apos;{&quot;name&quot;:&quot;[phy_name]&quot;,&quot;numIps&quot;:&quot;[ipv6_num_node]&quot;,&quot;base&quot;:&quot;[ipv6_address]&quot;,&quot;mask&quot;:&quot;[ipv6_mask]&quot;}&apos;</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                                        <action inherit="false">createJson</action>
                                                                                        <jsonString inherit="false" sub="true">{&quot;name&quot;:&quot;[phy_name]&quot;,&quot;numIps&quot;:&quot;[ipv6_num_node]&quot;,&quot;base&quot;:&quot;[ipv6_address]&quot;,&quot;mask&quot;:&quot;[ipv6_mask]&quot;}</jsonString>
                                                                                        <documentName inherit="false">phy_info</documentName>
                                                                                    </applicationProperties>
                                                                                </item>
                                                                                <item guid="88abace6-ba95-4024-8fc3-ca4841680e0c" action="json" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;new_phy_info&apos;, pathValue=&apos;{&quot;\\\\[[array_index]]&quot;:[phy_info]}&apos;</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                                        <action inherit="false">addJsonNode</action>
                                                                                        <pathValue inherit="false" sub="true">{&quot;\\[[array_index]]&quot;:[phy_info]}</pathValue>
                                                                                        <documentName inherit="false">new_phy_info</documentName>
                                                                                    </applicationProperties>
                                                                                </item>
                                                                                <item guid="80d4aca4-ae2c-4fa2-95df-939a02ae1f2d" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>array_index += 1</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="13f6e801-e972-4f7e-8c5a-8a20895ba8d1" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>port_reserve_list.append(phy_name)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="3afd9a45-310b-40ff-82a6-46ecb673709a" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>print(new_phy_info)</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>count(mapped/Json/item)</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>new_phy_count</storageLocation>
                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="ee45d1f0-de7f-44e2-9d86-423a9d4515d3" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>query_path = &apos;count(mapped/Json/reservations/item[{0}]/phySubnets/item)&apos;.format(int(reservations_index) + 1)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="9476d972-7555-4b15-b948-7c9e19635220" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>reservation_port_count = query(&apos;rundata_xml&apos;,query_path);print(reservation_port_count)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="9a07e4c6-b871-4ef9-b050-d23093b1fb7c" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>int(new_phy_count) &gt; int(reservation_port_count):</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="18270897-572a-471c-8374-419e7a4d84d9" action="message" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>Error:Test Session required [new_phy_count] ports, but reservation only reserves [reservation_port_count] ports. Please correct the Test Session on Landslide</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                        <severity inherit="false">Error</severity>
                                                                        <message inherit="false">Test Session required [new_phy_count] ports, but reservation only reserves [reservation_port_count] ports. Please correct the Test Session on Landslide</message>
                                                                    </applicationProperties>
                                                                </item>
                                                                <item guid="12f881a0-1b99-451b-9089-88d75fbada28" action="exit" useFieldsInCommand="false">
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="6d8fb8c4-9632-485f-83b6-922efc4ddbf5" action="elif" useFieldsInCommand="false">
                                                            <command>
                                                                <body>int(new_phy_count) &lt; int(reservation_port_count):</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="aabddf0a-b5a3-4719-8c60-5ee700dcbac1" action="for" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>port_i in range(int(new_phy_count), int(reservation_port_count)):</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="d5db07fb-c690-4558-840a-6684a7282bda" action="json" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;new_phy_info&apos;, pathValue=&apos;{&quot;\\\\[[array_index]]&quot;:{}}&apos;</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                                <action inherit="false">addJsonNode</action>
                                                                                <pathValue inherit="false" sub="true">{&quot;\\[[array_index]]&quot;:{}}</pathValue>
                                                                                <documentName inherit="false">new_phy_info</documentName>
                                                                            </applicationProperties>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="fd3c2181-70ac-47fe-bc16-8c0fb494a6d8" action="json" useFieldsInCommand="false">
                                                            <command>
                                                                <body>action=&apos;setJsonValue&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;reservations/\\\\[[reservations_index]]/phySubnets&quot;:[new_phy_info]}&apos;</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                <action inherit="false">setJsonValue</action>
                                                                <pathValue inherit="false" sub="true">{&quot;reservations/\\[[reservations_index]]/phySubnets&quot;:[new_phy_info]}</pathValue>
                                                                <documentName inherit="false">run_data</documentName>
                                                            </applicationProperties>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="dc9e70ed-392f-453b-b972-83dc03db1430" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Update mapping port list</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="c588f3c3-cb34-4121-8a0a-99bfff329218" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>print(new_phy_info)</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>count(mapped/Json/item)</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>new_eth_count</storageLocation>
                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                                <storeResponseAt>new_phy_xml</storeResponseAt>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="109f3a55-d7e5-4bb3-9240-de1dfaa61995" action="for" useFieldsInCommand="false">
                                                            <command>
                                                                <body>new_phy_i in range(1, int(new_eth_count) + 1):</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="c0b458e8-10b6-4e15-adc5-8f9fa1bb2739" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>query_path = &apos;mapped/Json/item[{0}]/name&apos;.format(new_phy_i)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="7aa8f735-a2c4-47c3-9cc7-fb19d720e749" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>new_name = query(&apos;new_phy_xml&apos;,query_path);print(new_name)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="b94c62e4-ce17-4de5-b305-5300457182c4" action="if" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>new_name:</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="4f0cc080-0754-40f7-8b00-f4fda0078724" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>query_path = &apos;mapped/Json/reservations/item[{0}]/phySubnets/item[{1}]/name&apos;.format(int(reservations_index) + 1, new_phy_i)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="687649bd-b864-4866-9ae0-1cf6bd26bee8" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>current_name = query(&apos;current_data_xml&apos;,query_path);print(current_name)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="807787a1-bdf8-4746-970d-a0c0ac5ac947" action="if" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>current_name and current_name != new_name:</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="cc31d5ea-e27c-440f-92e3-3824c0b99ade" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>eth_mapping.append(current_name + &quot; &quot; + new_name)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="b45ad3c2-69a6-4fbd-b0f7-f8deb28aacbd" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Configure eth for nodes and apply SUT parameter</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="c24effd0-798c-43c2-91e1-92d58742590c" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>gr_index = group_index + 1</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="9ae16c6a-26e2-4ac1-a1d4-d10c60117dbb" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>query_count = &apos;count(mapped/Json/tsGroups/item[{0}]/testCases/item)&apos;.format(str(gr_index))</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="8902f52c-e7b2-4eb6-8b15-8e02fe184fcf" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>tc_count = query(&apos;rundata_xml&apos;,query_count);print(tc_count)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="3e29a110-fddd-4c0f-b2e9-893fd39cd3fe" action="for" useFieldsInCommand="false">
                                                            <command>
                                                                <body>tc_index in range(0, int(tc_count)):</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="2c6d1db1-a905-448c-800e-959938a7a503" action="json" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/testCases/\\\\[[tc_index]]/parameters&quot;}&apos;</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <analysisRules>
                                                                            <item>
                                                                                <extractorInfo extractorType="query">
                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                        <query>count(mapped/Json/parameters/*)</query>
                                                                                    </extractorProperties>
                                                                                </extractorInfo>
                                                                                <processorInfo ruleType="store">
                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                        <storageLocation>param_count</storageLocation>
                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                    </ruleProperties>
                                                                                </processorInfo>
                                                                            </item>
                                                                        </analysisRules>
                                                                        <storeResponseAt>parameters</storeResponseAt>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                        <action inherit="false">getJsonNode</action>
                                                                        <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/testCases/\\[[tc_index]]/parameters&quot;}</pathValue>
                                                                        <documentName inherit="false">run_data</documentName>
                                                                    </applicationProperties>
                                                                </item>
                                                                <item guid="22a19f3d-337b-4855-a08f-0d3d7dc041e8" action="for" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>param_i in range(1, int(param_count) + 1):</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="9aa14497-6ff4-42fa-8959-b04a8a90df99" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>query_path = &apos;name(mapped/Json/parameters/*[{0}])&apos;.format(param_i)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="e4ca32df-a37d-4282-86e4-dffdf572e3f1" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>param_name = query(&apos;parameters&apos;,query_path);print(param_name)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="57c06e6d-5ba8-4253-affc-482dd6d96440" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>query_path = &apos;count(mapped/Json/parameters/{0}/*)&apos;.format(param_name)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="ae13e6b6-77be-4abb-84f2-64ab402324be" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>param_child = query(&apos;parameters&apos;,query_path);print(param_child)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="87575db0-c26c-40ed-8c55-05b20166ab26" action="if" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>int(param_child) &gt; 0:</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="17bea036-f476-4763-a36b-e261a47c1c19" action="json" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/testCases/\\\\[[tc_index]]/parameters/[param_name]&quot;}&apos;</body>
                                                                                    </command>
                                                                                    <postProcessing>
                                                                                        <analysisRules>
                                                                                            <item>
                                                                                                <extractorInfo extractorType="query">
                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                        <query sub="true">boolean(mapped/Json/[param_name]/name)</query>
                                                                                                    </extractorProperties>
                                                                                                </extractorInfo>
                                                                                                <processorInfo ruleType="assert">
                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                        <expression>value == &quot;true&quot;</expression>
                                                                                                        <actionsWhenTrue>
                                                                                                            <item actionId="Eval">
                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                                                                    <statement>is_sut = True</statement>
                                                                                                                </actionProperties>
                                                                                                            </item>
                                                                                                        </actionsWhenTrue>
                                                                                                        <actionsWhenFalse>
                                                                                                            <item actionId="Eval">
                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                                                                    <statement>is_sut = False</statement>
                                                                                                                </actionProperties>
                                                                                                            </item>
                                                                                                            <item actionId="SkipRemainingRules">
                                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                            </item>
                                                                                                        </actionsWhenFalse>
                                                                                                    </ruleProperties>
                                                                                                </processorInfo>
                                                                                            </item>
                                                                                            <item>
                                                                                                <extractorInfo extractorType="query">
                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                        <query sub="true">mapped/Json/[param_name]/name</query>
                                                                                                    </extractorProperties>
                                                                                                </extractorInfo>
                                                                                                <processorInfo ruleType="store">
                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                        <storageLocation>current_sut_ip</storageLocation>
                                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                    </ruleProperties>
                                                                                                </processorInfo>
                                                                                            </item>
                                                                                        </analysisRules>
                                                                                    </postProcessing>
                                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                                        <action inherit="false">getJsonNode</action>
                                                                                        <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/testCases/\\[[tc_index]]/parameters/[param_name]&quot;}</pathValue>
                                                                                        <documentName inherit="false">run_data</documentName>
                                                                                    </applicationProperties>
                                                                                </item>
                                                                                <item guid="5d1de156-bc3d-495f-987a-485b57e2db81" action="if" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>is_sut:</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="c8190808-85fc-492f-af8d-205e23e39f24" action="if" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>ts_name != &quot;EmulatedSUT&quot;:</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="c6f7d15c-0ab8-46f4-832d-2660222b66de" action="eval" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>query_path = &apos;SUT/{0}/name&apos;.format(param_name)</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="4adaa9bf-3e02-4073-90fa-9f62631bf4fa" action="eval" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>sut_ip = param(query_path, current_sut_ip)</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="03163bf5-288f-43bd-be6b-6562b0809f75" action="json" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>action=&apos;setJsonValue&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/testCases/\\\\[[tc_index]]/parameters/[param_name]/name&quot;:&quot;[sut_ip]&quot;}&apos;</body>
                                                                                                    </command>
                                                                                                    <postProcessing>
                                                                                                        <storeResponseAt>run_data</storeResponseAt>
                                                                                                        <storeResponseText>true</storeResponseText>
                                                                                                    </postProcessing>
                                                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                                                        <action inherit="false">setJsonValue</action>
                                                                                                        <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/testCases/\\[[tc_index]]/parameters/[param_name]/name&quot;:&quot;[sut_ip]&quot;}</pathValue>
                                                                                                        <documentName inherit="false">run_data</documentName>
                                                                                                    </applicationProperties>
                                                                                                </item>
                                                                                                <item guid="4da300f5-bf17-4d1e-b1e4-b150ccb8f4bb" action="eval" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>message = &apos;Set &quot;{0}&quot; for &quot;{1}&quot;&apos;.format(sut_ip, param_name)</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="a8c36c0e-5a9e-4e0d-815a-0d8a8fe04834" action="message" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>Information:[message]</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                                                        <message inherit="false">[message]</message>
                                                                                                    </applicationProperties>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="4fd8970b-49dd-4f33-8fd2-89021a7f62c9" action="else" useFieldsInCommand="false">
                                                                                            <nestedSteps>
                                                                                                <item guid="325050c7-033f-4bc6-b6c4-c779dbf2918a" action="eval" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>sut_ip = current_sut_ip</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="2d0bd2bf-3c28-4b3b-8aad-1b37c3d3a1c5" action="if" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>sut_ip.strip():</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="cb33214f-b0e6-434f-a43d-21eb1537f83a" action="eval" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>sut_ips.append(sut_ip)</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="edde74d2-f81b-4b52-ab29-5d132c339c3d" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Build execution message for Assignment</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="a767e201-5eae-4744-96c9-0121c7982b10" action="json" useFieldsInCommand="false">
                                                    <command>
                                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;ts_groups&apos;, pathValue=&apos;{&quot;\\\\[[ts_used_index]]/TS_Name&quot;}&apos;</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>TS_Name()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>ts_phy_name</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                        <action inherit="false">getJsonNode</action>
                                                        <pathValue inherit="false" sub="true">{&quot;\\[[ts_used_index]]/TS_Name&quot;}</pathValue>
                                                        <documentName inherit="false">ts_groups</documentName>
                                                    </applicationProperties>
                                                </item>
                                                <item guid="7e157eb1-905b-402c-81d1-fb97be8b81f7" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>message = &apos;Assign TS &quot;{0}&quot; for Test Session &quot;{1}&quot;&apos;.format(ts_phy_name, test_name)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="b9ed54ec-36f6-4121-a954-97bac403e1fd" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>port_reserve_str = &quot;, &quot;.join(port_reserve_list)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="be5bf05d-14cf-47bd-8f7b-32f9cc1d3ccc" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>message += &apos; and reserve ports &quot;{0}&quot;&apos;.format(port_reserve_str)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="e8aef28f-d933-46eb-8b1f-1c2a911fb65e" action="message" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Information:[message]</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                        <message inherit="false">[message]</message>
                                                    </applicationProperties>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="6e2b5f3c-5c6a-41d5-8567-a5d805f08bcc" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>// Re-map port capture</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="452529b4-1fa2-4c17-a8f3-d62f113488f7" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>ports_capture:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="e0beceb0-96ed-4837-bb18-6f4d139fcf3a" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>port_list = ports_capture.split(&quot; &quot;)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="2f6a7385-7d0d-4ace-aee3-3a8dd95ebcec" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>new_capture_ports = &quot;&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="18499235-41ed-464a-8d6b-18b61de75d6b" action="for" useFieldsInCommand="false">
                                                    <command>
                                                        <body>port_capture in port_list:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="c04684e7-7ba9-4c95-805a-f28c559f4f87" action="comment" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Re-map TS ID</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="390f8d6a-74f4-4e25-bfa7-308b4ac98a9a" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>capture_ts_id = port_capture.split(&quot;:&quot;)[0]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="4d32c22d-3251-4353-888a-02b970772a34" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>capture_ts_id == old_ts_id:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="a97230a4-3378-4b23-b170-41b1d8573cca" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>capture_ts_id = ts_id</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="804f5c8b-953b-48e6-b943-040f987c3331" action="comment" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Re-map physical port</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="15256228-00a4-4588-8714-92c3d5efe2c0" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>capture_port = port_capture.split(&quot;:&quot;)[1]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="a683bced-8b43-4b74-ae33-250ba06504f6" action="for" useFieldsInCommand="false">
                                                            <command>
                                                                <body>map_str in eth_mapping:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="b51c9d3e-e2f8-4366-974f-e6f00042bcad" action="if" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>map_str.startswith(capture_port):</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="2177a45d-c93b-44c1-a598-f48ce64d94b3" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>capture_port = map_str.split(&quot; &quot;)[1]</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="cf4f7586-34b7-43a4-96ee-4b626a012001" action="break" useFieldsInCommand="false">
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="a6cf0760-6ba7-4ee5-b912-daa757d34b0e" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>new_capture_ports += &quot;{0}:{1} &quot;.format(capture_ts_id, capture_port)</body>
                                                            </command>
                                                            <postProcessing isStoreResponseGlobal="true"/>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="616a0e96-1a0c-437a-9605-7805340cc782" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>new_capture_ports = new_capture_ports.strip()</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="da9cb9f5-2fdc-4d5a-8952-f27d888292bf" action="json" useFieldsInCommand="false">
                                                    <command>
                                                        <body>action=&apos;setJsonValue&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;portCapture&quot;:&quot;[new_capture_ports]&quot;}&apos;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                        <action inherit="false">setJsonValue</action>
                                                        <pathValue inherit="false" sub="true">{&quot;portCapture&quot;:&quot;[new_capture_ports]&quot;}</pathValue>
                                                        <documentName inherit="false">run_data</documentName>
                                                    </applicationProperties>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="ef6b925d-0379-4b45-a3a2-944fc201b6d2" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Move reserve port to its index</body>
                    </command>
                    <nestedSteps>
                        <item guid="348f3bb9-0e10-40b1-a17c-50740f6c4269" action="move_ports_to_its_index" session="[session]" useFieldsInCommand="false">
                            <command>
                                <body>-run_data [run_data] -current_data [current_data]</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>run_data</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="86d1dd8e-47d4-46d9-9b84-01af1fc2797c" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Create SUT if need</body>
                    </command>
                    <nestedSteps>
                        <item guid="fde7ab0c-3704-4714-a1e6-c7daacca8ad4" action="create_suts" session="[session]" useFieldsInCommand="false">
                            <command>
                                <body>-sut_ips [sut_ips]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="81c7d386-f897-4f30-bd62-cc8c08154609" action="return">
                    <command>
                        <body>[run_data]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="run_data">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="ts_groups">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="ts_name">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{}</response>
        </item>
        <item name="create_global_ts_mode_variable" isPublic="true">
            <steps>
                <item guid="944ff583-774f-43da-a8a5-8649215cbe80" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Set TS Mode</body>
                    </command>
                    <nestedSteps>
                        <item guid="a241b30e-1594-4cc9-9f33-f18f70372d59" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ts_mode = &quot;&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="e0c37889-bebb-4c3c-85e2-8bb4d37df69a" action="if" useFieldsInCommand="false">
                            <command>
                                <body>&apos;LEGACY_MODE&apos; in keywords:</body>
                            </command>
                            <nestedSteps>
                                <item guid="584a250b-2ebc-4d58-b923-603f0f851de7" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_mode = &quot;Legacy&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="ee6738cb-fa84-41d3-a7a7-0ebe110bc0f5" action="elif" useFieldsInCommand="false">
                            <command>
                                <body>&apos;MAX_MODE&apos; in keywords:</body>
                            </command>
                            <nestedSteps>
                                <item guid="127bdc6a-00d4-4e40-bdcb-269be247acfe" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_mode = &quot;Max&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="c391191e-93da-4725-8ec7-306c7de45162" action="elif" useFieldsInCommand="false">
                            <command>
                                <body>&apos;FIREBALL_MODE&apos; in keywords:</body>
                            </command>
                            <nestedSteps>
                                <item guid="568ffe45-2a27-4d09-9da5-5816c1c10345" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_mode = &quot;Fireball&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="4009e805-69d4-4ed5-9009-9c1a3c046adf" action="if" useFieldsInCommand="false">
                            <command>
                                <body>&apos;CPA_MODE&apos; in keywords:</body>
                            </command>
                            <nestedSteps>
                                <item guid="34d6bd76-40cc-4e63-bde3-5322ebf431b7" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>cpa_license_required = param(&apos;TC_parameters/CPA_License_Required&apos;);print(cpa_license_required)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="0bdc32f9-afe3-456b-80ed-22e714386c6c" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>cpa_license_required:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="b86704fe-f415-4cb2-b329-a29bea4fd9f7" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>not ts_mode:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="07c91aab-845c-4c22-a916-ffcdd8fc5565" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>ts_mode = &quot;CPA&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="1b6878b6-5e8d-4f89-b9db-937b65deac95" action="else" useFieldsInCommand="false">
                                            <nestedSteps>
                                                <item guid="258e5e53-8431-42a6-87c5-aa2a6a9669f0" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>ts_mode += &quot;;CPA&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="9aff3b33-59de-43bb-9682-e9c9aa3ad678" action="else" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="2652d47a-b13f-41b7-8eb0-f8919336ad56" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>not info(&apos;exists&apos;, &apos;global&apos;, &apos;cpa_license_required&apos;):</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="2c697b31-5b7f-41d9-9f2e-cda48533a15d" action="message" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Information:Run this script without checking CPA mode.</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                        <message inherit="false">Run this script without checking CPA mode.</message>
                                                    </applicationProperties>
                                                </item>
                                                <item guid="c95350e3-e3bd-4c25-a6c9-f428f703571a" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>gset(&apos;cpa_license_required&apos;, cpa_license_required)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="45ac17b1-0a04-4228-b21c-7c08bafc6802" action="if" useFieldsInCommand="false">
                            <command>
                                <body>ts_mode:</body>
                            </command>
                            <nestedSteps>
                                <item guid="fb6470f9-eb95-4bb4-869d-1bdc563246d2" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>info(&apos;exists&apos;, &apos;global&apos;, &apos;required_ts_mode&apos;):</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="2da83651-e67e-49e8-9fc6-14559d98cac4" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>ts_mode not in gget(&apos;required_ts_mode&apos;):</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="d33439c0-3f1f-40cf-becb-814c88b91c7b" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>ts_mode = &apos;{0};{1}&apos;.format(gget(&apos;required_ts_mode&apos;), ts_mode)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="e5c1584f-05f2-4eb1-aafb-b123e70a1cd6" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>gset(&apos;required_ts_mode&apos;, ts_mode)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="1ee54c94-49b6-4a77-92c6-6b72b014ddf5" action="else" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="2e811e60-3926-49ef-afda-9c64cde00d07" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>gset(&apos;required_ts_mode&apos;, ts_mode)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="keywords">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{}</response>
        </item>
        <item name="create_suts" isPublic="true">
            <steps>
                <item guid="50cb5346-d2f4-4b2d-983c-829784c714f1" action="for" useFieldsInCommand="false">
                    <command>
                        <body>sut_ip in sut_ips:</body>
                    </command>
                    <nestedSteps>
                        <item guid="87d19846-44d2-4a07-a1b2-99ec52bc3cc6" action="Custom" session="[session]">
                            <command>
                                <body>-requestMethod GET -dataType json -rawResponse true -url suts?name=[sut_ip]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                <query>mapped/Json/apiCode</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>api_code</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>sut</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" rawResponse="true" rawResponse.inherit="false" url="suts?name=[sut_ip]" url.inherit="false"/>
                        </item>
                        <item guid="de5a87f1-6785-42c8-9dad-8afdf26d1224" action="if" useFieldsInCommand="false">
                            <command>
                                <body>api_code == &quot;4001005&quot;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="7dac7d25-5617-41ac-95e8-84ea5319b12a" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>The requested SUT does not exist. Add more sut</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="dd2f9867-46d4-46d2-99af-7c80c37fca45" action="Custom" session="[session]">
                                    <command>
                                        <body>-requestMethod POST -dataType json -requestBody &quot;{
\t&quot;ip&quot;: &quot;[sut_ip]&quot;,
\t&quot;managementIp&quot;: &quot;[sut_ip]&quot;,
\t&quot;name&quot;: &quot;[sut_ip]&quot;
}&quot; -rawResponse true -url suts</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>mapped/Json/id</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>sut_id</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>mapped/Json/reason</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>reason</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>success()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>value == &quot;true&quot;</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                    <message>SUT [sut_ip] is created. SUT ID: [sut_id]</message>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                    <message>Error while creating new SUT [sut_ip]. Reason: [reason]</message>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" requestMethod="POST" requestMethod.inherit="false" rawResponse="true" rawResponse.inherit="false" url="suts" url.inherit="false">
                                        <requestBody inherit="false">{
\t&quot;ip&quot;: &quot;[sut_ip]&quot;,
\t&quot;managementIp&quot;: &quot;[sut_ip]&quot;,
\t&quot;name&quot;: &quot;[sut_ip]&quot;
}</requestBody>
                                    </applicationProperties>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="78ab5696-ddd0-40ae-bf9c-817652f560b2" action="else" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="ddbb5487-2244-4268-a36a-17f532d47037" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>print(sut)</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>mapped/Json/managementIp</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>management_ip</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>mapped/Json/ip</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>ip</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>mapped/Json/name</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>name</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="091bb0b0-eefd-4e7e-b7f5-f879a3c8325f" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>management_ip != sut_ip or name != sut_ip or ip != sut_ip:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="013103bb-7cbc-4cdb-99cc-3dc9c0dac01f" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Update sut</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="7e213be0-8937-4c4a-b296-7ee5fe28b9e9" action="Custom" session="[session]">
                                            <command>
                                                <body>-requestMethod POST -dataType json -requestBody &quot;{
\t&quot;ip&quot;: &quot;[sut_ip]&quot;,
\t&quot;managementIp&quot;: &quot;[sut_ip]&quot;
}&quot; -rawResponse true -url suts?name=[sut_ip]</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                <query>mapped/Json/id</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>sut_id</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                <query>mapped/Json/reason</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>reason</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>success()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>value == &quot;true&quot;</expression>
                                                                <actionsWhenTrue>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                            <message>SUT [sut_ip] is modified. SUT ID: [sut_id]</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                </actionsWhenTrue>
                                                                <actionsWhenFalse>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                            <message>Error while updating SUT [sut_ip] - ID: [sut_id]. Reason: [reason]</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                </actionsWhenFalse>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" requestMethod="POST" requestMethod.inherit="false" rawResponse="true" rawResponse.inherit="false" url="suts?name=[sut_ip]" url.inherit="false">
                                                <requestBody inherit="false">{
\t&quot;ip&quot;: &quot;[sut_ip]&quot;,
\t&quot;managementIp&quot;: &quot;[sut_ip]&quot;
}</requestBody>
                                            </applicationProperties>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="sut_ips">
                    <description>SUT ip or SUT ip list or list of SUT ip is separated by &quot;;&quot; </description>
                </item>
            </arguments>
            <response>{}</response>
        </item>
        <item name="delete_running_tests" isPublic="true">
            <steps>
                <item guid="b1896709-f13a-4eed-9dc6-52b7018d02d7" action="if" useFieldsInCommand="false">
                    <command>
                        <body>isinstance(running_id_list, str):</body>
                    </command>
                    <nestedSteps>
                        <item guid="5181cbc8-fdb7-4a94-a746-2b59f08e3a85" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>running_id_list = running_id_list.split(&quot;;&quot;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="7abb6717-2666-48ab-8cd7-71ea458f525f" action="elif" useFieldsInCommand="false">
                    <command>
                        <body>not isinstance(running_id_list, list):</body>
                    </command>
                    <nestedSteps>
                        <item guid="9a7022b7-fec1-4023-a974-e6dd630a7b57" action="message">
                            <command>
                                <body>Error:Invalid argument for delete running test</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                <severity inherit="false">Error</severity>
                                <message inherit="false">Invalid argument for delete running test</message>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="ac696c82-5a7c-4b71-b04e-65f86e6e3ddb" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Remove all running Test Sessions</body>
                    </command>
                    <nestedSteps>
                        <item guid="8a8ab816-c685-449b-8cea-812f226f0554" action="for" useFieldsInCommand="false">
                            <command>
                                <body>running_id in running_id_list:</body>
                            </command>
                            <nestedSteps>
                                <item guid="8620aeb5-acb8-4914-bb6d-825045234aaa" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>running_id.strip():</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="c9fa939b-0bd5-4472-b3e3-40dd09a2ac57" action="Custom" session="[session]">
                                            <command>
                                                <body>-requestMethod DELETE -dataType json -rawResponse true -url runningtests/[running_id]</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>count(mapped/Json/reason)</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>int(value) &gt; 0</expression>
                                                                <actionsWhenTrue>
                                                                    <item actionId="Eval">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                            <statement>error = True</statement>
                                                                        </actionProperties>
                                                                    </item>
                                                                </actionsWhenTrue>
                                                                <actionsWhenFalse>
                                                                    <item actionId="Eval">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                            <statement>error = False</statement>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="SkipRemainingRules">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenFalse>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>reason()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>reason</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" requestMethod="DELETE" requestMethod.inherit="false" rawResponse="true" rawResponse.inherit="false" url="runningtests/[running_id]" url.inherit="false"/>
                                        </item>
                                        <item guid="260b0802-3b8a-4e70-a1f7-1815003c7dfd" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>error:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="4a6760dc-9f46-49a4-9995-4c6ec7124a93" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>message = &apos;Cannot delete running test: &quot;{0}&quot;. Reason: &quot;{1}&quot;&apos;.format(running_id, reason)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="29f66f91-1133-4e40-b52c-f8fbea46c2a7" action="message" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Warning:[message]</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                        <severity inherit="false">Warning</severity>
                                                        <message inherit="false">[message]</message>
                                                    </applicationProperties>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="running_id_list">
                    <description>Running ID or Running ID list or list of Running ID is separated by &quot;;&quot; </description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{}</response>
        </item>
        <item name="execute_fail_message" isPublic="true">
            <steps>
                <item guid="b995ab0a-9b4d-4431-aa84-c8bb2f133d16" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>print(message)</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>isEmpty()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>value == &quot;true&quot;</expression>
                                        <actionsWhenTrue>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>[message]</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>[message]</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="ad9f3abf-2898-4865-9282-8f674dcaeb53" action="if" useFieldsInCommand="false">
                    <command>
                        <body>should_exit == &quot;true&quot;:</body>
                    </command>
                    <nestedSteps>
                        <item guid="49b2cf66-e138-4e8c-a27d-a0b241b4113c" action="exit" useFieldsInCommand="false">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="message">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="should_exit">
                    <defaultValue>false</defaultValue>
                </item>
            </arguments>
            <response>{}</response>
        </item>
        <item name="get_ethernet_mapped_list" isPublic="true">
            <steps>
                <item guid="95e90cc5-c238-474e-9692-92a433587bf3" action="json" useFieldsInCommand="false">
                    <command>
                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;reservations/\\\\[[reservations_index]]/phySubnets&quot;}&apos;</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>count(mapped/Json/phySubnets/item)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>phy_count</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                        <storeResponseAt>phy_subnets</storeResponseAt>
                        <storeResponseText>true</storeResponseText>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                        <action inherit="false">getJsonNode</action>
                        <pathValue inherit="false" sub="true">{&quot;reservations/\\[[reservations_index]]/phySubnets&quot;}</pathValue>
                        <documentName inherit="false">run_data</documentName>
                    </applicationProperties>
                </item>
                <item guid="9a79a109-00a6-450e-bb81-10b2e13616c1" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>reservation_ipv4_lst = []</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="321e2694-d078-45c3-a7ed-ce51ec0ab040" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>reservation_ipv6_lst = []</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="c5de2fe5-beea-442e-b874-b7ecef3162e6" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Loops the phySubnets and divides items into 2 lists: ipv4 and ipv6</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="b3cd20c9-b0c9-44eb-9761-7f6cad8012f5" action="for" useFieldsInCommand="false">
                    <command>
                        <body>i in range(0, int(phy_count)):</body>
                    </command>
                    <nestedSteps>
                        <item guid="b87be5bc-a2b7-4f82-8b88-769227ad11de" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;reservations/\\\\[[reservations_index]]/phySubnets/\\\\[[i]]&quot;}&apos;</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/phySubnets/name)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>int(value) &gt; 0</expression>
                                                <actionsWhenFalse>
                                                    <item actionId="Continue">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>mapped/Json/phySubnets/name</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>name</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>mapped/Json/phySubnets/base</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>base</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">getJsonNode</action>
                                <pathValue inherit="false" sub="true">{&quot;reservations/\\[[reservations_index]]/phySubnets/\\[[i]]&quot;}</pathValue>
                                <documentName inherit="false">run_data</documentName>
                            </applicationProperties>
                        </item>
                        <item guid="30a6f92d-6715-4d0c-b874-22dbe91776d4" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;phy_subnets&apos;, pathValue=&apos;{&quot;phySubnets/\\\\[[i]]&quot;}&apos;</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>mapped/Json/phySubnets/name</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>name</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>mapped/Json/phySubnets/base</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>base</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>phy_info</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">getJsonNode</action>
                                <pathValue inherit="false" sub="true">{&quot;phySubnets/\\[[i]]&quot;}</pathValue>
                                <documentName inherit="false">phy_subnets</documentName>
                            </applicationProperties>
                        </item>
                        <item guid="a6846f44-fa8b-4b26-ab00-e0894effa3ca" action="call" useFieldsInCommand="false">
                            <command>
                                <body>isIPv4 -ip [base]</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>is_ipv4</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="5e7c02f8-3e40-4778-9473-a87a02c48dfb" action="if" useFieldsInCommand="false">
                            <command>
                                <body>is_ipv4 == &quot;true&quot;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="5fad455f-856c-492e-b0e9-6d579f59b04f" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>reservation_ipv4_lst.append(name)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="a6c851a0-eeba-4ab7-b8b8-f8a03c62190a" action="else" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="efecae46-d733-4da2-a011-80e9cd4c552e" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>reservation_ipv6_lst.append(name)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="703c6624-0110-470b-9f5b-6500e6fc84d4" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>print(ts_property)</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>count(mapped/Json/item)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>eth_info_count</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="8be49a0e-377f-4f74-b368-caf75d689041" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>eth_ipv4_lst = []</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="b34e5c27-ff2e-46ee-b61c-31b04111cc6c" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>eth_ipv6_lst = []</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="57e15e46-a244-4dca-a2dd-f9e19b70b5f0" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Loops the ethInfos in ts_property and divides items into 2 lists: ipv4 and ipv6</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="2829e5d4-66cb-4c64-a3ab-7523072451ed" action="for" useFieldsInCommand="false">
                    <command>
                        <body>i in range(0, int(eth_info_count)):</body>
                    </command>
                    <nestedSteps>
                        <item guid="cef6a0c1-d2e2-493e-8ec1-96f8ae770163" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;ts_property&apos;, pathValue=&apos;{&quot;\\\\[[i]]&quot;}&apos;</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>name()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>name</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/base)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>int(value) &gt; 0</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>base_variable = &quot;base()&quot;</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>base_variable = &quot;Base()&quot;</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query sub="true">[base_variable]</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>base</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/reserved)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>int(value) &gt; 0</expression>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>reserved = &quot;false&quot;</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>mapped/Json/ethInfos/reserved</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>reserved</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>eth_info</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">getJsonNode</action>
                                <pathValue inherit="false" sub="true">{&quot;\\[[i]]&quot;}</pathValue>
                                <documentName inherit="false">ts_property</documentName>
                            </applicationProperties>
                        </item>
                        <item guid="ab65ca96-d9aa-4cbf-8f26-3512efb01082" action="if" useFieldsInCommand="false">
                            <command>
                                <body>reserved == &quot;false&quot;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="e965eab4-f164-4e2e-b6de-98532d7d1531" action="call" useFieldsInCommand="false">
                                    <command>
                                        <body>isIPv4 -ip [base]</body>
                                    </command>
                                    <postProcessing>
                                        <storeResponseAt>is_ipv4</storeResponseAt>
                                        <storeResponseText>true</storeResponseText>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="4387fe68-c060-4306-b877-a4bf40e79d8a" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>is_ipv4 == &quot;true&quot;:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="4a1a0923-2882-410b-8adf-a00081903405" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>eth_ipv4_lst.append(name)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="2334d0cd-3399-43f3-89b6-e1f99bec7002" action="else" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="206167c1-b2c6-4ddb-918c-07c6b248d4c5" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>eth_ipv6_lst.append(name)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="419acb5c-f154-44b5-b6f3-f9bd256809cf" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>response_lst = []</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="51ce713d-47ae-4180-b8a5-1c87fff397bb" action="if" useFieldsInCommand="false">
                    <command>
                        <body>len(reservation_ipv4_lst) &lt;= len(eth_ipv4_lst):</body>
                    </command>
                    <nestedSteps>
                        <item guid="49dbd662-305e-40e2-9c16-ad564c59dbab" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ipv4_lst = []</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="0961a6f1-b660-4c16-9710-63a7fc177884" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Checks and removes the duplicates in ipv4 list</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="bb142dbb-907c-4fa7-8f9b-c871dbb3288e" action="for" useFieldsInCommand="false">
                            <command>
                                <body>eth in reservation_ipv4_lst:</body>
                            </command>
                            <nestedSteps>
                                <item guid="2b978b5e-0325-4ffe-994b-f78e1bf13682" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>eth in eth_ipv4_lst:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="14771c98-f428-4ef6-8b36-ef1367b94299" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>eth_ipv4_lst.remove(eth)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="5661fc75-a5da-4494-af0b-0af20f82385e" action="else" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="4f3e970b-5703-40ed-805d-5f4c16feea8a" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>ipv4_lst.append(eth)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="dfeb4131-60f3-412d-ae68-c5ebce66c48a" action="for" useFieldsInCommand="false">
                            <command>
                                <body>i in range(0, len(ipv4_lst)):</body>
                            </command>
                            <nestedSteps>
                                <item guid="0c8064ef-f4a2-4fd6-9cf5-d5a4f8b01be4" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Adds the map of 2 IPv4 ethernets to the response list</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="58bbb83c-d999-4542-8a52-047e1855f6bb" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>map = &quot;{0} {1}&quot;.format(ipv4_lst[i], eth_ipv4_lst[i])</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="9d4703e3-64a2-4b9b-9919-9fe6fa0e55b2" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>response_lst.append(map)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="4c135c78-c4e4-49e3-83f7-14b21e4e886a" action="else" useFieldsInCommand="false">
                    <nestedSteps>
                        <item guid="fa4cab01-a6c0-4c81-b251-49d5cab3c8af" action="execute_fail_message" session="[session]" useFieldsInCommand="false">
                            <command>
                                <body>-message &quot;The TS doesn&apos;t have enough ipv4 ports&quot; -should_exit &quot;true&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="4b81b3c6-b908-4fc3-867b-b20fc1375311" action="if" useFieldsInCommand="false">
                    <command>
                        <body>len(reservation_ipv6_lst) &lt;= len(eth_ipv6_lst):</body>
                    </command>
                    <nestedSteps>
                        <item guid="fa266527-0f8b-459d-b36f-f4bd5505a7d1" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ipv6_lst = []</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="f1e4dbb2-9a47-4503-89fa-15aad0fdefa1" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Checks and removes the duplicates in ipv6 list</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="7679c179-c3d7-4a47-9e65-22c5bcfac8cb" action="for" useFieldsInCommand="false">
                            <command>
                                <body>eth in reservation_ipv6_lst:</body>
                            </command>
                            <nestedSteps>
                                <item guid="f4cac79d-4229-478e-84ab-469d47c16eef" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>eth in eth_ipv6_lst:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="8d629b7b-0d66-4c9a-8382-f9a5444ba761" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>eth_ipv6_lst.remove(eth)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="e1101cff-27f3-4dad-bd5e-c1465d7274b1" action="else" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="adaa3b9f-6d0f-4e45-a28c-ed7e4e5f69dc" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>ipv6_lst.append(eth)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="26fb8bc5-ca5f-46be-b2b9-d1a52570f4d9" action="for" useFieldsInCommand="false">
                            <command>
                                <body>i in range(0, len(ipv6_lst)):</body>
                            </command>
                            <nestedSteps>
                                <item guid="73cff491-4516-4679-9574-5bf201292479" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Adds the map of 2 IPv6 ethernets to the response list</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="8f1c99d9-737f-4bd1-afef-b62b3b97da69" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>map = &quot;{0} {1}&quot;.format(ipv6_lst[i], eth_ipv6_lst[i])</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="d96bfcdb-108b-4398-9962-756071af0b1d" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>response_lst.append(map)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="bd170c90-5c91-4fda-b1a1-ed971aa09f69" action="else" useFieldsInCommand="false">
                    <nestedSteps>
                        <item guid="f5d86986-31e4-41ad-a92b-80e47ef4d7b1" action="execute_fail_message" session="[session]" useFieldsInCommand="false">
                            <command>
                                <body>-message &quot;The TS doesn&apos;t have enough ipv6 ports&quot; -should_exit &quot;true&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="66338326-6f95-4195-a8a8-776dcaed83c6" action="return">
                    <command>
                        <body>[response_lst]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="run_data">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="ts_property">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="reservations_index">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{}</response>
        </item>
        <item name="get_library_id_from_library_name" isPublic="true">
            <steps>
                <item guid="23eaf4c6-f1fc-4cfe-8470-a16f8d84bcfc" action="Custom" session="[session]">
                    <command>
                        <body>-requestMethod GET -dataType json -rawResponse true -url libraries</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">boolean(mapped/Json/libraries/item\\[name = &quot;[libraryName]&quot;])</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>value == &quot;true&quot;</expression>
                                        <actionsWhenTrue>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>is_library_exist = True</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>is_library_exist = False</statement>
                                                </actionProperties>
                                            </item>
                                            <item actionId="SkipRemainingRules">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                        <query sub="true">mapped/Json/libraries/item\\[name=&apos;[libraryName]&apos;]/id</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>library_id</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                        <storeResponseAt>libraries</storeResponseAt>
                        <storeResponseText>true</storeResponseText>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" rawResponse="true" rawResponse.inherit="false" url="libraries" url.inherit="false"/>
                </item>
                <item guid="8db4458c-2145-49e1-b600-a0b4b3f38af6" action="if" useFieldsInCommand="false">
                    <command>
                        <body>not is_library_exist:</body>
                    </command>
                    <nestedSteps>
                        <item guid="b7be5ed5-b9f0-4c5f-b1d2-4aa57c0b091e" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>message = &quot;Library Name &apos;{0}&apos; does not exist&quot;.format(libraryName)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="1c3a1925-fa54-4a3c-a916-cfc2765e7c49" action="execute_fail_message" session="[session]" useFieldsInCommand="false">
                            <command>
                                <body>-message [message] -should_exit &quot;true&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="11329e40-57a1-4a96-8100-6876bfa7cbde" action="return">
                    <command>
                        <body>[library_id]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="libraryName">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="get_parameters_from_group" isPublic="true">
            <steps>
                <item guid="809a0d6a-c955-4c9c-af91-ccecf70d04bf" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Create response</body>
                    </command>
                    <nestedSteps>
                        <item guid="af71d951-8475-4b1c-b80a-1ec0a8c17342" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;createJson&apos;, documentName=&apos;response&apos;, fromFile=&apos;false&apos;, jsonString=&apos;{&quot;tsGroups&quot;: []}&apos;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">createJson</action>
                                <jsonString inherit="false">{&quot;tsGroups&quot;: []}</jsonString>
                                <documentName inherit="false">response</documentName>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="a163915c-5aa2-443e-95e9-8ef9650f4f77" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Dump state</body>
                    </command>
                    <nestedSteps>
                        <item guid="e55405c4-e22c-4c74-bba1-8efafc89e82f" action="dumpState" responseMap="project://my_project/response_maps/new_map.ffrm" useFieldsInCommand="false">
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query sub="true">count(data/parameters/[parameter_group_name]/*)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>numGroupParams</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>LandslideGroupParams</storeResponseAt>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.DumpStateProperties">
                                <appendThreads>false</appendThreads>
                                <appendSummary>false</appendSummary>
                            </applicationProperties>
                        </item>
                        <item guid="aabdfce2-fabd-403f-a019-bd1d71a84482" action="for" useFieldsInCommand="false">
                            <command>
                                <body>i in range(1, int(numGroupParams) + 1):</body>
                            </command>
                            <nestedSteps>
                                <item guid="ad9f5193-6bf9-4295-b5df-1d78efa2df1d" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>group_index = i - 1</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="4fd68152-7361-464f-88d7-c082ac7be667" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;response&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]&quot;:{}}&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">addJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]&quot;:{}}</pathValue>
                                        <documentName inherit="false">response</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="056f6f3a-af57-4e60-8964-202c18433944" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>query_path = &apos;name(data/parameters/{0}/*[{1}])&apos;.format(parameter_group_name , i)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="dbbcce37-b56d-44c7-b725-b3a6a4d3d318" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_group_index = query(&apos;LandslideGroupParams&apos;,query_path);print(ts_group_index)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="4ab90922-55ce-4553-8f1e-f5e36201ba0c" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>query_path = &apos;count(data/parameters/{0}/{1}/*)&apos;.format(parameter_group_name , ts_group_index)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="48a835f3-8044-415e-90a8-b6ecacd4f72f" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>tc_count = query(&apos;LandslideGroupParams&apos;,query_path);print(tc_count)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="2e6ac6d2-05d6-47be-893f-d630938538ee" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>int(tc_count) &gt; 0:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="ad943868-d586-4511-b201-9987e84b0cab" action="json" useFieldsInCommand="false">
                                            <command>
                                                <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;response&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/&quot;:{&quot;testCases&quot;:\\\\[]}}&apos;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                <action inherit="false">addJsonNode</action>
                                                <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/&quot;:{&quot;testCases&quot;:\\[]}}</pathValue>
                                                <documentName inherit="false">response</documentName>
                                            </applicationProperties>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="3a9d0d08-4817-41e6-90d1-20cbd56093b7" action="for" useFieldsInCommand="false">
                                    <command>
                                        <body>tc_i in range(1, int(tc_count) + 1):</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="20e76513-7ef6-431a-81af-ffcc54e032b8" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>tc_index = tc_i - 1</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="eacc8085-b6fd-4711-848e-f82b941d9d5f" action="json" useFieldsInCommand="false">
                                            <command>
                                                <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;response&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/testCases/\\\\[[tc_index]]&quot;:{&quot;parameters&quot;:{}}}&apos;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                <action inherit="false">addJsonNode</action>
                                                <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/testCases/\\[[tc_index]]&quot;:{&quot;parameters&quot;:{}}}</pathValue>
                                                <documentName inherit="false">response</documentName>
                                            </applicationProperties>
                                        </item>
                                        <item guid="8cf8ba6a-4b68-4a01-829a-4c3c09517d8f" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>query_path = &apos;name(data/parameters/{0}/{1}/*[{2}])&apos;.format(parameter_group_name , ts_group_index, tc_i)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="e33ae3b7-6cf8-4f0f-bb1a-234bc013360e" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>ts_tc_index = query(&apos;LandslideGroupParams&apos;,query_path);print(ts_tc_index)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="07aeb8a6-c7fe-4f2d-a217-8a3ad790d1d5" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>query_path = &apos;count(data/parameters/{0}/{1}/{2}/*)&apos;.format(parameter_group_name , ts_group_index, ts_tc_index)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="53e9abc3-4da6-47c5-bfc1-e8aab6fec209" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>param_count = query(&apos;LandslideGroupParams&apos;,query_path);print(param_count)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="426997e6-b8b3-4c25-b436-fcdc18384740" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>param_i in range(1, int(param_count) + 1):</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="07136b45-8e42-4cee-9790-19bb950d0809" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>query_path = &apos;name(data/parameters/{0}/{1}/{2}/*[{3}])&apos;.format(parameter_group_name , ts_group_index, ts_tc_index, param_i)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="6051ea91-b124-4ee1-abcd-663c73a96d5f" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>param_name = query(&apos;LandslideGroupParams&apos;,query_path);print(param_name)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="c9a84469-5c04-4cba-97e3-e5c7562353bf" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>query_path = &apos;count(data/parameters/{0}/{1}/{2}/{3}/*)&apos;.format(parameter_group_name , ts_group_index, ts_tc_index, param_name)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="efc4c69f-6060-4955-bd7a-b16ced1dc35a" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>param_child_count = query(&apos;LandslideGroupParams&apos;,query_path);print(param_child_count)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="4d516251-03f6-4d76-a3dd-f2f00be12456" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>int(param_child_count) == 0:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="813bfb2b-074a-4045-9b2b-4cac67d4cc2c" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>query_path = &apos;data/parameters/{0}/{1}/{2}/{3}/@value&apos;.format(parameter_group_name , ts_group_index, ts_tc_index, param_name)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="20ad6e73-803c-4853-83eb-602d564cd8fc" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>param_value = query(&apos;LandslideGroupParams&apos;,query_path);print(param_value)</body>
                                                            </command>
                                                            <eventHandlers>
                                                                <item name="OnInterpreterError">
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                            <message> Can not get value from [query_path]</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="ExitExecution">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </item>
                                                            </eventHandlers>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="8f52ee21-b301-4b9c-9101-41e260265049" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>param_value.startswith(&quot;$&quot;):</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="54c51387-a4f5-4d53-83fa-1ef4e7e94dd9" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>query_path = &apos;{0}/{1}/{2}/{3}&apos;.format(parameter_group_name , ts_group_index, ts_tc_index, param_name)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="f45a2162-2ae2-4c53-9c60-0e08a7a0e1e8" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>param_value = param(query_path, &quot;&quot;)</body>
                                                                    </command>
                                                                    <eventHandlers>
                                                                        <item name="OnInterpreterError">
                                                                            <item actionId="DeclareExecutionIssue">
                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                    <message> Can not get value from [query_path]</message>
                                                                                </actionProperties>
                                                                            </item>
                                                                            <item actionId="ExitExecution">
                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            </item>
                                                                        </item>
                                                                    </eventHandlers>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="f7985efc-d309-433a-b37f-d5c6cd2a7f4a" action="json" useFieldsInCommand="false">
                                                            <command>
                                                                <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;response&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/testCases/\\\\[[tc_index]]/parameters/&quot;:{&quot;[param_name]&quot;:&quot;[param_value]&quot;}}&apos;</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                <action inherit="false">addJsonNode</action>
                                                                <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/testCases/\\[[tc_index]]/parameters/&quot;:{&quot;[param_name]&quot;:&quot;[param_value]&quot;}}</pathValue>
                                                                <documentName inherit="false">response</documentName>
                                                            </applicationProperties>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="a8ad0940-e1b0-402c-acfe-cc49ed206ee6" action="else" useFieldsInCommand="false">
                                                    <nestedSteps>
                                                        <item guid="de98f7bb-cb86-4b57-be19-ec94455b8f32" action="json" useFieldsInCommand="false">
                                                            <command>
                                                                <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;response&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/testCases/\\\\[[tc_index]]/parameters/&quot;:{&quot;[param_name]&quot;:{}}}&apos;</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                <action inherit="false">addJsonNode</action>
                                                                <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/testCases/\\[[tc_index]]/parameters/&quot;:{&quot;[param_name]&quot;:{}}}</pathValue>
                                                                <documentName inherit="false">response</documentName>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="2def09c0-be3b-4d8d-927b-11fefdbdbe7b" action="for" useFieldsInCommand="false">
                                                            <command>
                                                                <body>child_i in range(1, int(param_child_count) + 1):</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="5e856190-adb7-4312-bb9e-09593853353e" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>query_path = &apos;name(data/parameters/{0}/{1}/{2}/{3}/*[{4}])&apos;.format(parameter_group_name , ts_group_index, ts_tc_index, param_name, child_i)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="6039fafd-ff5b-4e04-b3c9-d8c2a8dcb7e7" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>child_name = query(&apos;LandslideGroupParams&apos;,query_path);print(child_name)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="004ca293-3396-467a-af37-55a173064ade" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>query_path = &apos;data/parameters/{0}/{1}/{2}/{3}/{4}/@value&apos;.format(parameter_group_name , ts_group_index, ts_tc_index, param_name, child_name)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="568ec76c-f281-41c2-8097-bd040ce47e9b" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>child_value = query(&apos;LandslideGroupParams&apos;,query_path);print(child_value)</body>
                                                                    </command>
                                                                    <eventHandlers>
                                                                        <item name="OnInterpreterError">
                                                                            <item actionId="DeclareExecutionIssue">
                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                    <message> Can not get value from [query_path]</message>
                                                                                </actionProperties>
                                                                            </item>
                                                                            <item actionId="ExitExecution">
                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            </item>
                                                                        </item>
                                                                    </eventHandlers>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="5e516c80-2a2a-4f60-865f-102415404f52" action="if" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>child_value.startswith(&quot;$&quot;):</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="d2fb169d-5ec8-470e-a309-bcc8099c299d" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>query_path = &apos;{0}/{1}/{2}/{3}/{4}&apos;.format(parameter_group_name , ts_group_index, ts_tc_index, param_name, child_name)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="6380a443-368c-4853-9baa-ab68b7a6e74e" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>child_value = param(query_path, &quot;&quot;)</body>
                                                                            </command>
                                                                            <eventHandlers>
                                                                                <item name="OnInterpreterError">
                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                            <message> Can not get value from [query_path]</message>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                    <item actionId="ExitExecution">
                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    </item>
                                                                                </item>
                                                                            </eventHandlers>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="4f615c7c-019b-40fe-bfa5-dea70a002f34" action="comment" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>Update physical port for ipv6</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="7efa9c9a-885c-4791-b3ee-2f6b3fb9d3d5" action="if" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>child_name == &quot;phy&quot; or child_name == &quot;forcedEthInterface&quot;:</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="24aea2ab-7659-4ff5-b354-8c7118f6fbe2" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>query_path = &apos;data/parameters/{0}/{1}/{2}/{3}/{4}/@value&apos;.format(parameter_group_name , ts_group_index, ts_tc_index, param_name, &quot;ip&quot;)</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="94f54aef-6aea-4b47-b25f-df705ac8dbbd" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>ip_value = query(&apos;LandslideGroupParams&apos;,query_path);print(child_value)</body>
                                                                                            </command>
                                                                                            <eventHandlers>
                                                                                                <item name="OnInterpreterError">
                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                                            <message> Can not get value from [query_path]</message>
                                                                                                        </actionProperties>
                                                                                                    </item>
                                                                                                    <item actionId="ExitExecution">
                                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                    </item>
                                                                                                </item>
                                                                                            </eventHandlers>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="cde5de23-926d-41d5-915d-de63830eb8fe" action="if" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>&quot;:&quot; in ip_value:</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="1afc3eb0-9636-4cc5-a574-f1c3017a26d7" action="if" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>not child_value.endswith(&quot;v6&quot;):</body>
                                                                                                    </command>
                                                                                                    <nestedSteps>
                                                                                                        <item guid="45f3d1d8-9a4a-4fef-8532-ec8f6615a55f" action="eval" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>child_value += &quot;v6&quot;</body>
                                                                                                            </command>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                    </nestedSteps>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="d1a12f83-095e-440b-829f-4eca771b4852" action="else" useFieldsInCommand="false">
                                                                                    <nestedSteps>
                                                                                        <item guid="87db624d-308a-47a8-a508-4242877dba62" action="comment" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>Insert steps here for when expression is false</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="4661158c-5bec-4753-af78-c2922aed72fb" action="json" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;response&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/testCases/\\\\[[tc_index]]/parameters/[param_name]/&quot;:{&quot;[child_name]&quot;:&quot;[child_value]&quot;}}&apos;</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                        <action inherit="false">addJsonNode</action>
                                                                        <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/testCases/\\[[tc_index]]/parameters/[param_name]/&quot;:{&quot;[child_name]&quot;:&quot;[child_value]&quot;}}</pathValue>
                                                                        <documentName inherit="false">response</documentName>
                                                                    </applicationProperties>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="0538d9b6-ceac-4194-913d-32963e3061f9" action="return">
                    <command>
                        <body>[response]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="parameter_group_name">
                    <defaultValue>LS_params</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{}</response>
        </item>
        <item name="get_result_files_and_add_artifact_links" isPublic="true">
            <steps>
                <item guid="c3596674-59b7-44f3-a9a9-c28c59f3fe80" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Show result files and get files from result list</body>
                    </command>
                    <nestedSteps>
                        <item guid="eac9d6cc-4bf5-4193-acae-403866db887f" action="Custom" session="[session]">
                            <command>
                                <body>-requestMethod GET -dataType json -rawResponse true -url runningTests/[running_id]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>resultFilesList()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>result_files</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>running_test_info</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" rawResponse="true" rawResponse.inherit="false" url="runningTests/[running_id]" url.inherit="false"/>
                        </item>
                        <item guid="821c6d10-2298-47bc-a636-96bb3ac7b080" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(result_files)</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/item)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>file_count</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="7fcec77e-adfd-4e9c-968b-0d402c2ffaa4" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>file_extension_list = file_extension.split(&quot;;&quot;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="39c897a9-374e-4dcf-9c9e-66ee3f5e5a18" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>files = []</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="24d06587-9e3c-4513-89ab-54d6993eb2b6" action="for" useFieldsInCommand="false">
                            <command>
                                <body>i in range(0, int(file_count)):</body>
                            </command>
                            <nestedSteps>
                                <item guid="d031b70e-2b76-4b1a-b2e0-ba378d47060f" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;result_files&apos;, pathValue=&apos;{&quot;\\\\[[i]]&quot;}&apos;</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>group1()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>file_url</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">getJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;\\[[i]]&quot;}</pathValue>
                                        <documentName inherit="false">result_files</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="02662c35-acf0-4bca-8d01-33196b9fafa9" action="for" useFieldsInCommand="false">
                                    <command>
                                        <body>extension in file_extension_list:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="460a0d02-1456-4375-92f3-59d0f6c96045" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>file_url.endswith(extension):</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="6f943e10-e3ba-4621-84d2-c54fe342a4f6" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>file_name = file_url[(file_url.rindex(&quot;/&quot;) + 1):len(file_url)]</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="84bc3421-b51c-462a-987b-6e0a2074a731" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>files.append(file_name)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="4ce67e5d-f50a-4eaa-8a87-0f040dedd4fe" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>artifact == &quot;true&quot;:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="2a7fcb39-5546-4695-a38f-918c94d8b75a" action="artifactLink">
                                                            <command>
                                                                <body>[file_url] [file_name]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="0603b3a7-230e-4ff1-8664-b35cbaf4e77c" action="return">
                            <command>
                                <body>[files]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="running_id">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="file_extension">
                    <description>Extension of files, seperate by &apos;;&apos;</description>
                    <defaultValue>pcap</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="artifact">
                    <defaultValue>true</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{}</response>
        </item>
        <item name="get_run_data" isPublic="true">
            <steps>
                <item guid="dea02a1e-662a-438b-93e3-2a94b7e0ac5c" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Return default response when test session is empty</body>
                    </command>
                    <nestedSteps>
                        <item guid="d9447fb0-7f6d-432e-80e8-6ead34c4cc12" action="if" useFieldsInCommand="false">
                            <command>
                                <body>not test_session_name:</body>
                            </command>
                            <nestedSteps>
                                <item guid="3698dbf9-7108-4fb2-be1d-f0d885163c05" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;createJson&apos;, documentName=&apos;response&apos;, fromFile=&apos;false&apos;, jsonString=&apos;{&quot;runId&quot;:&quot;&quot;, &quot;ts_id&quot;: &quot;&quot;, &quot;ts_index&quot;: &quot;&quot;}&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">createJson</action>
                                        <jsonString inherit="false" sub="true">{&quot;runId&quot;:&quot;&quot;, &quot;ts_id&quot;: &quot;&quot;, &quot;ts_index&quot;: &quot;&quot;}</jsonString>
                                        <documentName inherit="false">response</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="95f7f862-b7d3-4ea3-9a29-45a50d8f9007" action="return">
                                    <command>
                                        <body>[response]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="970422a4-fbe3-4cad-84b5-00e70afcaa50" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Get Test Session data: duration, reservations, tsGroups base on Test Session name </body>
                    </command>
                    <nestedSteps>
                        <item guid="afc8b3fd-71ee-41f2-940a-079a3f47b5b7" action="get_test_session_data" session="[session]" useFieldsInCommand="false">
                            <command>
                                <body>-test_session_name [test_session_name] -library_id [library_id]</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>run_data</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="9778a1b8-0010-4ef1-8250-698f5aa4f258" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Configure TS group for test session data and reserver port in TS group</body>
                    </command>
                    <nestedSteps>
                        <item guid="58413370-fbea-4202-8397-d11522b0fda3" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;setJsonValue&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;library&quot;:&quot;[library_id]&quot;,&quot;name&quot;:&quot;[test_session_name]&quot;}&apos;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">setJsonValue</action>
                                <pathValue inherit="false" sub="true">{&quot;library&quot;:&quot;[library_id]&quot;,&quot;name&quot;:&quot;[test_session_name]&quot;}</pathValue>
                                <documentName inherit="false">run_data</documentName>
                            </applicationProperties>
                        </item>
                        <item guid="57a10698-5810-42b4-b6dc-6f2a400836d8" action="configure_test_session" session="[session]" useFieldsInCommand="false">
                            <command>
                                <body>-ts_groups [ts_groups] -run_data [run_data] -ts_name [ts_node_name]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/tsGroups/item)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>tsgroups_count</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>portCapture()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>ports_capture</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>run_data</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="d90de288-9b00-4a94-8d49-79155a2b42a8" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ts_ids = &quot;&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="e565803f-f84e-46da-9571-46e989698a3b" action="for" useFieldsInCommand="false">
                            <command>
                                <body>i in range(0, int(tsgroups_count)):</body>
                            </command>
                            <nestedSteps>
                                <item guid="c2512a1d-439e-4cbd-a396-560724783c8d" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[i]]/tsId&quot;}&apos;</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>tsId()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>tsId</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">getJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[i]]/tsId&quot;}</pathValue>
                                        <documentName inherit="false">run_data</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="2bf6c94c-bbdc-4302-91e5-ea12f35b6dc2" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_ids += &quot;{0} &quot;.format(tsId)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="439b690e-856b-4034-8c7e-1d62e047afbc" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ts_ids = ts_ids.strip()</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="48ab0a0e-b848-4c90-8025-0b4a88617f52" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Mapping nodal ip</body>
                    </command>
                    <nestedSteps>
                        <item guid="daa8064d-fc74-4cba-8f5b-6baeff1c921d" action="mapping_nodal_ip" session="[session]" useFieldsInCommand="false">
                            <command>
                                <body>-run_data [run_data] -node_data [node_data]</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>run_data</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="ff3c805a-d9e9-4adc-ba26-11d7468f922a" action="return">
                    <command>
                        <body>[run_data]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="test_session_name">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="library_id">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="ts_groups">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="tsgroup_count">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="ts_node_name">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="is_mapping_required">
                    <defaultValue>False</defaultValue>
                </item>
                <item name="node_data"/>
            </arguments>
            <response>{}</response>
        </item>
        <item name="get_run_data_for_multi_test_instance" isPublic="true">
            <steps>
                <item guid="88a40956-5b27-4b69-9736-6d60f57e6e00" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Get run data for each test instance</body>
                    </command>
                    <nestedSteps>
                        <item guid="97f2d3c5-2fe6-44ac-bba6-7ce9e8fe6bbe" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>run_data_list = []</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="dbc488df-ada9-4d37-ac29-0fdb00fa7e06" action="for" useFieldsInCommand="false">
                            <command>
                                <body>instance_index in range(0, int(testserver_number)):</body>
                            </command>
                            <nestedSteps>
                                <item guid="48f708d7-b653-44c2-8905-29d9207fa525" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Configure TS group for test session data and reserver port in TS group</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="003095a6-6143-482b-9f31-99a4406271e3" action="configure_test_session" session="[session]" useFieldsInCommand="false">
                                            <command>
                                                <body>-run_data [run_data] -ts_groups [ts_groups] -ts_name &quot;&quot;</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>count(mapped/Json/tsGroups/item)</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>tsgroups_count</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                                <storeResponseAt>run_data</storeResponseAt>
                                                <storeResponseText>true</storeResponseText>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="e03d8d4d-916d-4bde-ace8-4108b2d6e1c5" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>i in range(0, int(tsgroups_count)):</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="210d9d7c-442e-4790-b0d5-c126eaa8dfae" action="json" useFieldsInCommand="false">
                                                    <command>
                                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[i]]/tsId&quot;}&apos;</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>tsId()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>reserved_ts_id</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                        <action inherit="false">getJsonNode</action>
                                                        <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[i]]/tsId&quot;}</pathValue>
                                                        <documentName inherit="false">run_data</documentName>
                                                    </applicationProperties>
                                                </item>
                                                <item guid="f50f01bc-be66-409f-a66e-96fc878a15b6" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>print(ts_groups)</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query sub="true">count(mapped/Json/item\\[TS_ID = [reserved_ts_id]]/preceding-sibling::*)</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>ts_used_index</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="f5802337-a2d9-4d76-aabf-5e2f333585d6" action="json" useFieldsInCommand="false">
                                                    <command>
                                                        <body>action=&apos;setJsonValue&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;ts_groups&apos;, pathValue=&apos;{&quot;\\\\[[ts_used_index]]/is_reserve&quot;:true}&apos;</body>
                                                    </command>
                                                    <postProcessing>
                                                        <storeResponseAt>ts_groups</storeResponseAt>
                                                        <storeResponseText>true</storeResponseText>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                        <action inherit="false">setJsonValue</action>
                                                        <pathValue inherit="false" sub="true">{&quot;\\[[ts_used_index]]/is_reserve&quot;:true}</pathValue>
                                                        <documentName inherit="false">ts_groups</documentName>
                                                    </applicationProperties>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="80cce63f-d557-4fb3-974f-d074af7195ff" action="comment" skip="true" useFieldsInCommand="false">
                                            <command>
                                                <body>Mapping nodal ip</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="8cc23c63-78e2-42bc-9d59-de4fd322430a" action="mapping_nodal_ip" session="[session]" useFieldsInCommand="false">
                                                    <command>
                                                        <body>-run_data [run_data] -node_data [node_data]</body>
                                                    </command>
                                                    <postProcessing>
                                                        <storeResponseAt>run_data</storeResponseAt>
                                                        <storeResponseText>true</storeResponseText>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="65cbfe61-57b0-441f-8359-40d9948ba9eb" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>include_ports_capture == &quot;false&quot;:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="f8fdd628-0340-4de4-ba74-375a90704e5a" action="json" useFieldsInCommand="false">
                                                    <command>
                                                        <body>action=&apos;deleteJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;portCapture&quot;}&apos;</body>
                                                    </command>
                                                    <postProcessing>
                                                        <storeResponseAt>run_data</storeResponseAt>
                                                        <storeResponseText>true</storeResponseText>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                        <action inherit="false">deleteJsonNode</action>
                                                        <pathValue inherit="false">{&quot;portCapture&quot;}</pathValue>
                                                        <documentName inherit="false">run_data</documentName>
                                                    </applicationProperties>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="367123fb-d90e-47fe-8edd-0162859c74f7" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>run_data_list.append(run_data)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="9ae8ff98-78f9-4533-9348-2fc0ed5fd3e0" action="return">
                    <command>
                        <body>[run_data_list]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="run_data">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="testserver_number">
                    <defaultValue>1</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="ts_groups"/>
                <item name="include_ports_capture">
                    <defaultValue>false</defaultValue>
                </item>
            </arguments>
        </item>
        <item name="get_test_session_data" isPublic="true">
            <steps>
                <item guid="859f4b46-e404-48ea-b273-47ef67251f00" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Return default response when test session is empty</body>
                    </command>
                    <nestedSteps>
                        <item guid="34530d95-1dd8-4a8f-8aa4-87607fac0be9" action="if" useFieldsInCommand="false">
                            <command>
                                <body>not test_session_name:</body>
                            </command>
                            <nestedSteps>
                                <item guid="94193982-0320-4d09-8b90-2a1201290626" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;createJson&apos;, documentName=&apos;response&apos;, fromFile=&apos;false&apos;, jsonString=&apos;{&quot;runId&quot;:&quot;&quot;, &quot;ts_id&quot;: &quot;&quot;, &quot;ts_index&quot;: &quot;&quot;}&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">createJson</action>
                                        <jsonString inherit="false" sub="true">{&quot;runId&quot;:&quot;&quot;, &quot;ts_id&quot;: &quot;&quot;, &quot;ts_index&quot;: &quot;&quot;}</jsonString>
                                        <documentName inherit="false">response</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="c39aae41-7839-4f3d-ae85-23fc0d033f4e" action="return">
                                    <command>
                                        <body>[response]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="2b1a69a6-bd73-4404-883d-cf4d14186314" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Get Test Session Data</body>
                    </command>
                    <nestedSteps>
                        <item guid="5cdaea4f-37aa-4a59-b4e5-3d5af8f47e5f" action="Custom" session="[session]">
                            <command>
                                <body>-requestMethod GET -dataType json -rawResponse true -url libraries/[library_id]/TestSessions/[test_session_name]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>boolean(mapped/Json/reason)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>value == &quot;true&quot;</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>error = True</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>error = False</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>duration()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>duration</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>reserveProcesses()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>reserve_processes</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>reservePorts()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>reserve_ports</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>reportOptions()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>reports_option</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="contains">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                <searchString>&quot;steps&quot;:</searchString>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>value == 1</expression>
                                                <actionsWhenFalse>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>steps()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>steps</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>test_session_info</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" rawResponse="true" rawResponse.inherit="false" url="libraries/[library_id]/TestSessions/[test_session_name]" url.inherit="false"/>
                        </item>
                        <item guid="39c8b975-1bae-4c4c-8da0-fc7c4f8eda77" action="if" useFieldsInCommand="false">
                            <command>
                                <body>error:</body>
                            </command>
                            <nestedSteps>
                                <item guid="6dcd0442-0584-48fe-b008-a66fb0c3376b" action="return">
                                    <command>
                                        <body>[test_session_info]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="3678b7b8-4d49-4c8d-a73c-df2ea7a1ae7f" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Create default run data for LS Run API</body>
                    </command>
                    <nestedSteps>
                        <item guid="3f11d1c7-3c99-4889-9455-ebc2534bc65b" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;createJson&apos;, documentName=&apos;run_data&apos;, fromFile=&apos;false&apos;, jsonString=&apos;{&quot;duration&quot;:&quot;[duration]&quot;,&quot;library&quot;:&quot;[library_id]&quot;,&quot;name&quot;:&quot;[test_session_name]&quot;,&quot;reservePorts&quot;:&quot;[reserve_ports]&quot;,&quot;reserveProcesses&quot;:&quot;[reserve_processes]&quot;, &quot;reservations&quot;: &quot;&quot;, &quot;portCapture&quot;: &quot;&quot;}&apos;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">createJson</action>
                                <jsonString inherit="false" sub="true">{&quot;duration&quot;:&quot;[duration]&quot;,&quot;library&quot;:&quot;[library_id]&quot;,&quot;name&quot;:&quot;[test_session_name]&quot;,&quot;reservePorts&quot;:&quot;[reserve_ports]&quot;,&quot;reserveProcesses&quot;:&quot;[reserve_processes]&quot;, &quot;reservations&quot;: &quot;&quot;, &quot;portCapture&quot;: &quot;&quot;}</jsonString>
                                <documentName inherit="false">run_data</documentName>
                            </applicationProperties>
                        </item>
                        <item guid="1e5e5c4a-708e-4c65-9f4f-e986d3a2d557" action="if" useFieldsInCommand="false">
                            <command>
                                <body>&apos;steps&apos; in locals():</body>
                            </command>
                            <nestedSteps>
                                <item guid="a3c63561-ca97-4340-83f6-b65414d322ef" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;/&quot;:{&quot;steps&quot;:[steps]}}&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">addJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;/&quot;:{&quot;steps&quot;:[steps]}}</pathValue>
                                        <documentName inherit="false">run_data</documentName>
                                    </applicationProperties>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="3d1c6176-dc96-4033-8f05-e7560b3420a1" action="else" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="fdc64ef8-9ef6-4878-ae21-fba249bd618e" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;/&quot;:{&quot;steps&quot;:[]}}&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">addJsonNode</action>
                                        <pathValue inherit="false">{&quot;/&quot;:{&quot;steps&quot;:[]}}</pathValue>
                                        <documentName inherit="false">run_data</documentName>
                                    </applicationProperties>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="f5482810-c835-4188-a511-2fa1b5c13d03" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Get ports need to capture in test session </body>
                    </command>
                    <nestedSteps>
                        <item guid="f97405fb-b382-47ee-b2bd-5f9ef4248aee" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>capture_ports = &quot;&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="0f0fe3e4-6c6b-429f-9d76-e248792fc345" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;test_session_info&apos;, pathValue=&apos;{&quot;portCapture&quot;}&apos;</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/portCapture/item)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>capture_ports_count</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>capture_ports_info</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">getJsonNode</action>
                                <pathValue inherit="false">{&quot;portCapture&quot;}</pathValue>
                                <documentName inherit="false">test_session_info</documentName>
                            </applicationProperties>
                        </item>
                        <item guid="d2046879-5f0a-4012-b88d-946a523095df" action="for" useFieldsInCommand="false">
                            <command>
                                <body>i in range(0, int(capture_ports_count)):</body>
                            </command>
                            <nestedSteps>
                                <item guid="769ed6fc-cb59-4b96-bf79-c3b62ec85761" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;capture_ports_info&apos;, pathValue=&apos;{&quot;portCapture/\\\\[[i]]/onStart&quot;}&apos;</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>onStart()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>capture_on_start</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">getJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;portCapture/\\[[i]]/onStart&quot;}</pathValue>
                                        <documentName inherit="false">capture_ports_info</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="f7d8969e-cdcb-4836-aea3-6d16c0fd1083" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>capture_on_start == &quot;true&quot;:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="9658193a-15c4-46a8-b48b-95b11ef0cec9" action="json" useFieldsInCommand="false">
                                            <command>
                                                <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;capture_ports_info&apos;, pathValue=&apos;{&quot;portCapture/\\\\[[i]]/port&quot;}&apos;</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>port()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>port</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                <action inherit="false">getJsonNode</action>
                                                <pathValue inherit="false" sub="true">{&quot;portCapture/\\[[i]]/port&quot;}</pathValue>
                                                <documentName inherit="false">capture_ports_info</documentName>
                                            </applicationProperties>
                                        </item>
                                        <item guid="5ed128d1-89f3-4750-9913-43aba6f7e784" action="json" useFieldsInCommand="false">
                                            <command>
                                                <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;capture_ports_info&apos;, pathValue=&apos;{&quot;portCapture/\\\\[[i]]/tsId&quot;}&apos;</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>tsId()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>tsId</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                <action inherit="false">getJsonNode</action>
                                                <pathValue inherit="false" sub="true">{&quot;portCapture/\\[[i]]/tsId&quot;}</pathValue>
                                                <documentName inherit="false">capture_ports_info</documentName>
                                            </applicationProperties>
                                        </item>
                                        <item guid="309ba341-51d5-4f04-a89f-b389c583031d" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>capture_ports += &quot;{0}:{1} &quot;.format(tsId, port)</body>
                                            </command>
                                            <postProcessing isStoreResponseGlobal="true"/>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="c5e2fe9d-7838-40d8-bb0c-862ea28f8594" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>capture_ports = capture_ports.strip()</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="332ae825-d862-4525-8073-2ee3b9f8e3c1" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;setJsonValue&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;portCapture&quot;:&quot;[capture_ports]&quot;}&apos;</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>run_data</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">setJsonValue</action>
                                <pathValue inherit="false" sub="true">{&quot;portCapture&quot;:&quot;[capture_ports]&quot;}</pathValue>
                                <documentName inherit="false">run_data</documentName>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="fbcc89a3-0569-47e9-80e2-4ade7135b503" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Get and add Ts Groups to run data</body>
                    </command>
                    <nestedSteps>
                        <item guid="14d848cf-1953-4ef8-b158-c32844f4a720" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>current_ts_list = []</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="e20ebf95-e70c-497a-a471-5bc7e689f2e9" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;createJson&apos;, documentName=&apos;ts_groups_node&apos;, fromFile=&apos;false&apos;, jsonString=&apos;{&quot;tsGroups&quot;:[]}&apos;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">createJson</action>
                                <jsonString inherit="false">{&quot;tsGroups&quot;:[]}</jsonString>
                                <documentName inherit="false">ts_groups_node</documentName>
                            </applicationProperties>
                        </item>
                        <item guid="90eb08be-ceeb-4bf5-8498-b95843b3279c" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;test_session_info&apos;, pathValue=&apos;{&quot;tsGroups&quot;}&apos;</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/tsGroups/item)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>tsgroups_count</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>ts_groups</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">getJsonNode</action>
                                <pathValue inherit="false">{&quot;tsGroups&quot;}</pathValue>
                                <documentName inherit="false">test_session_info</documentName>
                            </applicationProperties>
                        </item>
                        <item guid="e91c1b68-da8a-45d0-85d7-7e0ea258a43d" action="for" useFieldsInCommand="false">
                            <command>
                                <body>i in range(0, int(tsgroups_count)):</body>
                            </command>
                            <nestedSteps>
                                <item guid="5d9470d4-73ed-471a-9672-a7af48b87008" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;ts_groups&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[i]]/tsId&quot;}&apos;</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>tsId()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>ts_id</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">getJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[i]]/tsId&quot;}</pathValue>
                                        <documentName inherit="false">ts_groups</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="bc31db94-43e6-4b25-8f54-6021a0f5dbcf" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>current_ts_list.append(ts_id)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="c185fb38-6141-4893-84d5-a1a3e6c89918" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;ts_groups_node&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[i]]&quot;:\\\\[{&quot;tsId&quot;:[ts_id]}]}&apos;</body>
                                    </command>
                                    <postProcessing>
                                        <storeResponseAt>ts_groups_node</storeResponseAt>
                                        <storeResponseText>true</storeResponseText>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">addJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[i]]&quot;:\\[{&quot;tsId&quot;:[ts_id]}]}</pathValue>
                                        <documentName inherit="false">ts_groups_node</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="2ed0334a-3478-49a1-b5d1-0a2799125b4f" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;ts_groups&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[i]]/testCases&quot;}&apos;</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>count(mapped/Json/testCases/item)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>testcase_count</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <storeResponseAt>testcase</storeResponseAt>
                                        <storeResponseText>true</storeResponseText>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">getJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[i]]/testCases&quot;}</pathValue>
                                        <documentName inherit="false">ts_groups</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="5cd1ceb2-97ba-48f3-9ed7-a1f3679ab91b" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;ts_groups_node&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[i]]/&quot;:{&quot;testCases&quot;:\\\\[]}}&apos;</body>
                                    </command>
                                    <postProcessing>
                                        <storeResponseAt>ts_groups_node</storeResponseAt>
                                        <storeResponseText>true</storeResponseText>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">addJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[i]]/&quot;:{&quot;testCases&quot;:\\[]}}</pathValue>
                                        <documentName inherit="false">ts_groups_node</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="cb381b70-bf93-4fbe-b7c8-8d0623155256" action="for" useFieldsInCommand="false">
                                    <command>
                                        <body>tc_index in range(0, int(testcase_count)):</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="bf87fff2-21c4-4824-afae-576b2754b926" action="json" useFieldsInCommand="false">
                                            <command>
                                                <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;ts_groups_node&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[i]]/testCases/\\\\[[tc_index]]&quot;:\\\\[{&quot;parameters&quot;:{}}]}&apos;</body>
                                            </command>
                                            <postProcessing>
                                                <storeResponseAt>ts_groups_node</storeResponseAt>
                                                <storeResponseText>true</storeResponseText>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                <action inherit="false">addJsonNode</action>
                                                <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[i]]/testCases/\\[[tc_index]]&quot;:\\[{&quot;parameters&quot;:{}}]}</pathValue>
                                                <documentName inherit="false">ts_groups_node</documentName>
                                            </applicationProperties>
                                        </item>
                                        <item guid="05072f7c-a919-454f-a6d5-2dfaaa056a3c" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Add Test case parameters</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="ae8b6eb8-58c8-4cf4-af55-73f9d7fb8d13" action="json" useFieldsInCommand="false">
                                                    <command>
                                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;testcase&apos;, pathValue=&apos;{&quot;testCases/\\\\[[tc_index]]/parameters&quot;}&apos;</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>count(mapped/Json/parameters/*[class = &quot;TestNode&quot;])</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>node_count</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>count(mapped/Json/parameters/*[class = &quot;Sut&quot;])</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>sut_count</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>count(mapped/Json/parameters/Sessions)</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="assert">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                        <expression>int(value) &gt; 0</expression>
                                                                        <actionsWhenTrue>
                                                                            <item actionId="Eval">
                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                                    <statement>sessions_exists = True</statement>
                                                                                </actionProperties>
                                                                            </item>
                                                                        </actionsWhenTrue>
                                                                        <actionsWhenFalse>
                                                                            <item actionId="Eval">
                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                                    <statement>sessions_exists = False</statement>
                                                                                </actionProperties>
                                                                            </item>
                                                                        </actionsWhenFalse>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>count(mapped/Json/parameters/StartRate)</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="assert">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                        <expression>int(value) &gt; 0</expression>
                                                                        <actionsWhenTrue>
                                                                            <item actionId="Eval">
                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                                    <statement>startrate_exists = True</statement>
                                                                                </actionProperties>
                                                                            </item>
                                                                        </actionsWhenTrue>
                                                                        <actionsWhenFalse>
                                                                            <item actionId="Eval">
                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                                    <statement>startrate_exists = False</statement>
                                                                                </actionProperties>
                                                                            </item>
                                                                        </actionsWhenFalse>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>count(mapped/Json/parameters/DisconnectRate)</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="assert">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                        <expression>int(value) &gt; 0</expression>
                                                                        <actionsWhenTrue>
                                                                            <item actionId="Eval">
                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                                    <statement>disconnectrate_exists = True</statement>
                                                                                </actionProperties>
                                                                            </item>
                                                                        </actionsWhenTrue>
                                                                        <actionsWhenFalse>
                                                                            <item actionId="Eval">
                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                                    <statement>disconnectrate_exists = False</statement>
                                                                                </actionProperties>
                                                                            </item>
                                                                        </actionsWhenFalse>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>count(mapped/Json/parameters/DefaultBearers)</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="assert">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                        <expression>int(value) &gt; 0</expression>
                                                                        <actionsWhenTrue>
                                                                            <item actionId="Eval">
                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                                    <statement>number_pdus_exists = True</statement>
                                                                                </actionProperties>
                                                                            </item>
                                                                        </actionsWhenTrue>
                                                                        <actionsWhenFalse>
                                                                            <item actionId="Eval">
                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                                    <statement>number_pdus_exists = False</statement>
                                                                                </actionProperties>
                                                                            </item>
                                                                        </actionsWhenFalse>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>count(mapped/Json/parameters/NumUes)</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="assert">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                        <expression>int(value) &gt; 0</expression>
                                                                        <actionsWhenTrue>
                                                                            <item actionId="Eval">
                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                                    <statement>number_ues_exists = True</statement>
                                                                                </actionProperties>
                                                                            </item>
                                                                        </actionsWhenTrue>
                                                                        <actionsWhenFalse>
                                                                            <item actionId="Eval">
                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                                    <statement>number_ues_exists = False</statement>
                                                                                </actionProperties>
                                                                            </item>
                                                                        </actionsWhenFalse>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                        <storeResponseAt>parameters</storeResponseAt>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                        <action inherit="false">getJsonNode</action>
                                                        <pathValue inherit="false" sub="true">{&quot;testCases/\\[[tc_index]]/parameters&quot;}</pathValue>
                                                        <documentName inherit="false">testcase</documentName>
                                                    </applicationProperties>
                                                </item>
                                                <item guid="f3c9d7ef-45a4-4dbe-bd9b-1c5a5a7576d9" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Add LS TestNodes</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="a0d0034d-0ae6-470b-a078-b6d2ecf963bf" action="for" useFieldsInCommand="false">
                                                            <command>
                                                                <body>node_index in range(1, int(node_count) + 1):</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="8f9d43f9-e9ff-41e6-b32c-651c052a5a56" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>query_path = &apos;name(mapped/Json/parameters/*[class = &quot;TestNode&quot;][{0}])&apos;.format(str(node_index))</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="238788ce-860d-472b-8062-acbc8b1c68f0" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>query(&apos;parameters&apos;,query_path)</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <analysisRules>
                                                                            <item>
                                                                                <extractorInfo extractorType="query">
                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                        <query>responseLine()</query>
                                                                                    </extractorProperties>
                                                                                </extractorInfo>
                                                                                <processorInfo ruleType="store">
                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                        <storageLocation>node_name</storageLocation>
                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                    </ruleProperties>
                                                                                </processorInfo>
                                                                            </item>
                                                                        </analysisRules>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="5822e5c8-3824-48cb-9753-6c4015d1f29d" action="if" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>node_name:</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="657eda86-fb1f-432a-9d6e-1178b2f93d0c" action="json" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;testcase&apos;, pathValue=&apos;{&quot;testCases/\\\\[[tc_index]]/parameters/[node_name]&quot;}&apos;</body>
                                                                            </command>
                                                                            <postProcessing>
                                                                                <analysisRules>
                                                                                    <item>
                                                                                        <extractorInfo extractorType="query">
                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                <query sub="true">mapped/Json/[node_name]/phy</query>
                                                                                            </extractorProperties>
                                                                                        </extractorInfo>
                                                                                        <processorInfo ruleType="store">
                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                <storageLocation>node_phy</storageLocation>
                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                            </ruleProperties>
                                                                                        </processorInfo>
                                                                                    </item>
                                                                                </analysisRules>
                                                                            </postProcessing>
                                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                                <action inherit="false">getJsonNode</action>
                                                                                <pathValue inherit="false" sub="true">{&quot;testCases/\\[[tc_index]]/parameters/[node_name]&quot;}</pathValue>
                                                                                <documentName inherit="false">testcase</documentName>
                                                                            </applicationProperties>
                                                                        </item>
                                                                        <item guid="c802a894-a830-4d98-b5d3-27e664f38081" action="json" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;ts_groups_node&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[i]]/testCases/\\\\[[tc_index]]/parameters/&quot;:{&quot;[node_name]&quot;:{&quot;phy&quot;:&quot;[node_phy]&quot;}}}&apos;</body>
                                                                            </command>
                                                                            <postProcessing>
                                                                                <storeResponseAt>ts_groups_node</storeResponseAt>
                                                                                <storeResponseText>true</storeResponseText>
                                                                            </postProcessing>
                                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                                <action inherit="false">addJsonNode</action>
                                                                                <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[i]]/testCases/\\[[tc_index]]/parameters/&quot;:{&quot;[node_name]&quot;:{&quot;phy&quot;:&quot;[node_phy]&quot;}}}</pathValue>
                                                                                <documentName inherit="false">ts_groups_node</documentName>
                                                                            </applicationProperties>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="808190f1-f364-4cb0-a971-3de376e70ef0" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Add LS Sut</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="8e30895c-017c-45ce-85f4-4604e2658207" action="for" useFieldsInCommand="false">
                                                            <command>
                                                                <body>sut_index in range(1, int(sut_count) + 1):</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="8334cdda-7b3a-4732-a46d-22f3c3aec5a7" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>query_path = &apos;name(mapped/Json/parameters/*[class = &quot;Sut&quot;][{0}])&apos;.format(str(sut_index))</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="09b3b365-ea70-45ad-a59c-c306ff607d45" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>query(&apos;parameters&apos;,query_path)</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <analysisRules>
                                                                            <item>
                                                                                <extractorInfo extractorType="query">
                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                        <query>responseLine()</query>
                                                                                    </extractorProperties>
                                                                                </extractorInfo>
                                                                                <processorInfo ruleType="store">
                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                        <storageLocation>sut_name</storageLocation>
                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                    </ruleProperties>
                                                                                </processorInfo>
                                                                            </item>
                                                                        </analysisRules>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="e6765269-61e1-4542-8649-974870789704" action="if" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>sut_name:</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="54944bb0-c0d5-46b3-acf4-11cd5387f915" action="json" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;testcase&apos;, pathValue=&apos;{&quot;testCases/\\\\[[tc_index]]/parameters/[sut_name]&quot;}&apos;</body>
                                                                            </command>
                                                                            <postProcessing>
                                                                                <analysisRules>
                                                                                    <item>
                                                                                        <extractorInfo extractorType="query">
                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                <query sub="true">mapped/Json/[sut_name]/name</query>
                                                                                            </extractorProperties>
                                                                                        </extractorInfo>
                                                                                        <processorInfo ruleType="store">
                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                <storageLocation>sut_ip</storageLocation>
                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                            </ruleProperties>
                                                                                        </processorInfo>
                                                                                    </item>
                                                                                </analysisRules>
                                                                            </postProcessing>
                                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                                <action inherit="false">getJsonNode</action>
                                                                                <pathValue inherit="false" sub="true">{&quot;testCases/\\[[tc_index]]/parameters/[sut_name]&quot;}</pathValue>
                                                                                <documentName inherit="false">testcase</documentName>
                                                                            </applicationProperties>
                                                                        </item>
                                                                        <item guid="06e62c30-684a-4618-8ce6-2d96037cf7d6" action="json" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;ts_groups_node&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[i]]/testCases/\\\\[[tc_index]]/parameters/&quot;:{&quot;[sut_name]&quot;:{&quot;name&quot;:&quot;[sut_ip]&quot;}}}&apos;</body>
                                                                            </command>
                                                                            <postProcessing>
                                                                                <storeResponseAt>ts_groups_node</storeResponseAt>
                                                                                <storeResponseText>true</storeResponseText>
                                                                            </postProcessing>
                                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                                <action inherit="false">addJsonNode</action>
                                                                                <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[i]]/testCases/\\[[tc_index]]/parameters/&quot;:{&quot;[sut_name]&quot;:{&quot;name&quot;:&quot;[sut_ip]&quot;}}}</pathValue>
                                                                                <documentName inherit="false">ts_groups_node</documentName>
                                                                            </applicationProperties>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="428642e1-602b-4255-8f56-5a9a3c1b4077" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Add Sessions/StartRate/DisconnectRate</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="5a345fe6-6750-4ce5-980f-527014ec682e" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>sessions_exists:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="cd2afdfb-e412-490f-9abf-5bf3534cb3f1" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>query_path = &apos;mapped/Json/parameters/Sessions&apos;</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="fd0b58ab-bfc5-46d6-8e5d-4be5cfa7489c" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>value = query(&apos;parameters&apos;,query_path);print(value)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="937abfd5-aace-4ece-b0ec-ca090985535f" action="json" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;ts_groups_node&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[i]]/testCases/\\\\[[tc_index]]/parameters/&quot;:{&quot;Sessions&quot;:&quot;[value]&quot;}}&apos;</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <storeResponseAt>ts_groups_node</storeResponseAt>
                                                                        <storeResponseText>true</storeResponseText>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                        <action inherit="false">addJsonNode</action>
                                                                        <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[i]]/testCases/\\[[tc_index]]/parameters/&quot;:{&quot;Sessions&quot;:&quot;[value]&quot;}}</pathValue>
                                                                        <documentName inherit="false">ts_groups_node</documentName>
                                                                    </applicationProperties>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="bbb2c54e-cc0b-4891-87a4-9be2530bc1e1" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>startrate_exists:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="d401ebbd-fd8e-461a-b16f-f1977aceef67" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>query_path = &apos;mapped/Json/parameters/StartRate&apos;</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="9fc4f581-4b12-4a47-be67-548c52c56a53" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>value = query(&apos;parameters&apos;,query_path);print(value)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="80fe949b-7620-4123-87b9-6016485373ec" action="json" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;ts_groups_node&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[i]]/testCases/\\\\[[tc_index]]/parameters/&quot;:{&quot;StartRate&quot;:&quot;[value]&quot;}}&apos;</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <storeResponseAt>ts_groups_node</storeResponseAt>
                                                                        <storeResponseText>true</storeResponseText>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                        <action inherit="false">addJsonNode</action>
                                                                        <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[i]]/testCases/\\[[tc_index]]/parameters/&quot;:{&quot;StartRate&quot;:&quot;[value]&quot;}}</pathValue>
                                                                        <documentName inherit="false">ts_groups_node</documentName>
                                                                    </applicationProperties>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="ccf5b6a8-160c-4544-9fce-4a6331892a66" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>disconnectrate_exists:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="93a457f4-02d9-4213-90de-bb0f4b678d76" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>query_path = &apos;mapped/Json/parameters/DisconnectRate&apos;</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="1658f0a7-3b47-4df2-be7c-24a3e6858986" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>value = query(&apos;parameters&apos;,query_path);print(value)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="d36f6016-09df-4e52-bd9a-13962af8e524" action="json" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;ts_groups_node&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[i]]/testCases/\\\\[[tc_index]]/parameters/&quot;:{&quot;DisconnectRate&quot;: &quot;[value]&quot;}}&apos;</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <storeResponseAt>ts_groups_node</storeResponseAt>
                                                                        <storeResponseText>true</storeResponseText>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                        <action inherit="false">addJsonNode</action>
                                                                        <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[i]]/testCases/\\[[tc_index]]/parameters/&quot;:{&quot;DisconnectRate&quot;: &quot;[value]&quot;}}</pathValue>
                                                                        <documentName inherit="false">ts_groups_node</documentName>
                                                                    </applicationProperties>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="1485ae88-56b9-4f6a-ae99-115650b58243" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Add Number of PDUs</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="a97265cf-8e39-4ab3-8cf7-0c5f81b24342" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>number_pdus_exists:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="468ab1f8-8a1a-40d7-8b9e-b170ee1ab809" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>query_path = &apos;mapped/Json/parameters/DefaultBearers&apos;</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="eeb41ac3-926c-43f5-9e37-8127ce7440e4" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>value = query(&apos;parameters&apos;,query_path);print(value)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="d32b0c5d-167e-4cae-ae0d-e2373b182093" action="json" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;ts_groups_node&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[i]]/testCases/\\\\[[tc_index]]/parameters/&quot;:{&quot;DefaultBearers&quot;:&quot;[value]&quot;}}&apos;</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <storeResponseAt>ts_groups_node</storeResponseAt>
                                                                        <storeResponseText>true</storeResponseText>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                        <action inherit="false">addJsonNode</action>
                                                                        <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[i]]/testCases/\\[[tc_index]]/parameters/&quot;:{&quot;DefaultBearers&quot;:&quot;[value]&quot;}}</pathValue>
                                                                        <documentName inherit="false">ts_groups_node</documentName>
                                                                    </applicationProperties>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="28b34afe-d8ac-42a2-8688-c5a986999ba4" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Add Number of UEs</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="748f0b3f-2a27-416d-8a32-9849c158d57d" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>number_ues_exists:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="c8c20564-21d4-46c9-be46-c9683f87e7b1" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>query_path = &apos;mapped/Json/parameters/NumUes&apos;</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="af0d971f-6b49-47a3-b66b-0eeca385ba32" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>value = query(&apos;parameters&apos;,query_path);print(value)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="45414b96-3168-4cbd-a6ce-f2a07f7717e1" action="json" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;ts_groups_node&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[i]]/testCases/\\\\[[tc_index]]/parameters/&quot;:{&quot;NumUes&quot;:&quot;[value]&quot;}}&apos;</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <storeResponseAt>ts_groups_node</storeResponseAt>
                                                                        <storeResponseText>true</storeResponseText>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                        <action inherit="false">addJsonNode</action>
                                                                        <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[i]]/testCases/\\[[tc_index]]/parameters/&quot;:{&quot;NumUes&quot;:&quot;[value]&quot;}}</pathValue>
                                                                        <documentName inherit="false">ts_groups_node</documentName>
                                                                    </applicationProperties>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="48626074-a2a4-4142-ba31-656fdda8b954" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(ts_groups_node)</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>tsGroups()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>ts_groups_node</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="4f8552e1-8037-40e5-b271-5f4b0689a43a" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;/&quot;:{&quot;tsGroups&quot;:[ts_groups_node]}}&apos;</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>run_data</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">addJsonNode</action>
                                <pathValue inherit="false" sub="true">{&quot;/&quot;:{&quot;tsGroups&quot;:[ts_groups_node]}}</pathValue>
                                <documentName inherit="false">run_data</documentName>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="e0232044-79be-499e-a97e-552d304cc3da" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Get and add Reservations to run data</body>
                    </command>
                    <nestedSteps>
                        <item guid="51c4f065-aad8-45ad-a4a9-03bf4266caf0" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;test_session_info&apos;, pathValue=&apos;{&quot;reservations&quot;}&apos;</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/reservations/item)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>reservations_count</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>reservations</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">getJsonNode</action>
                                <pathValue inherit="false">{&quot;reservations&quot;}</pathValue>
                                <documentName inherit="false">test_session_info</documentName>
                            </applicationProperties>
                        </item>
                        <item guid="a6d91e7f-ff6a-4be1-8ec9-e9d82946f735" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;createJson&apos;, documentName=&apos;new_reservations&apos;, fromFile=&apos;false&apos;, jsonString=&apos;{&quot;reservations&quot;:[]}&apos;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">createJson</action>
                                <jsonString inherit="false">{&quot;reservations&quot;:[]}</jsonString>
                                <documentName inherit="false">new_reservations</documentName>
                            </applicationProperties>
                        </item>
                        <item guid="fac82e64-519f-479b-936c-98ef1ead1630" action="for" useFieldsInCommand="false">
                            <command>
                                <body>i in range(0, int(reservations_count)):</body>
                            </command>
                            <nestedSteps>
                                <item guid="ccd501f1-60ba-4240-8899-c5f2c607dfd6" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;deleteJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;reservations&apos;, pathValue=&apos;{&quot;reservations/\\\\[[i]]/tsName&quot;, &quot;reservations/\\\\[[i]]/tsIndex&quot;}&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">deleteJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;reservations/\\[[i]]/tsName&quot;, &quot;reservations/\\[[i]]/tsIndex&quot;}</pathValue>
                                        <documentName inherit="false">reservations</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="f301152a-5322-476d-885f-a3a974b79f16" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;reservations&apos;, pathValue=&apos;{&quot;reservations/\\\\[[i]]&quot;}&apos;</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>reservations()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>reservation_property</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>mapped/Json/reservations/tsId</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>current_ts_id</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">getJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;reservations/\\[[i]]&quot;}</pathValue>
                                        <documentName inherit="false">reservations</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="14112a8c-0dc5-4f5f-acda-ca97e9f60956" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>print(new_reservations)</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>count(mapped/Json/reservations/item)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>new_reservations_count</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="aa9cff93-bb9e-409b-a56a-2d10e6d9b781" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>current_ts_id in current_ts_list:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="e152c29e-77f5-4c26-a939-f517185c20ea" action="json" useFieldsInCommand="false">
                                            <command>
                                                <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;new_reservations&apos;, pathValue=&apos;{&quot;reservations/\\\\[[new_reservations_count]]&quot;:\\\\[[reservation_property]]}&apos;</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>reservations()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>reservation_data</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                <action inherit="false">addJsonNode</action>
                                                <pathValue inherit="false" sub="true">{&quot;reservations/\\[[new_reservations_count]]&quot;:\\[[reservation_property]]}</pathValue>
                                                <documentName inherit="false">new_reservations</documentName>
                                            </applicationProperties>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="37177f4a-5c76-44f6-a88e-5755cbfe17be" action="else" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="acbfd328-7fd2-4329-85b7-6b3d750c89da" action="json" useFieldsInCommand="false">
                                            <command>
                                                <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;new_reservations&apos;, pathValue=&apos;{&quot;reservations/\\\\[0]&quot;:\\\\[{}]}&apos;</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>reservations()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>reservation_data</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                <action inherit="false">addJsonNode</action>
                                                <pathValue inherit="false" sub="true">{&quot;reservations/\\[0]&quot;:\\[{}]}</pathValue>
                                                <documentName inherit="false">new_reservations</documentName>
                                            </applicationProperties>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="5b348679-f13b-4845-8632-a7dee2b63afc" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;setJsonValue&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;reservations&quot;:[reservation_data]}&apos;</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>run_data</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">setJsonValue</action>
                                <pathValue inherit="false" sub="true">{&quot;reservations&quot;:[reservation_data]}</pathValue>
                                <documentName inherit="false">run_data</documentName>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="6370e2c3-19a8-414d-a6ee-dcf5f7f57e8b" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Get and add ReportsOption to run data</body>
                    </command>
                    <nestedSteps>
                        <item guid="bb75b131-1393-479a-8796-73d4b3b14ac4" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(reports_option)</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>initialIntervalPeriod()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>period</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>generateTac()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>tac_report</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>format()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>report_format</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>reservations</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="63f0f34c-b3c7-4bfa-96b5-f4f0f5bdcfc4" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;/&quot;:{&quot;reportOptions&quot;:{&quot;format&quot;:&quot;[report_format]&quot;,&quot;generateTac&quot;:&quot;[tac_report]&quot;,&quot;initialIntervalPeriod&quot;:&quot;[period]&quot;}}}&apos;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">addJsonNode</action>
                                <pathValue inherit="false" sub="true">{&quot;/&quot;:{&quot;reportOptions&quot;:{&quot;format&quot;:&quot;[report_format]&quot;,&quot;generateTac&quot;:&quot;[tac_report]&quot;,&quot;initialIntervalPeriod&quot;:&quot;[period]&quot;}}}</pathValue>
                                <documentName inherit="false">run_data</documentName>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="b3b4403e-0d0e-451d-bdc8-a2c450b7af06" action="return">
                    <command>
                        <body>[run_data]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="test_session_name">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="library_id">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="nodes"/>
                <item name="suts"/>
            </arguments>
            <response>{}</response>
        </item>
        <item name="get_ts_id_for_reservation" isPublic="true">
            <steps>
                <item guid="1b4aba1d-534e-4fe9-b485-489359beb766" action="json" useFieldsInCommand="false">
                    <command>
                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;reservations&apos;, pathValue=&apos;{&quot;\\\\[[reservation_index]]/phySubnets&quot;}&apos;</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>count(mapped/Json/phySubnets/item)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>phy_count</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                        <action inherit="false">getJsonNode</action>
                        <pathValue inherit="false" sub="true">{&quot;\\[[reservation_index]]/phySubnets&quot;}</pathValue>
                        <documentName inherit="false">reservations</documentName>
                    </applicationProperties>
                </item>
                <item guid="69411386-e944-4491-bfef-ecb5972530e9" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>reservation_ipv4_count = 0</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="e7b5a3bb-5b20-41e0-9749-cd09aad85ee0" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>reservation_ipv6_count = 0</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="9318cd9c-c773-48f7-9e7f-9033a333dfd4" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Loops the phySubnets and count the number of each ipv4 and ipv6</body>
                    </command>
                    <nestedSteps>
                        <item guid="63d3545d-608d-4988-8de8-9e966d8d50d5" action="for" useFieldsInCommand="false">
                            <command>
                                <body>i in range(0, int(phy_count)):</body>
                            </command>
                            <nestedSteps>
                                <item guid="a3116303-9f81-4300-8f32-3a02398eedde" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;reservations&apos;, pathValue=&apos;{&quot;\\\\[[reservation_index]]/phySubnets/\\\\[[i]]&quot;}&apos;</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>count(mapped/Json/phySubnets/name)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>int(value) &gt; 0</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>empty = False</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>empty = True</statement>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="SkipRemainingRules">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>mapped/Json/phySubnets/base</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>base</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">getJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;\\[[reservation_index]]/phySubnets/\\[[i]]&quot;}</pathValue>
                                        <documentName inherit="false">reservations</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="e266fc9f-6b99-4c83-bd49-8d489dd7b0f5" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>not empty:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="0d37c8bc-58a3-4ce9-99d2-64a7ac5c4887" action="call" useFieldsInCommand="false">
                                            <command>
                                                <body>isIPv4 -ip [base]</body>
                                            </command>
                                            <postProcessing>
                                                <storeResponseAt>is_ipv4</storeResponseAt>
                                                <storeResponseText>true</storeResponseText>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="e3a3cca6-e14b-4dbb-ba85-05caae1cf67e" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>is_ipv4 == &quot;true&quot;:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="81d76ab6-69a4-44df-a3c9-f615a9a8deff" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>reservation_ipv4_count += 1</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="7ad082b3-2b24-45f0-a5d3-c7440c46d08d" action="else" useFieldsInCommand="false">
                                            <nestedSteps>
                                                <item guid="fa19f3de-8fea-418c-b9dc-92b959f6e753" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>reservation_ipv6_count += 1</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="741f4cf9-7319-4b27-a1bd-6771e1ef78fa" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>total_ports_required = reservation_ipv6_count + reservation_ipv4_count</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="358029a2-5df1-41ed-8585-9d19f3b1bd69" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Loop for the TSs and count the number of each ipv4 and ipv6</body>
                    </command>
                    <nestedSteps>
                        <item guid="1329f86a-85c9-4b0a-a8b7-a27830576a8c" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(ts_groups)</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/item[is_reserve = &quot;false&quot;])</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>int(value) &gt; 0</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>error = False</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>error = True</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/item)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>ts_count</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/item[is_reserve = &quot;false&quot;])</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>available_ts_count</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>tsgroup_xml</storeResponseAt>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="7fa0d6f0-db16-44a5-af66-6f1c18ef33bd" action="if" useFieldsInCommand="false">
                            <command>
                                <body>error:</body>
                            </command>
                            <nestedSteps>
                                <item guid="7eee6108-ad58-4b33-a9bf-8b13c3abc185" action="message" useFieldsInCommand="false">
                                    <command>
                                        <body>Error:Not enought TS to run this Test Session</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                        <severity inherit="false">Error</severity>
                                        <message inherit="false">Not enought TS to run this Test Session</message>
                                    </applicationProperties>
                                </item>
                                <item guid="ceb3c8a7-9bfe-408d-81a3-e018f1702d1e" action="exit" useFieldsInCommand="false">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="888fb1f0-2f1a-4c08-b2af-2b97ea24ffbf" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ts_ipv4_count = 0</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="5ab4e6c7-3843-4fd3-84ec-eb1f31207100" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ts_ipv6_count = 0</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="66efe566-d217-4ca4-bda1-680111d695a7" action="if" useFieldsInCommand="false">
                            <command>
                                <body>int(available_ts_count) == 1:</body>
                            </command>
                            <nestedSteps>
                                <item guid="719ee028-3164-4a55-9e7a-e3a840f86b97" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>query_path = &apos;mapped/Json/item[is_reserve = &quot;false&quot;]/Port_Number&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="c1fb7473-70bc-42e9-bea5-687be08b4851" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>port_number = query(&apos;tsgroup_xml&apos;,query_path);print(port_number)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="e4453825-b6d3-4611-81bd-e1851c428e8d" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>int(port_number) &lt; total_ports_required:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="191cb2e9-5095-4131-b501-a4d58d4e0d09" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>message = &apos;The remaining Test Server does not have enough ports for this Test Session. Required: &quot;{0}&quot;, actual: &quot;{1}&quot;&apos;.format(str(total_ports_required), port_number)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="1ef0d5d2-3bac-4989-b01b-803dc9821529" action="message" useFieldsInCommand="false">
                                            <command>
                                                <body>Error:[message]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <severity inherit="false">Error</severity>
                                                <message inherit="false">[message]</message>
                                            </applicationProperties>
                                        </item>
                                        <item guid="82babdc5-2fe3-43b9-b42f-52fd80dd6e34" action="exit" useFieldsInCommand="false">
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="12c87feb-58d0-4db9-a6fe-c0eab895c3a6" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>query_path = &apos;count(mapped/Json/item[is_reserve = &quot;false&quot;]/preceding-sibling::*)&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="f5ce1ee6-1379-4bb7-8044-e58edf146750" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_index = query(&apos;tsgroup_xml&apos;,query_path);print(ts_index)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="33a57c04-1597-4cf8-be18-1a514f59ff47" action="for" useFieldsInCommand="false">
                                    <command>
                                        <body>i in range(int(port_number)):</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="6aa5e2f2-bbf6-4ab2-98ab-31621f8a0756" action="json" useFieldsInCommand="false">
                                            <command>
                                                <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;ts_groups&apos;, pathValue=&apos;{&quot;\\\\[[ts_index]]/ports/\\\\[[i]]&quot;}&apos;</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>boolean(mapped/Json/ports[ipv6Address != &quot;&quot; and ipv6mask != &quot;&quot; and ipv6NumNode != &quot;&quot;])</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>value == &quot;true&quot;</expression>
                                                                <actionsWhenTrue>
                                                                    <item actionId="Eval">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                            <statement>ts_ipv6_count += 1</statement>
                                                                        </actionProperties>
                                                                    </item>
                                                                </actionsWhenTrue>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>boolean(mapped/Json/ports[ipv4Address != &quot;&quot; and ipv4mask != &quot;&quot; and ipv4NumNode != &quot;&quot;])</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>value == &quot;true&quot;</expression>
                                                                <actionsWhenTrue>
                                                                    <item actionId="Eval">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                            <statement>ts_ipv4_count += 1</statement>
                                                                        </actionProperties>
                                                                    </item>
                                                                </actionsWhenTrue>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                <action inherit="false">getJsonNode</action>
                                                <pathValue inherit="false" sub="true">{&quot;\\[[ts_index]]/ports/\\[[i]]&quot;}</pathValue>
                                                <documentName inherit="false">ts_groups</documentName>
                                            </applicationProperties>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="1c697f36-24eb-456c-a918-3d6c2c560c26" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_ipv4_count &lt; reservation_ipv4_count or ts_ipv6_count &lt; reservation_ipv6_count:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="e017fa43-e6dd-48f1-94b9-3ecf241c89d2" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>message = &apos;The remaining Test Server does not have enough ports for this Test Session. Required ipv4: &quot;{0}&quot;, actual: &quot;{1}&quot;, required ipv6: &quot;{2}&quot;, actual: &quot;{3}&quot;&apos;.format( reservation_ipv4_count, ts_ipv4_count, reservation_ipv6_count, ts_ipv6_count)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="be8c3563-e96e-4c00-9dbf-bbb2da0c3726" action="message" useFieldsInCommand="false">
                                            <command>
                                                <body>Error:[message]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <severity inherit="false">Error</severity>
                                                <message inherit="false">[message]</message>
                                            </applicationProperties>
                                        </item>
                                        <item guid="bd15fd46-5b4d-4e6a-9128-287d0aa3155c" action="exit" useFieldsInCommand="false">
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="84ed3848-f6ff-47cb-9b5b-145e0d1191bf" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;ts_groups&apos;, pathValue=&apos;{&quot;\\\\[[ts_index]]/TS_ID&quot;}&apos;</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>TS_ID()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>tsId</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">getJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;\\[[ts_index]]/TS_ID&quot;}</pathValue>
                                        <documentName inherit="false">ts_groups</documentName>
                                    </applicationProperties>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="a809d2cf-f3ce-4404-9082-0b252b31d7f6" action="else" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="a1be1d1d-3c71-4817-b15d-0e9bb2acb220" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;createJson&apos;, documentName=&apos;available_ts&apos;, fromFile=&apos;false&apos;, jsonString=&apos;[]&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">createJson</action>
                                        <jsonString inherit="false">[]</jsonString>
                                        <documentName inherit="false">available_ts</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="da1693c1-1979-4182-a336-290219d00b2d" action="for" useFieldsInCommand="false">
                                    <command>
                                        <body>i in range(1, int(available_ts_count) + 1):</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="87201231-7c5c-45a1-951d-ec7b883506dc" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>query_path = &apos;mapped/Json/item[is_reserve = &quot;false&quot;][{0}]/Port_Number&apos;.format(i)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="fab4b54d-2cd9-44a8-8181-9fc5bca703c1" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>port_number = query(&apos;tsgroup_xml&apos;,query_path);print(port_number)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="73564234-f030-426e-ab81-fcc08aaf40aa" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>int(port_number) &lt; total_ports_required:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="27844e6e-29e3-4625-ac39-b8f6b67d0472" action="continue" useFieldsInCommand="false">
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="f9defac1-9858-4880-85f3-a6d1f2ef05f3" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>query_path = &apos;count(mapped/Json/item[is_reserve = &quot;false&quot;][{0}]/preceding-sibling::*)&apos;.format(i)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="bb183f02-972e-4ab9-84c5-de4639871060" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>ts_index = query(&apos;tsgroup_xml&apos;,query_path);print(ts_index)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="7c07b696-3825-41a2-a48a-bb6fd6a63eab" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>i in range(int(port_number)):</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="b221c9ea-35df-4bef-b34c-e5532fe406c4" action="json" useFieldsInCommand="false">
                                                    <command>
                                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;ts_groups&apos;, pathValue=&apos;{&quot;\\\\[[ts_index]]/ports/\\\\[[i]]&quot;}&apos;</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>boolean(mapped/Json/ports[ipv6Address != &quot;&quot; and ipv6mask != &quot;&quot; and ipv6NumNode != &quot;&quot;])</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="assert">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                        <expression>value == &quot;true&quot;</expression>
                                                                        <actionsWhenTrue>
                                                                            <item actionId="Eval">
                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                                    <statement>ts_ipv6_count += 1</statement>
                                                                                </actionProperties>
                                                                            </item>
                                                                        </actionsWhenTrue>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>boolean(mapped/Json/ports[ipv4Address != &quot;&quot; and ipv4mask != &quot;&quot; and ipv4NumNode != &quot;&quot;])</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="assert">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                        <expression>value == &quot;true&quot;</expression>
                                                                        <actionsWhenTrue>
                                                                            <item actionId="Eval">
                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                                    <statement>ts_ipv4_count += 1</statement>
                                                                                </actionProperties>
                                                                            </item>
                                                                        </actionsWhenTrue>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                        <action inherit="false">getJsonNode</action>
                                                        <pathValue inherit="false" sub="true">{&quot;\\[[ts_index]]/ports/\\[[i]]&quot;}</pathValue>
                                                        <documentName inherit="false">ts_groups</documentName>
                                                    </applicationProperties>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="2d6de75e-d65f-45d2-bfda-efbf42de207c" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>ts_ipv4_count &lt; reservation_ipv4_count or ts_ipv6_count &lt; reservation_ipv6_count:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="8de5312c-6bc3-4e4a-9bbd-58fb5c608ccf" action="continue" useFieldsInCommand="false">
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="4285f040-a4f5-42d7-aff8-36a75d46e269" action="json" useFieldsInCommand="false">
                                            <command>
                                                <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;ts_groups&apos;, pathValue=&apos;{&quot;\\\\[[ts_index]]/TS_ID&quot;}&apos;</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>TS_ID()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>tsId</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                <action inherit="false">getJsonNode</action>
                                                <pathValue inherit="false" sub="true">{&quot;\\[[ts_index]]/TS_ID&quot;}</pathValue>
                                                <documentName inherit="false">ts_groups</documentName>
                                            </applicationProperties>
                                        </item>
                                        <item guid="fd9dce7e-870c-4ada-aaa8-fae4ed8d06e2" action="json" useFieldsInCommand="false">
                                            <command>
                                                <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;available_ts&apos;, pathValue=&apos;{&quot;\\\\[0]&quot;:{&quot;ipv4&quot;:&quot;[ts_ipv4_count ]&quot;,&quot;ipv6&quot;:&quot;[ts_ipv6_count ]&quot;,&quot;tsId&quot;:&quot;[tsId]&quot;}}&apos;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                <action inherit="false">addJsonNode</action>
                                                <pathValue inherit="false" sub="true">{&quot;\\[0]&quot;:{&quot;ipv4&quot;:&quot;[ts_ipv4_count ]&quot;,&quot;ipv6&quot;:&quot;[ts_ipv6_count ]&quot;,&quot;tsId&quot;:&quot;[tsId]&quot;}}</pathValue>
                                                <documentName inherit="false">available_ts</documentName>
                                            </applicationProperties>
                                        </item>
                                        <item guid="5d381058-b71a-4c5d-b013-75e719ebbac9" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>ts_ipv4_count = 0</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="fb647f7c-4d26-4f4a-8c2c-02b6af4546db" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>ts_ipv6_count = 0</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="72acd937-426c-423c-a6af-ead31be264c1" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>print(available_ts)</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>count(mapped/Json/item)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>int(value) &gt; 0</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>error = False</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>error = True</statement>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="SkipRemainingRules">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <storeResponseAt>available_ts_xml</storeResponseAt>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="4946abda-87e8-416f-972f-beacd07bc41c" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>error:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="428456fd-7bfd-46d8-b7f5-f23884fef2b4" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>message = &apos;The remaining Test Server does not have enough ports for this Test Session. Required ipv4: &quot;{0}&quot;, required ipv6: &quot;{1}&quot;&apos;.format( reservation_ipv4_count, reservation_ipv6_count)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="12addf4c-cc00-4808-bb67-46bc7daa2739" action="message" useFieldsInCommand="false">
                                            <command>
                                                <body>Error:[message]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <severity inherit="false">Error</severity>
                                                <message inherit="false">[message]</message>
                                            </applicationProperties>
                                        </item>
                                        <item guid="a14512b0-5c64-4dae-8500-451e29ea16d3" action="exit" useFieldsInCommand="false">
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="e8491a72-7514-41bb-aaf5-38848faa39fd" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body> reservation_ipv6_count &lt; reservation_ipv4_count:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="cadb42d5-369e-4a3d-ab0d-112e9650d03d" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>query_path = &apos;//item[ipv4 = min(//ipv4)][1]/tsId&apos;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="e893df5e-9e64-4a39-bba8-914237d53798" action="else" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="41c9537f-a1eb-481e-92ab-7b94a58b5de6" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>query_path = &apos;//item[ipv6 = min(//ipv6)][1]/tsId&apos;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="f520f381-14e1-4425-853d-0229e937f584" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>tsId = query(&apos;available_ts_xml&apos;,query_path);print(tsId)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="cb6b5f90-4ce0-4b54-ac55-e8bcac10ad70" action="return">
                            <command>
                                <body>[tsId]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="reservations"/>
                <item name="reservation_index"/>
                <item name="ts_groups"/>
            </arguments>
            <response>{}</response>
        </item>
        <item name="insert_automation_control_step" isPublic="true">
            <steps>
                <item guid="83596356-bad7-456f-aeb1-5b0c66a9b732" action="json" useFieldsInCommand="false">
                    <command>
                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;steps/\\\\[[step_index]]&quot;:\\\\[{&quot;predecessorTcIndex&quot;:[predecessorTcIndex],&quot;predecessorTsIndex&quot;:[predecessorTsIndex],&quot;predecessorState&quot;:&quot;[predecessorState]&quot;,&quot;tcIndex&quot;:[tcIndex],&quot;tcActivity&quot;:&quot;[tcActivity]&quot;,&quot;tsIndex&quot;:[tsIndex],&quot;delaySec&quot;:[delaySec]}]}&apos;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                        <action inherit="false">addJsonNode</action>
                        <pathValue inherit="false" sub="true">{&quot;steps/\\[[step_index]]&quot;:\\[{&quot;predecessorTcIndex&quot;:[predecessorTcIndex],&quot;predecessorTsIndex&quot;:[predecessorTsIndex],&quot;predecessorState&quot;:&quot;[predecessorState]&quot;,&quot;tcIndex&quot;:[tcIndex],&quot;tcActivity&quot;:&quot;[tcActivity]&quot;,&quot;tsIndex&quot;:[tsIndex],&quot;delaySec&quot;:[delaySec]}]}</pathValue>
                        <documentName inherit="false">run_data</documentName>
                    </applicationProperties>
                </item>
                <item guid="0b6cc8c0-f697-4bdb-93eb-6f6cb16d08b8" action="return">
                    <command>
                        <body>[run_data]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="run_data">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="step_index">
                    <defaultValue>0</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="delaySec">
                    <defaultValue>0</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="predecessorState">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="predecessorTcIndex">
                    <defaultValue>-1</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="predecessorTsIndex">
                    <defaultValue>-1</defaultValue>
                </item>
                <item name="tcActivity">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="tcIndex">
                    <defaultValue>0</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="tsIndex">
                    <defaultValue>0</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{}</response>
        </item>
        <item name="isIPv4" isPublic="true">
            <steps>
                <item guid="6022bd07-ea45-4c5b-a079-8c3bb92e21c8" action="if" useFieldsInCommand="false">
                    <command>
                        <body>&quot;:&quot; in ip:</body>
                    </command>
                    <nestedSteps>
                        <item guid="1c39900c-74ca-4a88-9dcf-0572cec4cf63" action="return">
                            <command>
                                <body>false</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="f02a4529-9b17-4a01-bcdb-9fac65fe4420" action="else" useFieldsInCommand="false">
                    <nestedSteps>
                        <item guid="9dfbd5bd-5617-4838-b7dc-692927b761f9" action="return">
                            <command>
                                <body>true</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="ip">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{}</response>
        </item>
        <item name="is_test_session_exists" isPublic="true">
            <steps>
                <item guid="daecc6dd-45fd-4c0c-80dd-6f7759f5cd04" action="if" useFieldsInCommand="false">
                    <command>
                        <body>isinstance(test_session_name, str):</body>
                    </command>
                    <nestedSteps>
                        <item guid="a9b9b1d3-5989-489a-aa5f-fd03b0b90d1e" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>session_list = test_session_name.split(&quot;;&quot;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="f96b0f2d-d472-4943-ac76-a21dff9899bb" action="elif" useFieldsInCommand="false">
                    <command>
                        <body>isinstance(test_session_name, list):</body>
                    </command>
                    <nestedSteps>
                        <item guid="fee4cec5-3365-4017-aa88-8c00fd2bb594" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>session_list = test_session_name</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="06af56d7-0347-4b8a-9847-fd44390c6801" action="else" useFieldsInCommand="false">
                    <nestedSteps>
                        <item guid="cb3643e8-c1df-4bfe-ab5c-d821558c8f54" action="return">
                            <command>
                                <body>False</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="c884c571-02b9-4347-a6cc-db73e2ccdd13" action="Custom" session="[session]">
                    <command>
                        <body>-requestMethod GET -dataType json -rawResponse true -url libraries/[library_id]/testsessions/</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>available_test_sessions</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" rawResponse="true" rawResponse.inherit="false" url="libraries/[library_id]/testsessions/" url.inherit="false"/>
                </item>
                <item guid="4d4a78fd-98f4-4281-9b8a-1635f93d5d35" action="for" useFieldsInCommand="false">
                    <command>
                        <body>test_session_name in session_list:</body>
                    </command>
                    <nestedSteps>
                        <item guid="0663b5a3-67c9-43e6-a7f8-ef1f0fee8997" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>test_session_name = test_session_name.strip()</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="15074593-a82e-4f03-93ce-abc4ffd2621d" action="if" useFieldsInCommand="false">
                            <command>
                                <body>test_session_name:</body>
                            </command>
                            <nestedSteps>
                                <item guid="75422547-95f1-4d3a-ba57-f956913ee2b6" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>query_path = &apos;boolean(mapped/Json/testSessions/item[name = &quot;{0}&quot;])&apos;.format(test_session_name)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="a7567dd4-faef-4d4d-b551-375fdc3d29cb" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>is_session_exist = query(&apos;available_test_sessions&apos;,query_path);print(is_session_exist)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="52d4daf0-962d-46a2-ab3c-68c7105fecda" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>is_session_exist == &quot;false&quot;:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="087307eb-538d-427f-9678-12d98b8e3cc4" action="message">
                                            <command>
                                                <body>Error:Test Session \\&quot;\\[test_session_name]\\&quot; does not exist in library id \\&quot;\\[library_id]\\&quot;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <severity inherit="false">Error</severity>
                                                <message inherit="false">Test Session &quot;[test_session_name]&quot; does not exist in library id &quot;[library_id]&quot;</message>
                                            </applicationProperties>
                                        </item>
                                        <item guid="e32aa048-c01e-417d-8bd3-fe88526b48ef" action="return">
                                            <command>
                                                <body>False</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="d0bb6c3a-46c3-4937-a212-3f47c7dd861a" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Create Global TS Mode variable</body>
                            </command>
                            <nestedSteps>
                                <item guid="a66c00d5-9808-41b5-b7be-fbca96f81403" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>query_path = &apos;mapped/Json/testSessions/item[name = &quot;{0}&quot;]/keywords&apos;.format(test_session_name)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="e99d1eee-28af-41ef-ada5-3ec77b63e291" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>keywords = query(&apos;available_test_sessions&apos;,query_path);print(keywords)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="7eafaced-469a-4a9c-8d24-1b0b80ba9e8b" action="create_global_ts_mode_variable" session="[session]" useFieldsInCommand="false">
                                    <command>
                                        <body>-keywords [keywords]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="cd0560ba-b7bc-4d2b-826e-dcd8a8c506ea" action="return">
                    <command>
                        <body>True</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="test_session_name">
                    <description>Test Session name or Test Session name list or list of Test Session name is separated by &quot;;&quot;</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="library_id">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{}</response>
        </item>
        <item name="mapping_nodal_ip" isPublic="true">
            <steps>
                <item guid="aa135644-65fd-41ab-b980-85e6331ad3f6" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>print(run_data)</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>count(mapped/Json/tsGroups/item)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>tsgroups_count</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="830dfb67-c090-4a38-9d93-84357bee8c91" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>print(node_data)</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>count(mapped/Json/suts)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>int(value) &gt; 0</expression>
                                        <actionsWhenFalse>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>sut_count = 0</statement>
                                                </actionProperties>
                                            </item>
                                            <item actionId="SkipRemainingRules">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>count(mapped/Json/suts/item)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>sut_count</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                        <storeResponseAt>node_data_xml</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="2fa58fdd-36ce-4941-9c48-9e011877e0e0" action="for" useFieldsInCommand="false">
                    <command>
                        <body>i in range (1, int(sut_count) + 1):</body>
                    </command>
                    <nestedSteps>
                        <item guid="7f8251b5-ff02-417f-aafc-389581e939c0" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>query_path = &apos;mapped/Json/suts/item[{0}]/name&apos;.format(str(i))</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="f87c7fde-9c22-4ca2-9af9-8d71de13a2fe" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>sut_name = query(&apos;node_data_xml&apos;,query_path);print(sut_name)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="143212b3-11ed-44ac-a672-af88aa310637" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>query_path = &apos;mapped/Json/suts/item[{0}]/ip&apos;.format(str(i))</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="c24a31bc-2fca-41c6-ab76-5710357e2f1c" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>sut_ip = query(&apos;node_data_xml&apos;,query_path);print(sut_ip)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="b5efea20-dbc8-4299-8cd5-9e0045d67b85" action="for" useFieldsInCommand="false">
                            <command>
                                <body>group_index in range(0, int(tsgroup_count)):</body>
                            </command>
                            <nestedSteps>
                                <item guid="04955e97-d022-4654-9590-0b02d2dc15cc" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/testCases&quot;}&apos;</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>count(mapped/Json/testCases/item)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>tc_count</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">getJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/testCases&quot;}</pathValue>
                                        <documentName inherit="false">run_data</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="86b83411-9941-47ed-a432-e47741618393" action="for" useFieldsInCommand="false">
                                    <command>
                                        <body>tc_index in range(int(tc_count)):</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="35851f69-35b4-431f-b704-589514a93c36" action="json" useFieldsInCommand="false">
                                            <command>
                                                <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/testCases/\\\\[[tc_index]]/parameters&quot;}&apos;</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query sub="true">count(mapped/Json/parameters/[sut_name])</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>int(value) &gt; 0</expression>
                                                                <actionsWhenTrue>
                                                                    <item actionId="Eval">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                            <statement>existed = True</statement>
                                                                        </actionProperties>
                                                                    </item>
                                                                </actionsWhenTrue>
                                                                <actionsWhenFalse>
                                                                    <item actionId="Eval">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                            <statement>existed = False</statement>
                                                                        </actionProperties>
                                                                    </item>
                                                                </actionsWhenFalse>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                <action inherit="false">getJsonNode</action>
                                                <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/testCases/\\[[tc_index]]/parameters&quot;}</pathValue>
                                                <documentName inherit="false">run_data</documentName>
                                            </applicationProperties>
                                        </item>
                                        <item guid="2b50feaf-77b0-4c1c-96f7-b8613cdcb500" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>existed:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="fa1bf29a-98ec-45d1-b562-f987de329dec" action="json" useFieldsInCommand="false">
                                                    <command>
                                                        <body>action=&apos;setJsonValue&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[group_index]]/testCases/\\\\[[tc_index]]/parameters/[sut_name]/name&quot;:&quot;[sut_ip]&quot;}&apos;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                        <action inherit="false">setJsonValue</action>
                                                        <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[group_index]]/testCases/\\[[tc_index]]/parameters/[sut_name]/name&quot;:&quot;[sut_ip]&quot;}</pathValue>
                                                        <documentName inherit="false">run_data</documentName>
                                                    </applicationProperties>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="c962dbbb-14b7-4ecf-8561-1ee51fa0dfd0" action="return">
                    <command>
                        <body>[run_data]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="run_data">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="node_data">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{}</response>
        </item>
        <item name="move_ports_to_its_index" isPublic="true">
            <steps>
                <item guid="042a6a38-bee2-416c-9b22-b88e82ef978f" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>print(current_data)</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>current_data_xml</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="7b5cdf1a-1fdd-478e-8993-25824e5e3e50" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>print(run_data)</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>count(mapped/Json/reservations/item)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>reservation_count</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                        <storeResponseAt>run_data_xml</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="aa5f66c9-e25c-4262-8ed0-ada66a5c4154" action="for" useFieldsInCommand="false">
                    <command>
                        <body>i in range(int(reservation_count)):</body>
                    </command>
                    <nestedSteps>
                        <item guid="f5fd1313-c82a-4bb0-a6ef-cfab6f38aaba" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;reservations/\\\\[[i]]&quot;}&apos;</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/reservations/tsId)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>int(value) &gt; 0</expression>
                                                <actionsWhenFalse>
                                                    <item actionId="Continue">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">getJsonNode</action>
                                <pathValue inherit="false" sub="true">{&quot;reservations/\\[[i]]&quot;}</pathValue>
                                <documentName inherit="false">run_data</documentName>
                            </applicationProperties>
                        </item>
                        <item guid="c88308aa-dbda-4be2-b6c5-aff9dfe923f1" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;reservations/\\\\[[i]]/phySubnets&quot;}&apos;</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>phy_xml</storeResponseAt>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">getJsonNode</action>
                                <pathValue inherit="false" sub="true">{&quot;reservations/\\[[i]]/phySubnets&quot;}</pathValue>
                                <documentName inherit="false">run_data</documentName>
                            </applicationProperties>
                        </item>
                        <item guid="74c0c725-b80a-4701-9059-db709e1f5161" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;current_data&apos;, pathValue=&apos;{&quot;reservations/\\\\[[i]]/phySubnets&quot;}&apos;</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/phySubnets/item)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>phy_count</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>current_phy_xml</storeResponseAt>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">getJsonNode</action>
                                <pathValue inherit="false" sub="true">{&quot;reservations/\\[[i]]/phySubnets&quot;}</pathValue>
                                <documentName inherit="false">current_data</documentName>
                            </applicationProperties>
                        </item>
                        <item guid="ae1f1d54-af00-4f9e-b858-7fa36f52c04d" action="for" useFieldsInCommand="false">
                            <command>
                                <body>loop_index in range(1, int(phy_count) + 1):</body>
                            </command>
                            <nestedSteps>
                                <item guid="3b722443-92de-4b36-99ae-bb8ed20285da" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Get current phy name</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="8d5b3fa6-5f7f-4787-a7a6-47a26ffcf8fd" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>query_path = &apos;mapped/Json/phySubnets/item[{0}]/name&apos;.format(loop_index)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="3e031510-5af7-45a5-bc7a-9386ea27aa68" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>current_phy_name = query(&apos;current_phy_xml&apos;,query_path);print(current_phy_name)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="0d97b75d-6820-4b56-9056-7bb755f8ce61" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Check current phy does exist in new data</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="f9ad2d0f-4007-4fcc-9342-98f8a5feb081" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>query_path = &apos;count(mapped/Json/phySubnets/item[name = &quot;{0}&quot;])&apos;.format(current_phy_name)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="17b0dd37-12f5-40ca-bfad-340231f0665c" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>is_current_phy_exist = query(&apos;phy_xml&apos;,query_path);print(is_current_phy_exist)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="763f2f51-6e65-4375-9bf3-1fd1083cc923" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>int(is_current_phy_exist) &gt; 0:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="4d998800-39c8-45e6-9cac-205d4aaa2be6" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Get new phy index</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="1c1cbd7e-161d-46ae-bd63-68aefc007ceb" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>query_path = &apos;count(mapped/Json/phySubnets/item[name = &quot;{0}&quot;]/preceding-sibling::*)&apos;.format(current_phy_name)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="b1635a7d-fe16-4767-9b3f-4e7498d05344" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>new_phy_index = query(&apos;phy_xml&apos;,query_path);print(new_phy_index)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="21db60dc-dd57-4cd1-9928-98bf18df1dfc" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>int(new_phy_index) != loop_index - 1:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="26b2a2e0-1fb7-4fa1-be9a-9b2bc6cf8b7f" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>current_phy_index = loop_index - 1</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="41bf9cd1-495b-44b9-838d-e3b4527b5ab7" action="json" useFieldsInCommand="false">
                                                    <command>
                                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;reservations/\\\\[[i]]/phySubnets/\\\\[[current_phy_index]]&quot;}&apos;</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>phySubnets()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>replace_phy</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                        <action inherit="false">getJsonNode</action>
                                                        <pathValue inherit="false" sub="true">{&quot;reservations/\\[[i]]/phySubnets/\\[[current_phy_index]]&quot;}</pathValue>
                                                        <documentName inherit="false">run_data</documentName>
                                                    </applicationProperties>
                                                </item>
                                                <item guid="c15f6f6a-c382-4639-8990-9e5d996cdf5d" action="json" useFieldsInCommand="false">
                                                    <command>
                                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;reservations/\\\\[[i]]/phySubnets/\\\\[[new_phy_index]]&quot;}&apos;</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>phySubnets()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>current_phy</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                        <action inherit="false">getJsonNode</action>
                                                        <pathValue inherit="false" sub="true">{&quot;reservations/\\[[i]]/phySubnets/\\[[new_phy_index]]&quot;}</pathValue>
                                                        <documentName inherit="false">run_data</documentName>
                                                    </applicationProperties>
                                                </item>
                                                <item guid="97c980e3-985b-4117-9cf0-c755c123f881" action="json" useFieldsInCommand="false">
                                                    <command>
                                                        <body>action=&apos;setJsonValue&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;reservations/\\\\[[i]]/phySubnets/\\\\[[current_phy_index]]&quot;:[current_phy]}&apos;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                        <action inherit="false">setJsonValue</action>
                                                        <pathValue inherit="false" sub="true">{&quot;reservations/\\[[i]]/phySubnets/\\[[current_phy_index]]&quot;:[current_phy]}</pathValue>
                                                        <documentName inherit="false">run_data</documentName>
                                                    </applicationProperties>
                                                </item>
                                                <item guid="d182b9cf-180a-4fa4-b312-729730a5855f" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>replace_phy:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="131b1ea0-a321-4380-b1a2-904daccfe2c3" action="json" useFieldsInCommand="false">
                                                            <command>
                                                                <body>action=&apos;setJsonValue&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;reservations/\\\\[[i]]/phySubnets/\\\\[[new_phy_index]]&quot;:[replace_phy]}&apos;</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                <action inherit="false">setJsonValue</action>
                                                                <pathValue inherit="false" sub="true">{&quot;reservations/\\[[i]]/phySubnets/\\[[new_phy_index]]&quot;:[replace_phy]}</pathValue>
                                                                <documentName inherit="false">run_data</documentName>
                                                            </applicationProperties>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="bb24c735-4808-4870-adda-bfc06d23bbff" action="else" useFieldsInCommand="false">
                                                    <nestedSteps>
                                                        <item guid="bb5e019b-8042-43d4-8f96-4ea1fbd2edbb" action="json" useFieldsInCommand="false">
                                                            <command>
                                                                <body>action=&apos;setJsonValue&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;reservations/\\\\[[i]]/phySubnets/\\\\[[new_phy_index]]&quot;:{}}&apos;</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                <action inherit="false">setJsonValue</action>
                                                                <pathValue inherit="false" sub="true">{&quot;reservations/\\[[i]]/phySubnets/\\[[new_phy_index]]&quot;:{}}</pathValue>
                                                                <documentName inherit="false">run_data</documentName>
                                                            </applicationProperties>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="530d44f2-193f-4a96-ad67-ebe355d22fff" action="json" useFieldsInCommand="false">
                                                    <command>
                                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;reservations/\\\\[[i]]/phySubnets&quot;}&apos;</body>
                                                    </command>
                                                    <postProcessing>
                                                        <storeResponseAt>phy_xml</storeResponseAt>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                        <action inherit="false">getJsonNode</action>
                                                        <pathValue inherit="false" sub="true">{&quot;reservations/\\[[i]]/phySubnets&quot;}</pathValue>
                                                        <documentName inherit="false">run_data</documentName>
                                                    </applicationProperties>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="54f5a82a-7ee2-40fc-a4c0-60ac3a0ef515" action="return">
                    <command>
                        <body>[run_data]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="run_data">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="current_data">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="perform_next_action" isPublic="true">
            <steps>
                <item guid="671ba3f5-3404-4713-a4b9-9da10051e3e8" action="if" useFieldsInCommand="false">
                    <command>
                        <body>not running_test_id:</body>
                    </command>
                    <nestedSteps>
                        <item guid="1611b1ae-d2ba-466a-afc7-ed47ea96be2b" action="return">
                            <command>
                                <body>False</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="269dee89-b25a-48f1-9815-46579469bde2" action="waiting_for_test_get_expected_state" session="[session]" useFieldsInCommand="false">
                    <command>
                        <body>-running_test_id [running_test_id] -expected_state [expected_state] -time_out [time_out]</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>running_state</storeResponseAt>
                        <storeResponseText>true</storeResponseText>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="a1c7e495-06bb-4f5c-bfd6-67282ecd57d1" action="if" useFieldsInCommand="false">
                    <command>
                        <body>expected_state == running_state:</body>
                    </command>
                    <nestedSteps>
                        <item guid="0f19a524-f56a-4da9-b4ba-608a0fe7b069" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Perform next action when test state == expected state</body>
                            </command>
                            <nestedSteps>
                                <item guid="ead1b4f5-ad79-4fc8-aa9e-3f0ae0f16abd" action="sleep">
                                    <command>
                                        <body>[delay]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="ce2599bf-3c81-4985-9c9b-29d5b957bc8d" action="Custom" session="[session]">
                                    <command>
                                        <body>-requestMethod POST -dataType json -url runningTests/[running_test_id]?action=[next_action]</body>
                                    </command>
                                    <postProcessing>
                                        <storeResponseAt>command_response</storeResponseAt>
                                        <storeResponseText>true</storeResponseText>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" requestMethod="POST" requestMethod.inherit="false" url="runningTests/[running_test_id]?action=[next_action]" url.inherit="false"/>
                                </item>
                                <item guid="4a1935f8-5acc-44f0-8d49-fff7936262db" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>&quot;Command successful&quot; in command_response:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="0e1a30c5-f754-42e1-b53e-016795095e2b" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(command_response)</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>name()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>test_name</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>testStateOrStep()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>test_state</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="125880f6-5f8b-45c2-aef2-cac076272afd" action="message" skip="true" useFieldsInCommand="false">
                                            <command>
                                                <body>Information:Perform action &apos;[action]&apos; on test session &apos;[test_name]&apos; - state: &apos;[test_state]&apos;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <message inherit="false">Perform action &apos;[action]&apos; on test session &apos;[test_name]&apos; - state: &apos;[test_state]&apos;</message>
                                            </applicationProperties>
                                        </item>
                                        <item guid="b055d082-91e9-46ec-b49b-f877fe5aa602" action="return">
                                            <command>
                                                <body>True</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="2d8c4d2a-f773-4a86-81f4-6acad1f31777" action="else" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="861ff0fd-c0ef-4124-a1f9-3a61a61d305c" action="json" useFieldsInCommand="false">
                                            <command>
                                                <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;command_response&apos;, pathValue=&apos;{&quot;reason&quot;}&apos;</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>reason()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="message">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                                <message>Cannot perform &apos;[action]&apos; - reason: &apos;{value}&apos;</message>
                                                                <tag sub="false" defaultValue=""/>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                <action inherit="false">getJsonNode</action>
                                                <pathValue inherit="false">{&quot;reason&quot;}</pathValue>
                                                <documentName inherit="false">command_response</documentName>
                                            </applicationProperties>
                                        </item>
                                        <item guid="8698e4bb-f14d-408a-b77d-d87180485035" action="return">
                                            <command>
                                                <body>False</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="17034b37-d35e-49fc-9213-54eaf0be71ec" action="else" useFieldsInCommand="false">
                    <nestedSteps>
                        <item guid="67599af1-bbd2-4635-b676-91e9fd14ae41" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>message = &quot;Expected running state: &apos;{0}&apos; but current state: {1}&quot;.format(expected_state, running_state)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="f666af6b-bf6f-497b-bb33-5f4972603b4b" action="message" useFieldsInCommand="false">
                            <command>
                                <body>Warning:[message]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                <severity inherit="false">Warning</severity>
                                <message inherit="false">[message]</message>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="running_test_id"/>
                <item name="expected_state">
                    <description>The test has to reach this state before performing the next action.</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="delay">
                    <description>The delay time before performing the next action.</description>
                    <defaultValue>0</defaultValue>
                </item>
                <item name="next_action">
                    <description>The next action to perform.</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="time_out">
                    <defaultValue>180</defaultValue>
                </item>
            </arguments>
            <response>{}</response>
        </item>
        <item name="perform_test_session_testcase_command" isPublic="true">
            <steps>
                <item guid="574006c8-46d5-4b3b-97bc-bb9659702aca" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>actions = [&quot;init&quot;, &quot;start&quot;, &quot;stop&quot;, &quot;cleanup&quot;]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="c85d8c00-39cc-44c7-bdd0-5e46ec81cadf" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>states = [&quot;CLEANING UNINITIALIZED COMPLETE&quot;, &quot;INITIALIZED&quot;, &quot;RUNNING STARTED&quot;, &quot;STOPPING STOPPED&quot;]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="5ddbef41-052b-4f60-92e1-91b3dae0b729" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>waiting_states = [&quot;&quot;, &quot;&quot;]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="1b98c089-b531-4b60-af86-d2a98c8306ce" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>increase index by one for xml query</body>
                    </command>
                    <nestedSteps>
                        <item guid="4c2f6cda-4ca7-4b07-8893-f99c4cd73672" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>tsgroups_xml_index = int(tsgroups_index) + 1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="63dc1203-1044-47d6-a211-c77eb642dcd3" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>testcase_xml_index = int(testcase_index)  + 1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="92356d89-5fb5-4f8e-9404-0a95b97474a2" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Get tese case state</body>
                    </command>
                    <nestedSteps>
                        <item guid="604f2b21-e826-43f3-a529-f48629e19567" action="Custom" session="[session]" useFieldsInCommand="false">
                            <command>
                                <body>-requestMethod GET -dataType json -rawResponse true -url runningTests/[running_id]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                <query sub="true">mapped/Json/tsGroups/item\\[[tsgroups_xml_index]]/testCases/item\\[[testcase_xml_index]]/fullState</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>current_state</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" rawResponse="true" rawResponse.inherit="false" url="runningTests/[running_id]" url.inherit="false"/>
                        </item>
                        <item guid="18d070d3-322f-4e46-83cf-97fda01c7f21" action="if" useFieldsInCommand="false">
                            <command>
                                <body>&apos;0&apos; &lt;= current_state[:1] &lt;= &apos;9&apos;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="7b5c38ce-4936-46e2-a5a3-35b01b17748e" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>current_state = &quot;STARTED&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="04448fce-78d9-4ce4-a764-6a2d0c8fc3b4" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>index = actions.index(action)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="90483bb9-1911-4037-a87d-0e8cf905693d" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>expected_state = states[index]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="fffd478d-fb71-42c7-9e41-941b60d7b97b" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>next_index = index+1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="bbab8d58-a75a-4a1a-a46c-b8359f709d83" action="if" useFieldsInCommand="false">
                    <command>
                        <body>next_index &gt; 3:</body>
                    </command>
                    <nestedSteps>
                        <item guid="5ed14bc0-94a5-4d16-b95e-dbcabbd6f6e5" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>next_index = 0</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="7656be16-a2a4-45b1-9130-6773190d040e" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>next_state = states[next_index]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="76d6f43b-53ab-4832-bb2a-1eac96680c64" action="if" useFieldsInCommand="false">
                    <command>
                        <body>current_state in next_state:</body>
                    </command>
                    <nestedSteps>
                        <item guid="6f416d4e-cdee-47e4-bf84-b5050841e09b" action="return">
                            <command>
                                <body>0</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="00c9e02b-1ca9-4617-a670-bedf0bcaae05" action="if" useFieldsInCommand="false">
                    <command>
                        <body>current_state in expected_state:</body>
                    </command>
                    <nestedSteps>
                        <item guid="ad1937e7-fb9b-4ce2-bd2a-4c7420ea9f96" action="Custom" session="[session]">
                            <command>
                                <body>-requestMethod POST -dataType json -rawResponse true -url runningTests/[running_id]?action=sendTcCommand&amp;cmd=[action]&amp;ts=[tsgroups_index]&amp;tc=[testcase_index]</body>
                            </command>
                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" requestMethod="POST" requestMethod.inherit="false" rawResponse="true" rawResponse.inherit="false" url="runningTests/[running_id]?action=sendTcCommand&amp;cmd=[action]&amp;ts=[tsgroups_index]&amp;tc=[testcase_index]" url.inherit="false"/>
                        </item>
                        <item guid="6ad308cd-1d5a-443b-b48a-3cd40c9ff0c6" action="return">
                            <command>
                                <body>1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="28cdac95-07df-4106-836c-9d9a389fb6ac" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>current_index = index - 1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="6a5c4e48-9b78-4c1c-b6ac-010449e8a5e3" action="while" useFieldsInCommand="false">
                    <command>
                        <body>current_index != index:</body>
                    </command>
                    <nestedSteps>
                        <item guid="15f6052d-80ec-4df8-8b81-f6361cbcde6b" action="if" useFieldsInCommand="false">
                            <command>
                                <body>current_index &lt; 0:</body>
                            </command>
                            <nestedSteps>
                                <item guid="dd471627-878e-4a61-881a-8b2f04900fba" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>current_index= 3</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="c455fef7-08b8-4cdd-8e9f-7d7b8bf02659" action="if" useFieldsInCommand="false">
                            <command>
                                <body>current_state in states[current_index]:</body>
                            </command>
                            <nestedSteps>
                                <item guid="8565f87a-f506-4e0a-8c4c-c7ba29e9feee" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>print(&quot;Current index:{0} - state: {1}&quot;.format(current_index, current_state))</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="27908c2a-b8cc-4214-9256-c0e7be8a1c9f" action="break" useFieldsInCommand="false">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="8b24e2d8-a2bd-41de-aa12-936c2ab5ea95" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>current_index -= 1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="6690a593-f49f-4b42-beb2-3a2c77d7f351" action="while" useFieldsInCommand="false">
                    <command>
                        <body>current_index != index:</body>
                    </command>
                    <nestedSteps>
                        <item guid="c5f0d1ec-823d-4eab-b855-d9bf8d5bcbfb" action="if" useFieldsInCommand="false">
                            <command>
                                <body>current_index &gt; 3:</body>
                            </command>
                            <nestedSteps>
                                <item guid="ba831454-6a7b-4083-9696-fbbd8784dae1" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>current_index= 0</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="aaf9c893-7775-4c3c-9813-0ba349f42dae" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>current_action = actions[current_index]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="49876015-2e74-402d-9789-3929799ccc54" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(&quot;Perform action: {0}&quot;.format(current_action))</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="4e5d9bfc-9ae2-433f-b9f9-433e1b2efaae" action="Custom" session="[session]">
                            <command>
                                <body>-requestMethod POST -dataType json -rawResponse true -url runningTests/[running_id]?action=sendTcCommand&amp;cmd=[current_action]&amp;ts=[tsgroups_index]&amp;tc=[testcase_index]</body>
                            </command>
                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" requestMethod="POST" requestMethod.inherit="false" rawResponse="true" rawResponse.inherit="false" url="runningTests/[running_id]?action=sendTcCommand&amp;cmd=[current_action]&amp;ts=[tsgroups_index]&amp;tc=[testcase_index]" url.inherit="false"/>
                        </item>
                        <item guid="b1c17a8a-6c3e-40ae-b7fe-3c0bd156e166" action="sleep">
                            <command>
                                <body>10</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="759c3b83-145b-4e24-9a84-74bf20891978" action="Custom" session="[session]" useFieldsInCommand="false">
                            <command>
                                <body>-requestMethod GET -dataType json -rawResponse true -url runningTests/[running_id]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                <query sub="true">mapped/Json/tsGroups/item\\[[tsgroups_xml_index]]/testCases/item\\[[testcase_xml_index]]/fullState</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>current_state</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" rawResponse="true" rawResponse.inherit="false" url="runningTests/[running_id]" url.inherit="false"/>
                        </item>
                        <item guid="074880bc-4191-4d87-96e9-ccf785bb0461" action="if" useFieldsInCommand="false">
                            <command>
                                <body>current_state in states[index]:</body>
                            </command>
                            <nestedSteps>
                                <item guid="d914fd73-b89e-40b7-a78a-39e104a05a95" action="break" useFieldsInCommand="false">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="20f9dd8a-da02-4256-a9b7-9224d00f88bf" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>current_index += 1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="e63bb8ce-fa94-4ffd-80ea-ea92084e6bf3" action="Custom" session="[session]">
                    <command>
                        <body>-requestMethod POST -dataType json -rawResponse true -url runningTests/[running_id]?action=sendTcCommand&amp;cmd=[action]&amp;ts=[tsgroups_index]&amp;tc=[testcase_index]</body>
                    </command>
                    <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" requestMethod="POST" requestMethod.inherit="false" rawResponse="true" rawResponse.inherit="false" url="runningTests/[running_id]?action=sendTcCommand&amp;cmd=[action]&amp;ts=[tsgroups_index]&amp;tc=[testcase_index]" url.inherit="false"/>
                </item>
            </steps>
            <arguments>
                <item name="running_id">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="tsgroups_index">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="testcase_index">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="action">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="return_SUT_info" isPublic="true">
            <steps>
                <item guid="c4e108a3-0418-4642-a872-2d603337b6f0" action="json" useFieldsInCommand="false">
                    <command>
                        <body>action=&apos;createJson&apos;, documentName=&apos;response&apos;, fromFile=&apos;false&apos;, jsonString=&apos;{}&apos;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                        <action inherit="false">createJson</action>
                        <jsonString inherit="false">{}</jsonString>
                        <documentName inherit="false">response</documentName>
                    </applicationProperties>
                </item>
                <item guid="612a8de7-5cdf-4557-a416-4bf7d001278e" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Get users SUT information</body>
                    </command>
                    <nestedSteps>
                        <item guid="1c713a16-8da4-4148-9846-6001565df21f" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(devices)</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/item)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>device_count</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="3cd57bf7-7898-4f01-993a-04bca88e1a6e" action="for" useFieldsInCommand="false">
                            <command>
                                <body>i in range(0, int(device_count)):</body>
                            </command>
                            <nestedSteps>
                                <item guid="04ec3909-19b3-45eb-aff9-8ad13deb4302" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Insert steps here to be executed on each loop</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="b2ca7b0e-25df-4646-a3ea-41b9d9e0d729" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;devices&apos;, pathValue=&apos;{&quot;\\\\[[i]]&quot;}&apos;</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>SUT_Name()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>sut_name</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>ipAddress()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>sut_ip</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Management_IP_Address()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>sut_mnt_ip</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">getJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;\\[[i]]&quot;}</pathValue>
                                        <documentName inherit="false">devices</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="192821b7-a3ff-4de3-8b39-ecf37282d918" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;response&apos;, pathValue=&apos;{&quot;/&quot;:{&quot;[sut_name]&quot;:&quot;[sut_ip]&quot;}}&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">addJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;/&quot;:{&quot;[sut_name]&quot;:&quot;[sut_ip]&quot;}}</pathValue>
                                        <documentName inherit="false">response</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="24276763-22ef-4e43-8445-955e9ffc136c" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Check SUT exists and create if not: user must do this</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="31a371b8-21bb-4b31-b8e6-b40c5db48138" action="Custom" session="[session]">
                                            <command>
                                                <body>-requestMethod GET -dataType json -rawResponse true -url suts</body>
                                            </command>
                                            <postProcessing>
                                                <storeResponseAt>suts</storeResponseAt>
                                                <storeResponseText>true</storeResponseText>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" rawResponse="true" rawResponse.inherit="false" url="suts" url.inherit="false"/>
                                        </item>
                                        <item guid="b1eb6f5a-e1eb-440c-8e81-b0c0089ba3ec" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(suts)</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query sub="true">count(mapped/Json/suts/item\\[name = &apos;[sut_ip]&apos;])</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>does_sut_exist</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="f592689a-ae1d-4502-9e1f-cf8f0454943e" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>does_sut_exist == &apos;0&apos;:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="e70ff390-6318-45b4-94e3-66e7d3f27b15" action="message" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Information:Create SUT [sut_ip] - This should be manual by user</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                        <message inherit="false">Create SUT [sut_ip] - This should be manual by user</message>
                                                    </applicationProperties>
                                                </item>
                                                <item guid="941a5bae-9606-4e1c-a8d9-92cb7c25acf1" action="AddSUT" session="[session]">
                                                    <command>
                                                        <body>-ip [sut_ip] -managementIp [sut_mnt_ip] -name [sut_ip]</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="AddSUT" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" ip="[sut_ip]" ip.inherit="false" managementIp="[sut_mnt_ip]" managementIp.inherit="false" name="[sut_ip]" name.inherit="false"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="eec41a26-c5d4-4c6c-b5d3-1f52d081af93" action="return">
                    <command>
                        <body>[response]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="devices"/>
            </arguments>
            <response>{}</response>
        </item>
        <item name="run_test_session" isPublic="true">
            <steps>
                <item guid="7fcf2245-3b54-47ef-aabe-1ba18d784785" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Return default response when test session is empty</body>
                    </command>
                    <nestedSteps>
                        <item guid="66d44e46-5936-4dfb-85fd-7df377c43e21" action="if" useFieldsInCommand="false">
                            <command>
                                <body>not test_session_name:</body>
                            </command>
                            <nestedSteps>
                                <item guid="17a9696c-06f9-441b-86bd-3f5c25f1e7ca" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;createJson&apos;, documentName=&apos;response&apos;, fromFile=&apos;false&apos;, jsonString=&apos;{&quot;runId&quot;:&quot;&quot;, &quot;ts_id&quot;: &quot;&quot;, &quot;ts_index&quot;: &quot;&quot;}&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">createJson</action>
                                        <jsonString inherit="false" sub="true">{&quot;runId&quot;:&quot;&quot;, &quot;ts_id&quot;: &quot;&quot;, &quot;ts_index&quot;: &quot;&quot;}</jsonString>
                                        <documentName inherit="false">response</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="4e101bcd-d1b9-46da-9572-25779eebeaf6" action="return">
                                    <command>
                                        <body>[response]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="1c09c3fe-e59a-4d2f-96ee-2074a7b9015c" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Check Test Session exists on TAS or not</body>
                    </command>
                    <nestedSteps>
                        <item guid="bd8eda55-c445-49d5-b646-f97963e11a58" action="if" useFieldsInCommand="false">
                            <command>
                                <body>check_exist == &apos;true&apos;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="b70c9e69-b2c4-457d-8a3f-4f4c6689507e" action="is_test_session_exists" session="[session]" useFieldsInCommand="false">
                                    <command>
                                        <body>-test_session_name [test_session_name] -library_id [library_id]</body>
                                    </command>
                                    <postProcessing>
                                        <storeResponseAt>does_test_session_exist</storeResponseAt>
                                        <storeResponseText>true</storeResponseText>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="42b1c29b-16d4-4863-bca7-4d99c5936a18" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>does_test_session_exist == &quot;False&quot;:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="e33f4dbe-33e8-429b-8892-e1e7af5ca56d" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>message = &quot;{0} does not exist&quot;.format(test_session_name)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="b213cce2-2402-4725-b962-7320c6447b3d" action="execute_fail_message" session="[session]" useFieldsInCommand="false">
                                            <command>
                                                <body>-message [message] -should_exit &quot;true&quot;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="b5cfd176-443e-47a4-bcee-46278089ad37" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Get Test Session data: duration, reservations, tsGroups base on Test Session name </body>
                    </command>
                    <nestedSteps>
                        <item guid="b9dabcf9-b88a-4d46-90a9-e449930614b1" action="get_test_session_data" session="[session]" useFieldsInCommand="false">
                            <command>
                                <body>-test_session_name [test_session_name] -library_id [library_id]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>boolean(mapped/Json/reason)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>value == &quot;true&quot;</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>error = True</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>error = False</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>run_data</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="ff066ca3-2d88-430f-8d0a-05b834ab69f1" action="if" useFieldsInCommand="false">
                            <command>
                                <body>error:</body>
                            </command>
                            <nestedSteps>
                                <item guid="da2b6be5-c676-4d5a-b3ae-14e28405cbcc" action="return">
                                    <command>
                                        <body>[run_data]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="f1edd3cb-0c8f-406a-8ec7-afef25446ce5" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Configure LS Parameters</body>
                    </command>
                    <nestedSteps>
                        <item guid="1008bafa-1cc5-4e24-a5e9-cac3411c0f5c" action="configure_tc_parameters_from_LS_params" session="[session]" useFieldsInCommand="false">
                            <command>
                                <body>-run_data [run_data] -library_id [library_id] -test_session_name [test_session_name] -test_session_info &quot;&quot; -param_group_names [param_group_name]</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>run_data</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="d0b7bee3-0da9-4209-88e6-4cf81b797125" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Configure TS group for test session data and reserver port in TS group</body>
                    </command>
                    <nestedSteps>
                        <item guid="ad763666-fbcb-4845-b9c7-163a0b52d507" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(ts_groups)</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/item)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>tsgroup_count</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="ce2cf80d-8ba1-4974-923f-c44c51678786" action="configure_test_session" session="[session]" useFieldsInCommand="false">
                            <command>
                                <body>-ts_groups [ts_groups] -run_data [run_data] -ts_name [ts_node_name]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/tsGroups/item)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>tsgroups_count</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>portCapture()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>ports_capture</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>run_data</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="bd1012f6-176a-4178-acdb-4bfaacd551e1" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ts_ids = &quot;&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="7be1e106-ce09-4805-a9a5-5def3349b205" action="for" useFieldsInCommand="false">
                            <command>
                                <body>i in range(0, int(tsgroups_count)):</body>
                            </command>
                            <nestedSteps>
                                <item guid="3a46fec5-27bb-482a-8dcf-2787611f3b47" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;tsGroups/\\\\[[i]]/tsId&quot;}&apos;</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>tsId()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>tsId</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">getJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;tsGroups/\\[[i]]/tsId&quot;}</pathValue>
                                        <documentName inherit="false">run_data</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="f0daf7ec-8069-4948-9ede-7eba9a31c429" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_ids += &quot;{0} &quot;.format(tsId)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="480c828c-945f-4633-8f31-f1960ac5058e" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ts_ids = ts_ids.strip()</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="fb85c45a-ba50-4416-ba97-c28c007e6cde" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Update Automation Control For Node</body>
                    </command>
                    <nestedSteps>
                        <item guid="2087a4a8-87c0-40b3-af87-7a7a4781ffa5" action="update_automation_control_step" session="[session]" useFieldsInCommand="false">
                            <command>
                                <body>-run_data [run_data] -steps [steps]</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>run_data</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="eca42923-a75e-481c-a453-b784d4a4f699" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Configure Number of Subscribers and Activation Rate</body>
                    </command>
                    <nestedSteps>
                        <item guid="172b0bc0-fe77-4a84-a332-1d9ae6b3de79" action="if" useFieldsInCommand="false">
                            <command>
                                <body>&apos;number_of_subscribers&apos; not in locals():</body>
                            </command>
                            <nestedSteps>
                                <item guid="7522d26b-b535-4260-8179-afddf8a139d7" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>number_of_subscribers = &quot;&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="c0951b85-f0b4-4c5f-9eb4-0b56b1df1a13" action="if" useFieldsInCommand="false">
                            <command>
                                <body>&apos;activation_rate&apos; not in locals():</body>
                            </command>
                            <nestedSteps>
                                <item guid="ecbdea0f-f46c-493d-8a83-0be5cb33f8af" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>activation_rate = &quot;&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="8fa23931-830e-41f1-8e75-bd5b6ddc10e4" action="configure_sessions_subscriber" session="[session]" useFieldsInCommand="false">
                            <command>
                                <body>-run_data [run_data] -session_capacity [number_of_subscribers] -targeted_end_rate [activation_rate]</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>run_data</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="79c02c4c-031a-4b7c-8477-c9d31c112c00" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Run Test Session</body>
                    </command>
                    <nestedSteps>
                        <item guid="1df4e8fe-7768-447f-a0b8-b13c1f019342" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;deleteJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;portCapture&quot;}&apos;</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>run_data</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">deleteJsonNode</action>
                                <pathValue inherit="false">{&quot;portCapture&quot;}</pathValue>
                                <documentName inherit="false">run_data</documentName>
                            </applicationProperties>
                        </item>
                        <item guid="279199c4-3149-4bd8-924f-3fdf11ae1e51" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>runId = &quot;&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="2655161f-4d1a-416c-b017-8a411c06abef" action="Custom" session="[session]">
                            <command>
                                <body>-requestMethod POST -dataType json -requestBody [run_data] -rawResponse true -url runningTests</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/id)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>int(value) &gt; 0</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>error = False</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>error = True</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>id()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>runId</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/testStateOrStep)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>int(value) &gt; 0</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>error = False</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>Cannot run test session [test_session_name]</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>error = True</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>testStateOrStep()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>value == &quot;INIT&quot;</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                            <message>Run Test Session: &quot;[test_session_name]&quot;</message>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>run_response</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" requestMethod="POST" requestMethod.inherit="false" requestBody="[run_data]" requestBody.inherit="false" rawResponse="true" rawResponse.inherit="false" url="runningTests" url.inherit="false"/>
                        </item>
                        <item guid="0134bbe1-5412-4166-a2ae-01a6c15be8ce" action="if" useFieldsInCommand="false">
                            <command>
                                <body>error:</body>
                            </command>
                            <nestedSteps>
                                <item guid="1fee0164-89e3-406d-b299-3fc066503e62" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>print(run_response)</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="contains">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                        <searchString>reason</searchString>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>value == 1</expression>
                                                        <actionsWhenFalse>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>reason = &quot;Unknow reason&quot;</statement>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="SkipRemainingRules">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>reason()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>error_reason</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="contains">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                        <searchString>errorsAndWarnings</searchString>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>value == 1</expression>
                                                        <actionsWhenFalse>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>errorsAndWarnings = &quot;[]&quot;</statement>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="SkipRemainingRules">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>errorsAndWarnings()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>errorsAndWarnings</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="80642a4a-2d96-4edb-a903-75aa3cde4ced" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;createJson&apos;, documentName=&apos;response&apos;, fromFile=&apos;false&apos;, jsonString=&apos;{&quot;reason&quot;:&quot;[error_reason]&quot;,&quot;errorsAndWarnings&quot;:[errorsAndWarnings]}&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">createJson</action>
                                        <jsonString inherit="false" sub="true">{&quot;reason&quot;:&quot;[error_reason]&quot;,&quot;errorsAndWarnings&quot;:[errorsAndWarnings]}</jsonString>
                                        <documentName inherit="false">response</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="28e857fd-b050-4b23-9927-77dab98e0e91" action="return">
                                    <command>
                                        <body>[response]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="36bbb0fa-e71d-4e16-bfe5-0410deb30897" action="else" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="7f82fd7a-8756-4379-9fea-af456b579415" action="Custom" session="[session]">
                                    <command>
                                        <body>-requestMethod GET -dataType json -rawResponse true -url runningTests/[runId]?fullInfo=true</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>count(mapped/Json/tsGroups/item)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>tsgroups_count</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>mapped/Json/reservations/item/tsIndex</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>ts_index</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>mapped/Json/name</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>test_name</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <storeResponseAt>running_test_info</storeResponseAt>
                                        <storeResponseText>true</storeResponseText>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" rawResponse="true" rawResponse.inherit="false" url="runningTests/[runId]?fullInfo=true" url.inherit="false"/>
                                </item>
                                <item guid="925a4d06-7b80-4d72-94e9-ee03baba191a" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Start port capture</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="6c2f825e-a5c8-410c-801e-c1740577c53e" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>ports_capture:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="fd88bf59-ad1d-44fb-84de-a6d818e31158" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>port_list = ports_capture.split(&quot; &quot;)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="8d4a0dfd-ff42-4426-b719-7e0bd6b25d34" action="for" useFieldsInCommand="false">
                                                    <command>
                                                        <body>port_capture in port_list:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="b4012d77-37c2-42f5-8b0a-aef1c20eaa25" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>ts_id = port_capture.split(&quot;:&quot;)[0]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="7a36e686-54b1-493f-be09-0d068e467c5c" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>ts_index = &quot;&quot;</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="070c8412-bce9-4d6f-aa22-f6c6cd3b83db" action="json" useFieldsInCommand="false">
                                                            <command>
                                                                <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;running_test_info&apos;, pathValue=&apos;{&quot;portCapture&quot;}&apos;</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query sub="true">mapped/Json/portCapture/item\\[tsId = &apos;[ts_id]&apos;]\\[1]/tsIndex</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>ts_index</storageLocation>
                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                <action inherit="false">getJsonNode</action>
                                                                <pathValue inherit="false">{&quot;portCapture&quot;}</pathValue>
                                                                <documentName inherit="false">running_test_info</documentName>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="9a36bf7b-867c-4725-a03f-824ee2ed2fea" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>port = port_capture.split(&quot;:&quot;)[1]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="efda6034-c31e-4c0e-b1c6-828c8d14da9d" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>ts_index:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="84a9a1e9-5d21-4194-86ea-2d3badd84d9c" action="Custom" session="[session]">
                                                                    <command>
                                                                        <body>-requestMethod POST -dataType json -rawResponse true -url runningtests/[runId]?action=startCapture&amp;ts=[ts_index]&amp;port=[port]</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <analysisRules>
                                                                            <item>
                                                                                <extractorInfo extractorType="query">
                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                        <query>success()</query>
                                                                                    </extractorProperties>
                                                                                </extractorInfo>
                                                                                <processorInfo ruleType="store">
                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                        <storageLocation>command_success</storageLocation>
                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                    </ruleProperties>
                                                                                </processorInfo>
                                                                            </item>
                                                                        </analysisRules>
                                                                        <storeResponseAt>start_capture_response</storeResponseAt>
                                                                        <storeResponseText>true</storeResponseText>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" requestMethod="POST" requestMethod.inherit="false" rawResponse="true" rawResponse.inherit="false" url="runningtests/[runId]?action=startCapture&amp;ts=[ts_index]&amp;port=[port]" url.inherit="false"/>
                                                                </item>
                                                                <item guid="8e8aa918-d171-4630-bea2-14971c27ba72" action="if" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>command_success == &quot;false&quot;:</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="e799033e-7d2a-4586-b7be-32bf68d5a881" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>print(start_capture_response)</body>
                                                                            </command>
                                                                            <postProcessing>
                                                                                <analysisRules>
                                                                                    <item>
                                                                                        <extractorInfo extractorType="query">
                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                <query>reason()</query>
                                                                                            </extractorProperties>
                                                                                        </extractorInfo>
                                                                                        <processorInfo ruleType="message">
                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Warning">
                                                                                                <message>Cannot start capture on &quot;[ts_id]:[port]&quot;. Reason: {value}</message>
                                                                                                <tag sub="false" defaultValue=""/>
                                                                                            </ruleProperties>
                                                                                        </processorInfo>
                                                                                    </item>
                                                                                </analysisRules>
                                                                            </postProcessing>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="a85d012a-3fc9-4684-b671-2bf77a9657f6" action="else" useFieldsInCommand="false">
                                                                    <nestedSteps>
                                                                        <item guid="ddb869a8-6e93-4e0c-9424-9e2c2fb9d787" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>print(start_capture_response)</body>
                                                                            </command>
                                                                            <postProcessing>
                                                                                <analysisRules>
                                                                                    <item>
                                                                                        <extractorInfo extractorType="query">
                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                <query>result()</query>
                                                                                            </extractorProperties>
                                                                                        </extractorInfo>
                                                                                        <processorInfo ruleType="message">
                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                                                                <message>{value} On Port &quot;[port]&quot;</message>
                                                                                                <tag sub="false" defaultValue=""/>
                                                                                            </ruleProperties>
                                                                                        </processorInfo>
                                                                                    </item>
                                                                                </analysisRules>
                                                                            </postProcessing>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="da291a28-e64b-4ec1-bda0-6b1a6917a2ee" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;createJson&apos;, documentName=&apos;response&apos;, fromFile=&apos;false&apos;, jsonString=&apos;{&quot;runId&quot;:&quot;[runId]&quot;, &quot;ts_id&quot;: &quot;[ts_ids]&quot;, &quot;portCapture&quot;: &quot;[ports_capture]&quot;}&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">createJson</action>
                                        <jsonString inherit="false" sub="true">{&quot;runId&quot;:&quot;[runId]&quot;, &quot;ts_id&quot;: &quot;[ts_ids]&quot;, &quot;portCapture&quot;: &quot;[ports_capture]&quot;}</jsonString>
                                        <documentName inherit="false">response</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="7577954a-7172-4fba-9493-073d3bc4db47" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;running_test_info&apos;, pathValue=&apos;{&quot;tsGroups&quot;}&apos;</body>
                                    </command>
                                    <postProcessing>
                                        <storeResponseAt>ts_groups</storeResponseAt>
                                        <storeResponseText>true</storeResponseText>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">getJsonNode</action>
                                        <pathValue inherit="false">{&quot;tsGroups&quot;}</pathValue>
                                        <documentName inherit="false">running_test_info</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="eca8e2bb-aba9-4afe-b665-591a81b1b4fa" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Waiting for Test Node Running</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="fbefdda6-2ddf-4a8b-87ff-dda1899bfec2" action="waiting_for_test_get_expected_state" session="[session]" useFieldsInCommand="false">
                                            <command>
                                                <body>-running_test_id [runId] -expected_state [expected_state] -time_out [time_out]</body>
                                            </command>
                                            <postProcessing>
                                                <storeResponseAt>test_state</storeResponseAt>
                                                <storeResponseText>true</storeResponseText>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="b0aebe7a-00cc-4b5e-a4ed-6bc5696bba80" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>test_state == &quot;COMPLETE_ERROR&quot;:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="fd138f0b-4560-4333-b83d-d58f484dce92" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>error_msg = &quot;The test &apos;{0}&apos; cannot run on this TS. State: {1}.&quot;.format(test_name, test_state)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="a94e2000-f42c-461a-9594-cb03d3084fcd" action="json" useFieldsInCommand="false">
                                                    <command>
                                                        <body>action=&apos;createJson&apos;, documentName=&apos;response&apos;, fromFile=&apos;false&apos;, jsonString=&apos;{&quot;reason&quot;:&quot;[error_msg]&quot;}&apos;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                        <action inherit="false">createJson</action>
                                                        <jsonString inherit="false" sub="true">{&quot;reason&quot;:&quot;[error_msg]&quot;}</jsonString>
                                                        <documentName inherit="false">response</documentName>
                                                    </applicationProperties>
                                                </item>
                                                <item guid="c163044e-55d9-47b6-a911-b2b5689b7084" action="return">
                                                    <command>
                                                        <body>[response]</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="7d4075af-4a59-418b-a964-29cd727a00fc" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Add run data to response if need</body>
                    </command>
                    <nestedSteps>
                        <item guid="f246605e-44ea-4704-b51f-743877178d2b" action="if" useFieldsInCommand="false">
                            <command>
                                <body>return_run_data == &apos;true&apos;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="6c9df118-6c96-44ae-a60c-891e84559617" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;response&apos;, pathValue=&apos;{&quot;/&quot;:{&quot;run_data&quot;:[run_data]}}&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">addJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;/&quot;:{&quot;run_data&quot;:[run_data]}}</pathValue>
                                        <documentName inherit="false">response</documentName>
                                    </applicationProperties>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="ac60b1f0-5cd7-4ad3-a870-288ffaf23f72" action="return">
                    <command>
                        <body>[response]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="test_session_name">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="library_id">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="ts_groups">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="ts_node_name">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="return_run_data">
                    <defaultValue>false</defaultValue>
                </item>
                <item name="check_exist">
                    <defaultValue>true</defaultValue>
                </item>
                <item name="steps">
                    <description>Automation control steps.
Steps format: &quot;group index:tc index:action:pre group index:pre tc index:pre state:delay;...&quot; .Ex: &quot;0:0:Start:-1:-1::0;0:0:Stop:0:0:RUNNING:60;...&quot;</description>
                </item>
                <item name="expected_state">
                    <defaultValue>RUNNING</defaultValue>
                </item>
                <item name="param_group_name">
                    <description>Parameter group name. Ex: &quot;LS_Emulated_SUT_favorite_params&quot;</description>
                    <defaultValue>LS_Emulated_SUT_favorite_params</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="number_of_subscribers">
                    <description>Number of Subscribers</description>
                </item>
                <item name="activation_rate">
                    <description>Activation Rate</description>
                </item>
                <item name="time_out">
                    <defaultValue>180</defaultValue>
                </item>
            </arguments>
            <response>{}</response>
        </item>
        <item name="run_test_using_run_data" isPublic="true">
            <steps>
                <item guid="35668fb9-3db1-4b2a-b58e-0b011e2b2008" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Run Test Session</body>
                    </command>
                    <nestedSteps>
                        <item guid="ee627ec1-3fe1-4345-a4c8-d5e77581bd2b" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>runId = &quot;&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="5b5ccff1-34b5-450f-b47c-861ddfd590bf" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(run_data)</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>name()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>test_session_name</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="810da079-518f-4110-932d-2d367f79d24a" action="Custom" session="[session]">
                            <command>
                                <body>-requestMethod POST -dataType json -requestBody [run_data] -rawResponse true -url runningTests</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/id)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>int(value) &gt; 0</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>error = False</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>error = True</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>id()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>runId</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/testStateOrStep)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>int(value) &gt; 0</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>error = False</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>Cannot run test session [test_session_name]</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>error = True</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>run_response</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" requestMethod="POST" requestMethod.inherit="false" requestBody="[run_data]" requestBody.inherit="false" rawResponse="true" rawResponse.inherit="false" url="runningTests" url.inherit="false"/>
                        </item>
                        <item guid="45335ca9-76a4-4bf9-be39-c142f2ff4d26" action="if" useFieldsInCommand="false">
                            <command>
                                <body>error:</body>
                            </command>
                            <nestedSteps>
                                <item guid="d06adffb-6b69-408a-b387-45f961d80e50" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>print(run_response)</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="contains">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                        <searchString>reason</searchString>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>value == 1</expression>
                                                        <actionsWhenFalse>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>reason = &quot; Unknow reason&quot;</statement>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="SkipRemainingRules">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>reason()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>error_reason</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="contains">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                        <searchString>errorsAndWarnings</searchString>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>value == 1</expression>
                                                        <actionsWhenFalse>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>errorsAndWarnings = &quot;[]&quot;</statement>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="SkipRemainingRules">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>errorsAndWarnings()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>errorsAndWarnings</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="296aecfc-4590-445c-a0f0-30701fbaece9" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;createJson&apos;, documentName=&apos;response&apos;, fromFile=&apos;false&apos;, jsonString=&apos;{&quot;reason&quot;:&quot;[error_reason]&quot;,&quot;errorsAndWarnings&quot;:[errorsAndWarnings]}&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">createJson</action>
                                        <jsonString inherit="false" sub="true">{&quot;reason&quot;:&quot;[error_reason]&quot;,&quot;errorsAndWarnings&quot;:[errorsAndWarnings]}</jsonString>
                                        <documentName inherit="false">response</documentName>
                                    </applicationProperties>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="bdefdbb6-6eb4-4d3b-85a4-2383a24a1ff4" action="else" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="d8f45235-94db-4873-9d1c-4f47dae607a9" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;createJson&apos;, documentName=&apos;response&apos;, fromFile=&apos;false&apos;, jsonString=&apos;{&quot;runId&quot;:&quot;[runId]&quot;, &quot;ts_id&quot;: &quot;&quot;}&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">createJson</action>
                                        <jsonString inherit="false" sub="true">{&quot;runId&quot;:&quot;[runId]&quot;, &quot;ts_id&quot;: &quot;&quot;}</jsonString>
                                        <documentName inherit="false">response</documentName>
                                    </applicationProperties>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="64092378-7d27-4e11-9b22-fba92261f758" action="return">
                    <command>
                        <body>[response]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="run_data">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{}</response>
        </item>
        <item name="show_error_and_cleanup" isPublic="true">
            <steps>
                <item guid="a84a1d2d-1e13-44b5-972d-4f3c4bc5172b" action="if" useFieldsInCommand="false">
                    <command>
                        <body>&apos;message&apos; in locals() and message:</body>
                    </command>
                    <nestedSteps>
                        <item guid="5bd66966-0a69-422e-8584-8dcfc9f216d9" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(message)</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>boolean(mapped/Json/url)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>value == &quot;true&quot;</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>is_url = True</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>is_url = False</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>boolean(mapped/Json/code)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>value == &quot;true&quot;</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>is_code = True</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>is_code = False</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>boolean(mapped/Json/reason)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>value == &quot;true&quot;</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>is_reason = True</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>is_reason = False</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>boolean(mapped/Json/errorsAndWarnings)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>value == &quot;true&quot;</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>is_errors = True</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>is_errors = False</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>errorsAndWarnings()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>value != &quot;[]&quot;</expression>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>is_errors = False</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>boolean(mapped/Json/errorsAndWarnings)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>is_errors</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                        <skip>true</skip>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>boolean(mapped/Json/reason)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>value == &quot;true&quot;</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>[message]</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                        <skip>true</skip>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>reason()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup">
                                                <message>Reason: {value}</message>
                                                <tag sub="false" defaultValue=""/>
                                            </ruleProperties>
                                        </processorInfo>
                                        <skip>true</skip>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>errorsAndWarnings()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup">
                                                <message>Errors And Warnings: {value}</message>
                                                <tag sub="false" defaultValue=""/>
                                            </ruleProperties>
                                        </processorInfo>
                                        <skip>true</skip>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>errorsAndWarnings()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>errorsAndWarnings</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>message_xml</storeResponseAt>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="3d1fabc7-5d58-4294-95c0-f09eddfbdae2" action="if" useFieldsInCommand="false">
                            <command>
                                <body>is_code:</body>
                            </command>
                            <nestedSteps>
                                <item guid="37c195e2-7638-491e-a2ae-077b8f3e62f1" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>query_path = &apos;mapped/Json/code&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="51a893ca-bcda-4bc5-9b1f-5cf53d7ff5be" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>value = query(&apos;message_xml&apos;,query_path);print(value)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="478a8684-e245-4a05-946b-6ebae35aa115" action="message" useFieldsInCommand="false">
                                    <command>
                                        <body>Error:Code: [value]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                        <severity inherit="false">Error</severity>
                                        <message inherit="false">Code: [value]</message>
                                    </applicationProperties>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="bec09ea1-9671-4f50-949f-83f30b74a611" action="if" useFieldsInCommand="false">
                            <command>
                                <body>is_url:</body>
                            </command>
                            <nestedSteps>
                                <item guid="a75a4612-776f-4a62-887c-3bc29e880af0" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>query_path = &apos;mapped/Json/url&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="c5e8b52b-bca9-4108-b8a7-7b647de6d274" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>value = query(&apos;message_xml&apos;,query_path);print(value)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="8ca8de19-a19c-4865-916a-c75218492d1f" action="message" useFieldsInCommand="false">
                                    <command>
                                        <body>Error:URL: [value]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                        <severity inherit="false">Error</severity>
                                        <message inherit="false">URL: [value]</message>
                                    </applicationProperties>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="876f0b06-111e-4385-b0b3-40a7f4e8813e" action="if" useFieldsInCommand="false">
                            <command>
                                <body>is_reason:</body>
                            </command>
                            <nestedSteps>
                                <item guid="f66c460b-26c1-4fae-be76-fd3f7824ea57" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>query_path = &apos;mapped/Json/reason&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="3ed325b7-9352-4f48-9f66-329dd998a5f1" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>value = query(&apos;message_xml&apos;,query_path);print(value)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="2df86dfa-f796-4497-9013-4237fe66197e" action="message" useFieldsInCommand="false">
                                    <command>
                                        <body>Error:Reason: [value]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                        <severity inherit="false">Error</severity>
                                        <message inherit="false">Reason: [value]</message>
                                    </applicationProperties>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="d5bcbd99-07c2-4025-8c36-0e9b5b5f8329" action="if" useFieldsInCommand="false">
                            <command>
                                <body>is_errors and errorsAndWarnings:</body>
                            </command>
                            <nestedSteps>
                                <item guid="bb07d3bb-c022-42a5-a99a-38e39bb4da4b" action="message" useFieldsInCommand="false">
                                    <command>
                                        <body>Error:ErrorsAndWarnings:</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                        <severity inherit="false">Error</severity>
                                        <message inherit="false">ErrorsAndWarnings:</message>
                                    </applicationProperties>
                                </item>
                                <item guid="11367404-9f5d-43fe-90e6-989753bae983" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>print(errorsAndWarnings)</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>count(mapped/Json/item)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>tc_count</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="ac66817f-a4bc-4ef2-a2d8-3ed69503d3b5" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>int(tc_count) &gt; 0:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="b4ec72e5-0b43-42c2-b5e5-9af68f20484c" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>tc_i in range(0, int(tc_count)):</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="03ba3e91-0047-4286-8289-2ce5086cc9a9" action="json" useFieldsInCommand="false">
                                                    <command>
                                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;errorsAndWarnings&apos;, pathValue=&apos;{&quot;\\\\[[tc_i]]&quot;}&apos;</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>boolean(mapped/Json/errorsAndWarnings)</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="assert">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                        <expression>value == &quot;true&quot;</expression>
                                                                        <actionsWhenFalse>
                                                                            <item actionId="Eval">
                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                                    <statement>error_count = 0</statement>
                                                                                </actionProperties>
                                                                            </item>
                                                                            <item actionId="SkipRemainingRules">
                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            </item>
                                                                        </actionsWhenFalse>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>count(mapped/Json/errorsAndWarnings/item)</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>error_count</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>boolean(mapped/Json/ts)</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="assert">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                        <expression>value == &quot;true&quot;</expression>
                                                                        <actionsWhenFalse>
                                                                            <item actionId="Eval">
                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                                    <statement>ts = tc = &quot;&quot;</statement>
                                                                                </actionProperties>
                                                                            </item>
                                                                            <item actionId="SkipRemainingRules">
                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            </item>
                                                                        </actionsWhenFalse>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>boolean(mapped/Json/tc)</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="assert">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                        <expression>value == &quot;true&quot;</expression>
                                                                        <actionsWhenFalse>
                                                                            <item actionId="Eval">
                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                                    <statement>ts = tc = &quot;&quot;</statement>
                                                                                </actionProperties>
                                                                            </item>
                                                                            <item actionId="SkipRemainingRules">
                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            </item>
                                                                        </actionsWhenFalse>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>ts()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>ts</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>tc()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>tc</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                        <storeResponseAt>errorsAndWarnings_xml</storeResponseAt>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                        <action inherit="false">getJsonNode</action>
                                                        <pathValue inherit="false" sub="true">{&quot;\\[[tc_i]]&quot;}</pathValue>
                                                        <documentName inherit="false">errorsAndWarnings</documentName>
                                                    </applicationProperties>
                                                </item>
                                                <item guid="490b89c7-d7b8-4861-ad22-2fc0ce24b01f" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>int(error_count) &gt; 0:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="db949456-1e8b-492f-b761-29d6d490c697" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>ts and tc:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="a84d7081-d447-41ff-860a-35731cf0fe2f" action="message" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>Error:  - ts[ts]:tc[tc]</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                        <severity inherit="false">Error</severity>
                                                                        <message inherit="false">  - ts[ts]:tc[tc]</message>
                                                                    </applicationProperties>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="05ef56ed-22bd-49de-80dd-4613fb19dcca" action="for" useFieldsInCommand="false">
                                                            <command>
                                                                <body>error_i in range(1, int(error_count) + 1):</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="7c2cf4f8-21d4-42a5-b0f9-7d063e420742" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>query_path = &apos;mapped/Json/errorsAndWarnings/item[{0}]&apos;.format(error_i)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="1956a70b-4d61-4b84-a087-95b7662dbc10" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>value = query(&apos;errorsAndWarnings_xml&apos;,query_path);print(value)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="4881a05a-95ba-4a48-a6bc-babb6f8264fa" action="message" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>Error:    + [value]</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                        <severity inherit="false">Error</severity>
                                                                        <message inherit="false">    + [value]</message>
                                                                    </applicationProperties>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="37636b8b-fed8-4471-9a06-feac686faf50" action="else" useFieldsInCommand="false">
                                                    <nestedSteps>
                                                        <item guid="0406913b-f13e-497e-bc89-8b90bf250970" action="json" useFieldsInCommand="false">
                                                            <command>
                                                                <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;errorsAndWarnings&apos;, pathValue=&apos;{&quot;\\\\[[tc_i]]&quot;}&apos;</body>
                                                            </command>
                                                            <postProcessing>
                                                                <storeResponseAt>errors</storeResponseAt>
                                                                <storeResponseText>true</storeResponseText>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                <action inherit="false">getJsonNode</action>
                                                                <pathValue inherit="false" sub="true">{&quot;\\[[tc_i]]&quot;}</pathValue>
                                                                <documentName inherit="false">errorsAndWarnings</documentName>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="7583301a-9e7e-4845-8d53-50830f834d81" action="message" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Error:   + [errors]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                <severity inherit="false">Error</severity>
                                                                <message inherit="false">   + [errors]</message>
                                                            </applicationProperties>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="49a8175b-a243-41e3-ae1c-78bb006e4e6d" action="else" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="04142f0d-0ba7-467e-b34b-bd7079bbebff" action="message" useFieldsInCommand="false">
                                            <command>
                                                <body>Error:   + [errorsAndWarnings]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <severity inherit="false">Error</severity>
                                                <message inherit="false">   + [errorsAndWarnings]</message>
                                            </applicationProperties>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="06876599-c669-4dd1-832c-5505957b5de4" action="if" useFieldsInCommand="false">
                    <command>
                        <body>&apos;running_node_id&apos; in locals() and running_node_id:</body>
                    </command>
                    <nestedSteps>
                        <item guid="a49edcb4-64a1-440b-a43b-c11eb33e094a" action="stop_or_abort_test" session="[session]" useFieldsInCommand="false">
                            <command>
                                <body>-running_id [running_node_id] -abort true -timeout [timeout]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="9e646fd8-be42-46fa-a2b2-97c3d367c93d" action="if" useFieldsInCommand="false">
                            <command>
                                <body>clean_up == &quot;true&quot;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="10832694-b120-492f-866a-b5cd39a49fec" action="delete_running_tests" session="[session]" useFieldsInCommand="false">
                                    <command>
                                        <body>-running_id_list [running_node_id]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="9841f929-28b6-4d57-8d7d-28f232a2bbd2" action="if" useFieldsInCommand="false">
                    <command>
                        <body>&apos;running_ids&apos; in locals() and running_ids and clean_up == &quot;true&quot;:</body>
                    </command>
                    <nestedSteps>
                        <item guid="f2cef289-0d2e-4857-bee3-8093ceabd1ed" action="delete_running_tests" session="[session]" useFieldsInCommand="false">
                            <command>
                                <body>-running_id_list [running_ids]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="message">
                    <description>Error message with reason and ErrorOrWarning. Sometime contains running id to delete</description>
                </item>
                <item name="running_node_id">
                    <description>Stop this running node ids before delete. Running ID or Running ID list or list of Running ID is separated by &quot;;&quot;</description>
                </item>
                <item name="running_ids">
                    <description>Just Delete this running list. Running ID or Running ID list or list of Running ID is separated by &quot;;&quot;</description>
                </item>
                <item name="clean_up">
                    <description>true/false. Delete running tests when this flag equal &quot;true&quot;</description>
                    <defaultValue>true</defaultValue>
                </item>
                <item name="timeout">
                    <description>Waiting for stop/abort complete</description>
                    <defaultValue>180</defaultValue>
                </item>
            </arguments>
            <response>{}</response>
        </item>
        <item name="stop_or_abort_test" isPublic="true">
            <steps>
                <item guid="cf87aabc-1224-4bb9-94c2-bac0398b4679" action="if" useFieldsInCommand="false">
                    <command>
                        <body>isinstance(running_id, str):</body>
                    </command>
                    <nestedSteps>
                        <item guid="84a08292-4276-407d-b56d-4aa2022079f9" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>running_id_list = running_id.split(&quot;;&quot;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="4eed493c-ad3c-4113-b509-9c6c9948d707" action="elif" useFieldsInCommand="false">
                    <command>
                        <body>isinstance(running_id, list):</body>
                    </command>
                    <nestedSteps>
                        <item guid="26c52f68-7db3-436d-b90e-dcf9796dd50b" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>running_id_list = running_id</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="9deadb56-0e34-4460-849f-1421a11dc611" action="else" useFieldsInCommand="false">
                    <nestedSteps>
                        <item guid="3ec4a440-b23e-4de2-9ae1-22c063d5b64e" action="message">
                            <command>
                                <body>Warning:Invalid argument \\&quot;running_id\\&quot;: \\&quot;\\[running_id]\\&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                <severity inherit="false">Warning</severity>
                                <message inherit="false">Invalid argument &quot;running_id&quot;: &quot;[running_id]&quot;</message>
                            </applicationProperties>
                        </item>
                        <item guid="f401860b-71b7-40ea-b619-6d64b25dbbb3" action="return">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="aeafd8d2-94d6-4f44-8a64-13b8a7e5b653" action="for" useFieldsInCommand="false">
                    <command>
                        <body>running_id in running_id_list:</body>
                    </command>
                    <nestedSteps>
                        <item guid="02d6e877-a867-4b78-8931-d96054e786c3" action="if" useFieldsInCommand="false">
                            <command>
                                <body>running_id.strip():</body>
                            </command>
                            <nestedSteps>
                                <item guid="82cc3fbb-b915-4f96-a8b9-33dbaddaab01" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>abort == &quot;true&quot;:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="3d2cb4bc-2a87-4168-ba16-9a84dd64211d" action="AbortRunningTest" session="[session]">
                                            <command>
                                                <body>-runningTestId [running_id]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="AbortRunningTest" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" runningTestId="[running_id]" runningTestId.inherit="false"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="304063e2-e0cb-497b-8713-2bba649f9e5c" action="else" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="a2fc1058-36dd-46f4-bef7-a4fb35d0d89c" action="StopRunningTest" session="[session]">
                                            <command>
                                                <body>-runningTestId [running_id]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="StopRunningTest" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" runningTestId="[running_id]" runningTestId.inherit="false"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="aa17bcf3-f3c5-46bc-97f5-7dcf142da9fc" action="for" useFieldsInCommand="false">
                    <command>
                        <body>running_id in running_id_list:</body>
                    </command>
                    <nestedSteps>
                        <item guid="d30a1168-d469-4f3e-a28e-b54b585cb37f" action="if" useFieldsInCommand="false">
                            <command>
                                <body>running_id.strip():</body>
                            </command>
                            <nestedSteps>
                                <item guid="d9571f69-9a32-418b-bd50-1ef1d68b2a77" action="waiting_for_test_get_expected_state" session="[session]" useFieldsInCommand="false">
                                    <command>
                                        <body>-running_test_id [running_id] -expected_state COMPLETE -time_out [timeout]</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>responseLine()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>final_state</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="b0b8197f-261c-4031-a49a-2415daf073ae" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>final_state != &quot;COMPLETE&quot; and final_state != &quot;COMPLETE_ERROR&quot;  and final_state != &quot;ERROR&quot;:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="6ec8d6df-209b-45cd-871e-1a63ff02c61b" action="AbortRunningTest" session="[session]">
                                            <command>
                                                <body>-runningTestId [running_id]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="AbortRunningTest" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" runningTestId="[running_id]" runningTestId.inherit="false"/>
                                        </item>
                                        <item guid="b16612b9-41bf-48c0-9ee6-6e8e1591a30a" action="waiting_for_test_get_expected_state" session="[session]" useFieldsInCommand="false">
                                            <command>
                                                <body>-running_test_id [running_id] -expected_state COMPLETE -time_out [timeout]</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>responseLine()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>final_state</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="running_id">
                    <description>Running ID or Running ID list or list of Running ID is separated by &quot;;&quot; </description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="abort">
                    <description>Abort test session if this flag equal true. Allowed values: true/false</description>
                    <defaultValue>false</defaultValue>
                </item>
                <item name="timeout">
                    <description>Time to waiting for test session stop complete.</description>
                    <defaultValue>180</defaultValue>
                </item>
            </arguments>
            <response>{}</response>
        </item>
        <item name="update_automation_control_step" isPublic="true">
            <steps>
                <item guid="0127997b-8975-4022-9c25-5c38337d33d3" action="json" useFieldsInCommand="false">
                    <command>
                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;steps&quot;}&apos;</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>count(mapped/Json/steps/item)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>step_count</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                        <action inherit="false">getJsonNode</action>
                        <pathValue inherit="false">{&quot;steps&quot;}</pathValue>
                        <documentName inherit="false">run_data</documentName>
                    </applicationProperties>
                </item>
                <item guid="3e762ccd-86d8-41f4-af7a-08ca7d5e6c1d" action="if" useFieldsInCommand="false">
                    <command>
                        <body>int(step_count) != 0:</body>
                    </command>
                    <nestedSteps>
                        <item guid="62f68190-eccf-4b8a-9c1a-17c585ca68b0" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;deleteJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;steps&quot;}&apos;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">deleteJsonNode</action>
                                <pathValue inherit="false">{&quot;steps&quot;}</pathValue>
                                <documentName inherit="false">run_data</documentName>
                            </applicationProperties>
                        </item>
                        <item guid="2a154c47-b62d-42d3-a3b2-9a9d06d94f52" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;/&quot;:{&quot;steps&quot;:[]}}&apos;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">addJsonNode</action>
                                <pathValue inherit="false">{&quot;/&quot;:{&quot;steps&quot;:[]}}</pathValue>
                                <documentName inherit="false">run_data</documentName>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="a5e5349a-f367-43c1-946f-6277fe5cb6cd" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Add new automation control steps</body>
                    </command>
                    <nestedSteps>
                        <item guid="0ffd3422-4f9a-49c3-813b-18387b5dc9a9" action="if" useFieldsInCommand="false">
                            <command>
                                <body>&apos;steps&apos; in locals() and steps:</body>
                            </command>
                            <nestedSteps>
                                <item guid="db6270c0-42f7-4728-9977-71b8891ef548" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>step_list = steps.split(&quot;;&quot;)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="bb051f1e-5e46-46db-a60f-67d870356195" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>index = 0</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="dc9650e6-7ee6-4eef-b8b9-732d4e91601a" action="for" useFieldsInCommand="false">
                                    <command>
                                        <body>step in step_list:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="6e2ffa06-82d1-456d-a2f9-120df043a0da" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>parts = step.split(&quot;:&quot;)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="1250f50e-85bb-4ff2-b5ce-2b2d886199d5" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>len(parts) == 7:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="6c1b7911-99ac-4202-8830-086eaf2693f5" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>ts_index = parts[0]</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="d643211d-adf4-4e8d-9045-666348d2a140" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>tc_index = parts[1]</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="e5a2e042-1df6-4cfc-b9b0-5a053eadee7a" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>action = parts[2]</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="a1b4f018-0a7e-462f-b0b1-ea3df3704cd9" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>pre_ts_index = parts[3]</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="664b65a9-fcd1-434d-8517-4bf16409266e" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>pre_tc_index = parts[4]</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="bf1f1448-d460-41fb-a611-fae3d1eab842" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>pre_state = parts[5]</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="ce268b65-71f0-4d4d-82d3-cc1f449b683b" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>delay = parts[6]</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="6092fb2a-f238-462e-aaa9-b6f624e7dc16" action="insert_automation_control_step" session="[session]" useFieldsInCommand="false">
                                                    <command>
                                                        <body>-run_data [run_data] -step_index [index] -delaySec [delay] -predecessorState [pre_state] -predecessorTcIndex [pre_tc_index] -predecessorTsIndex [pre_ts_index] -tcActivity [action] -tcIndex [tc_index] -tsIndex [ts_index]</body>
                                                    </command>
                                                    <postProcessing>
                                                        <storeResponseAt>run_data</storeResponseAt>
                                                        <storeResponseText>true</storeResponseText>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="17bfa945-3404-4b54-83ed-c7686bc71353" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>index += 1</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="fe64121d-4754-4aa3-b228-4b0846239faf" action="else" useFieldsInCommand="false">
                                            <nestedSteps>
                                                <item guid="94be6872-707d-4c0f-928d-ae5ccb9d875d" action="message" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Warning:Automation Control format error: [step]</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                        <severity inherit="false">Warning</severity>
                                                        <message inherit="false">Automation Control format error: [step]</message>
                                                    </applicationProperties>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="e3570e0d-fbd8-4eac-b0d9-16be4ab071c5" action="else" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="1f37fb84-8b41-47e8-ad4f-91a06d678eda" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Default: Add start step</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="799819eb-ef4a-452b-bbed-4b8d3a2e8c59" action="insert_automation_control_step" session="[session]" useFieldsInCommand="false">
                                            <command>
                                                <body>-run_data [run_data] -step_index 0 -delaySec 0 -predecessorState &quot;&quot; -predecessorTcIndex -1 -predecessorTsIndex -1 -tcActivity Start -tcIndex 0 -tsIndex 0</body>
                                            </command>
                                            <postProcessing>
                                                <storeResponseAt>run_data</storeResponseAt>
                                                <storeResponseText>true</storeResponseText>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="b7f0d2ad-084d-41e9-9a30-a5b940c31f9d" action="return">
                    <command>
                        <body>[run_data]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="run_data">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="steps">
                    <description>Automation control steps.
Steps format: &quot;group index:tc index:action:pre group index:pre tc index:pre state:delay;...&quot; .Ex: &quot;0:0:Start:-1:-1::0;0:0:Stop:0:0:RUNNING:60;...&quot;</description>
                </item>
            </arguments>
            <response>{}</response>
        </item>
        <item name="update_reservations" isPublic="true">
            <steps>
                <item guid="2f8ac676-a38e-413a-9719-a636f3e719ff" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>print(run_data)</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>count(mapped/Json/reservations/item)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>reservation_count</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                        <storeResponseAt>run_xml</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="e3fd1cd4-22ed-4f93-9ccc-0fb805781e28" action="for" useFieldsInCommand="false">
                    <command>
                        <body>i in range(int(reservation_count)):</body>
                    </command>
                    <nestedSteps>
                        <item guid="432dcd40-7abb-4cd3-ba59-68855b82ad98" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;reservations/\\\\[[i]]&quot;}&apos;</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/reservations/tsId)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>int(value) &gt; 0</expression>
                                                <actionsWhenFalse>
                                                    <item actionId="Continue">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>mapped/Json/reservations/tsId</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>reservation_ts_id</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">getJsonNode</action>
                                <pathValue inherit="false" sub="true">{&quot;reservations/\\[[i]]&quot;}</pathValue>
                                <documentName inherit="false">run_data</documentName>
                            </applicationProperties>
                        </item>
                        <item guid="186b52a2-76c6-4533-a69e-79c46bebbd2a" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;reservations/\\\\[[i]]/phySubnets&quot;}&apos;</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/phySubnets/item)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>phy_count</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>phy_xml</storeResponseAt>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">getJsonNode</action>
                                <pathValue inherit="false" sub="true">{&quot;reservations/\\[[i]]/phySubnets&quot;}</pathValue>
                                <documentName inherit="false">run_data</documentName>
                            </applicationProperties>
                        </item>
                        <item guid="b5c88520-2f25-466b-be37-23780f0f95f4" action="for" useFieldsInCommand="false">
                            <command>
                                <body>phy_index in range(1, int(phy_count) + 1):</body>
                            </command>
                            <nestedSteps>
                                <item guid="0ca0266e-01fc-402f-b3d3-2b26aad18d79" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>query_path = &apos;mapped/Json/phySubnets/item[{0}]/name&apos;.format(str(phy_index))</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="38f6bbf6-402d-4dd8-87c2-4149d5741f77" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>phy_name = query(&apos;phy_xml&apos;,query_path);print(phy_name)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="d940c0e2-e6f0-4250-85f9-af6b07725a39" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>query_path = &apos;count(mapped/Json/tsGroups/item[tsId = &quot;{0}&quot;]/testCases/item/parameters/*[phy = &quot;{1}&quot;])&apos;.format(reservation_ts_id, str(phy_name))</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="6c81c25b-5c05-47e1-8225-d0ac8a7f2ecc" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>used_count = query(&apos;run_xml&apos;,query_path);print(used_count)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="f7f3eeb5-e053-4322-a4a7-81f312c0a7ef" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>int(used_count) == 0:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="6e7f80e5-26eb-4563-a002-34f77c23b4a6" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>index = phy_index  - 1</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="52303767-7815-40a3-9926-8b4310aa4582" action="json" useFieldsInCommand="false">
                                            <command>
                                                <body>action=&apos;setJsonValue&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;run_data&apos;, pathValue=&apos;{&quot;reservations/\\\\[[i]]/phySubnets/\\\\[[index]]/&quot;:{}}&apos;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                <action inherit="false">setJsonValue</action>
                                                <pathValue inherit="false" sub="true">{&quot;reservations/\\[[i]]/phySubnets/\\[[index]]/&quot;:{}}</pathValue>
                                                <documentName inherit="false">run_data</documentName>
                                            </applicationProperties>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="010ac7a6-db4a-4b29-972f-446d5c91fdac" action="return">
                    <command>
                        <body>[run_data]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="run_data">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{}</response>
        </item>
        <item name="verify_test_server_state" isPublic="true">
            <steps>
                <item guid="1006bdb2-e283-4f40-8e32-c33e4b951497" action="if" useFieldsInCommand="false">
                    <command>
                        <body>testserver_state.startswith(&apos;READY&apos;):</body>
                    </command>
                    <nestedSteps>
                        <item guid="e1af64f2-d245-473a-8fbb-06a3b7b6c887" action="return">
                            <command>
                                <body>True</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="7950c200-3ead-460c-81bc-eee899de8b2f" action="elif" useFieldsInCommand="false">
                    <command>
                        <body>testserver_state.startswith(&apos;RUNNING&apos;):</body>
                    </command>
                    <nestedSteps>
                        <item guid="86d66940-68c5-4527-b9c0-2940bcdf2323" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(testserver_state)</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="regex">
                                            <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                                <regex>^RUNNING \\[\\d+r*]\\s+(\\d+)/\\d+(\\w)*$</regex>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>running_proccess_count</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="regex">
                                            <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                                <regex>^RUNNING \\[\\d+r*]\\s+\\d+/(\\d+)(\\w)*$</regex>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>total_proccess_count</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="e74dbc49-5cae-4a20-a699-51863dd1757c" action="if" useFieldsInCommand="false">
                            <command>
                                <body>int(running_proccess_count) &gt;= int(total_proccess_count):</body>
                            </command>
                            <nestedSteps>
                                <item guid="841bdb07-4b01-4941-96cb-fcdaabc07401" action="return">
                                    <command>
                                        <body>False</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="aa6ea061-b057-4618-873f-801aa1f69cea" action="else" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="b07cebe9-e92b-4368-b3fb-40a905aef7c1" action="return">
                                    <command>
                                        <body>True</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="101d5971-5527-4607-b8af-a619fcf97f12" action="else" useFieldsInCommand="false">
                    <nestedSteps>
                        <item guid="9cf462ae-31e0-473e-9d9f-1d8a5f6693be" action="return">
                            <command>
                                <body>False</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="testserver_state">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="verify_test_servers" isPublic="true">
            <steps>
                <item guid="33c986ff-eb35-4938-8f0f-98f00bd85b24" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Get Test Servers from TAS</body>
                    </command>
                    <nestedSteps>
                        <item guid="e8aba823-35fc-4db1-9ec7-278c03db9678" action="Custom" session="[session]">
                            <command>
                                <body>-requestMethod GET -dataType json -rawResponse true -url testServers</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>test_servers_xml</storeResponseAt>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" rawResponse="true" rawResponse.inherit="false" url="testServers" url.inherit="false"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="120b662b-7270-4911-9bbd-ae766eedb1be" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Get ts_group_count</body>
                    </command>
                    <nestedSteps>
                        <item guid="6e2b86d6-5839-45c8-9c2e-fdbd759ccc5e" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(ts_groups)</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/item)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>int(value) &gt; 0</expression>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>tsgroup_count = 0</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/item)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>tsgroup_count</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="96448f41-fab6-42f7-aa3c-5c896de8d8cc" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Verify Number of TS</body>
                    </command>
                    <nestedSteps>
                        <item guid="0f2e091d-45c4-4552-99d4-3fb4e33727e7" action="if" useFieldsInCommand="false">
                            <command>
                                <body>info(&apos;exists&apos;, &apos;local&apos;, &apos;required_number_of_ts&apos;) and required_number_of_ts:</body>
                            </command>
                            <nestedSteps>
                                <item guid="7c58e9b4-8424-417c-bddb-c950fe5decec" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>int(tsgroup_count) &lt; int(required_number_of_ts):</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="185d35b6-69b1-4665-b454-c96519696817" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>message = &apos;This test required &quot;{0}&quot; Test Servers. Current reserved &quot;{1}&quot; Test Servers&apos;.format(required_number_of_ts, tsgroup_count)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="181261cb-999a-4e73-bcab-b6af7946eae0" action="execute_fail_message" session="[session]" useFieldsInCommand="false">
                                            <command>
                                                <body>-should_exit true -message [message]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="cd5b6033-d4ad-49c7-8220-62e2ff89591d" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Verify TS Groups</body>
                    </command>
                    <nestedSteps>
                        <item guid="134c46eb-6d0d-47a7-91b6-2adfc72b21bc" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;createJson&apos;, documentName=&apos;response&apos;, fromFile=&apos;false&apos;, jsonString=&apos;[]&apos;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">createJson</action>
                                <jsonString inherit="false">[]</jsonString>
                                <documentName inherit="false">response</documentName>
                            </applicationProperties>
                        </item>
                        <item guid="ca9fceff-0e72-4269-88ef-16860e567f34" action="for" useFieldsInCommand="false">
                            <command>
                                <body>i in range(0, int(tsgroup_count)):</body>
                            </command>
                            <nestedSteps>
                                <item guid="0f6a5748-d213-4b76-a0de-9fc93d7cb4a8" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;getJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;ts_groups&apos;, pathValue=&apos;{&quot;\\\\[[i]]&quot;}&apos;</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>TS_Name()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>ts_name</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>ts_param_name()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>ts_param_name</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>count(mapped/Json/ports/item)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>int(value) &gt; 0</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>ts_port_count = int(value)</statement>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>need_update_port = False</statement>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>ts_port_count = 0</statement>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="SkipRemainingRules">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>ports()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>ts_ports</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>count(mapped/Json/ports/item)</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>ts_port_count</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                        <storeResponseAt>ts_property</storeResponseAt>
                                        <storeResponseText>true</storeResponseText>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">getJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;\\[[i]]&quot;}</pathValue>
                                        <documentName inherit="false">ts_groups</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="8d9609d7-754a-4a42-9111-10d37bd11823" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>query_path = &apos;boolean(mapped/Json/testServers/item[name = &quot;{0}&quot;])&apos;.format(ts_name)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="b05bb401-268d-424a-b091-3893f8111aee" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_exists = query(&apos;test_servers_xml&apos;,query_path);print(ts_exists)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="55f30cee-1b87-401f-850a-810f20748260" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_exists != &quot;true&quot;:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="95141afd-28c7-423b-915e-fe0c39082aea" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>message = &apos;Test Server: &quot;{0}&quot; does not exist.&apos;.format(ts_name)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="9faaf032-b450-47f5-97b9-d35dbb584fbc" action="execute_fail_message" session="[session]" useFieldsInCommand="false">
                                            <command>
                                                <body>-should_exit true -message [message]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="747e5ee8-9c06-43b7-965f-a01712703444" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Verify TS State</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="9660202a-f7fb-4130-b09b-b9c8a7978fce" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>query_path = &apos;mapped/Json/testServers/item[name=&quot;{0}&quot;]/id&apos;.format(ts_name)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="c348528f-0dbd-4cc2-9abf-d3402e2a06cd" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>ts_id = query(&apos;test_servers_xml&apos;,query_path);print(ts_id)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="f7972e16-ddd4-4314-9979-b3006ae6c452" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>query_path = &apos;mapped/Json/testServers/item[name=&quot;{0}&quot;]/state&apos;.format(ts_name)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="3dab018e-ac7d-48c5-b861-413aaffe0aeb" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>ts_state = query(&apos;test_servers_xml&apos;,query_path);print(ts_state)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="ffed4943-ca66-4244-a1d8-fdb86d7e8ac2" action="verify_test_server_state" session="[session]" useFieldsInCommand="false">
                                            <command>
                                                <body>-testserver_state [ts_state]</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>responseLine()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>is_available</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="6c7e739c-43e3-4208-b16a-a07c226bb384" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>is_available == &quot;False&quot;:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="73032dab-73d4-4a48-92aa-97100db0d1c6" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>message = &apos;Test Server: &quot;{0}&quot; is not available - state: &quot;{1}&quot;&apos;.format(ts_name, ts_state)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="9c99990c-1386-425d-849c-782ee7f19452" action="execute_fail_message" session="[session]" useFieldsInCommand="false" skippReporting="false">
                                                    <command>
                                                        <body>-message [message] -should_exit &quot;true&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="398a3576-aa1d-44e7-976e-c506c8778e8f" action="json" useFieldsInCommand="false">
                                            <command>
                                                <body>action=&apos;setJsonValue&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;ts_groups&apos;, pathValue=&apos;{&quot;\\\\[[i]]/Status&quot;:&quot;[ts_state]&quot;,&quot;\\\\[[i]]/TS_ID&quot;:&quot;[ts_id]&quot;}&apos;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                <action inherit="false">setJsonValue</action>
                                                <pathValue inherit="false" sub="true">{&quot;\\[[i]]/Status&quot;:&quot;[ts_state]&quot;,&quot;\\[[i]]/TS_ID&quot;:&quot;[ts_id]&quot;}</pathValue>
                                                <documentName inherit="false">ts_groups</documentName>
                                            </applicationProperties>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="35506d53-5f2e-40f3-b2ba-46f893e6e6da" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Verify TS Ports and TS Mode</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="d6cff2c5-1028-479c-b54a-68b02851e2b0" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(ts_ports)</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>count(mapped/Json/item)</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>port_count</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                                <storeResponseAt>ts_ports_xml</storeResponseAt>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="0ca2e668-308f-47a0-8c1a-80b0df27cef6" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>port_list = []</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="4ca36a79-154c-4129-a930-c2318faedc8b" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>port_i in range(1, int(port_count) + 1):</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="1c7e8502-9942-42e4-b73c-74da1e9b19ae" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>query_path = &apos;mapped/Json/item[{0}]/phyname&apos;.format(port_i)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="88e01d5b-4ebd-4ef3-838c-d356505d53ee" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>phy_name = query(&apos;ts_ports_xml&apos;,query_path);print(phy_name)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="626882eb-fd74-4832-9f08-3c14b010e8b9" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Verify for ipv4</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="7aac297a-c3ef-494c-8e8c-82f153fe2a65" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>query_path = &apos;mapped/Json/item[{0}]/ipv4Address&apos;.format(port_i)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="eec55111-f602-48f9-8898-770fc8d27d90" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>ipAddress = query(&apos;ts_ports_xml&apos;,query_path);print(ipAddress)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="130685ac-5472-47bb-ba4d-a39117d90d92" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>query_path = &apos;mapped/Json/item[{0}]/ipv4mask&apos;.format(port_i)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="017726c2-1ebc-47f4-bdf9-c324b729aabc" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>mask = query(&apos;ts_ports_xml&apos;,query_path);print(mask)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="6f1ea095-1827-400c-9378-719e77c45ca9" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>query_path = &apos;mapped/Json/item[{0}]/ipv4NumNode&apos;.format(port_i)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="d046e9b0-d4e8-4e1b-9ad9-e5aeca50743c" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>num_node = query(&apos;ts_ports_xml&apos;,query_path);print(num_node)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="27609660-4199-483e-9fa5-5a8c13b5d472" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>ipAddress and mask and num_node:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="7e2fcad3-ee26-4eff-ae50-cde0cf728446" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>port_list.append(phy_name)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="c7462c45-6a1e-478e-85e2-855856680417" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Verify for ipv6</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="2164ea07-ff51-465c-be20-c4332d24121b" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>query_path = &apos;mapped/Json/item[{0}]/ipv6Address&apos;.format(port_i)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="1394228f-638a-40e4-a7c6-d2947203dbc8" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>ipAddress = query(&apos;ts_ports_xml&apos;,query_path);print(ipAddress)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="66c8fec1-0199-4b3d-b56e-701b134204e8" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>query_path = &apos;mapped/Json/item[{0}]/ipv6mask&apos;.format(port_i)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="31ad4a16-de45-42bc-b2d5-edace24a0c84" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>mask = query(&apos;ts_ports_xml&apos;,query_path);print(mask)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="15c9027d-9447-4e38-886e-7d177feada6a" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>query_path = &apos;mapped/Json/item[{0}]/ipv6NumNode&apos;.format(port_i)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="ea2ed2e3-a188-47f5-bb7a-bb3518cec40e" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>num_node = query(&apos;ts_ports_xml&apos;,query_path);print(num_node)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="1fdbded6-59c8-443e-90c4-a6d4cc7a203d" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>ipAddress and mask and num_node:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="3301b45d-9e4b-4b15-b587-25d308877fd6" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>phy_name_v6 = phy_name + &quot;v6&quot;</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="ad78316e-cc63-426f-aa25-237e8cbf1103" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>port_list.append(phy_name_v6)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="3b5c001c-1b31-4e38-a4eb-4e3e7f2afda1" action="Custom" session="[session]">
                                            <command>
                                                <body>-requestMethod GET -dataType json -rawResponse true -url testServers/[ts_id]</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>dataGenPerformance()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>ts_mode</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>boolean(mapped/Json/ethInfos)</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>value == &quot;true&quot;</expression>
                                                                <actionsWhenFalse>
                                                                    <item actionId="Eval">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                            <statement>eth_count = 0</statement>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="Eval">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                            <statement>cpa_enabled = &quot;false&quot;</statement>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="SkipRemainingRules">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenFalse>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>ethInfos()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>eth_info</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>count(mapped/Json/ethInfos/item)</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>eth_count</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>boolean(mapped/Json/requestControlAccelerator)</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>value == &quot;true&quot;</expression>
                                                                <actionsWhenFalse>
                                                                    <item actionId="Eval">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                            <statement>cpa_enabled = &quot;false&quot;</statement>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="SkipRemainingRules">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenFalse>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>requestControlAccelerator()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>cpa_enabled</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                                <storeResponseAt>ts_info_xml</storeResponseAt>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" rawResponse="true" rawResponse.inherit="false" url="testServers/[ts_id]" url.inherit="false"/>
                                        </item>
                                        <item guid="74078fa8-e707-464c-b688-826fae2cb252" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Verify ports</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="4372c6f0-4c69-4366-ad05-f69a21d22782" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>int(eth_count) &lt; int(len(port_list)):</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="6df76af8-5d40-41ec-b3b5-dae8af7c625a" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>message = &apos;Test Server: &quot;{0}&quot; does not have enough ports. Required: &quot;{1}&quot;, actual: &quot;{2}&quot;&apos;.format(ts_name, ts_port_count, eth_count)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="90d37985-7816-48c8-95b7-4c9590b98a24" action="execute_fail_message" session="[session]" useFieldsInCommand="false">
                                                            <command>
                                                                <body>-should_exit true -message [message]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="e64a5638-72a1-42d0-bf2d-c4802c5a7fe4" action="for" useFieldsInCommand="false">
                                                    <command>
                                                        <body>port_name in port_list:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="e2011d1f-8b1f-4fad-b016-2629ae9df046" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>query_path = &apos;boolean(mapped/Json/ethInfos/item[name = &quot;{0}&quot;])&apos;.format(port_name)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="dc7b23b4-8e32-447c-9153-738856bd1f15" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>port_exists = query(&apos;ts_info_xml&apos;,query_path);print(port_exists)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="05ccf599-2863-4c6e-8f57-6c83fcc2ff83" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>port_exists == &quot;false&quot;:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="f68cf1f9-9133-4131-ac06-bd0b8a350499" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>message = &apos;Port &quot;{0}&quot; does not exist on Test Server &quot;{1}&quot;&apos;.format(port_name, ts_name)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="3fc0444d-bfdb-4ddc-a4a3-14447ef47f15" action="execute_fail_message" session="[session]" useFieldsInCommand="false" skippReporting="false">
                                                                    <command>
                                                                        <body>-message [message] -should_exit &quot;true&quot;</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="dcb646fe-4c2a-495e-8db7-0fe79c680df4" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Verify TS Mode</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="1f2e94bf-63f7-4201-a028-15f214d509ac" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>info(&apos;exists&apos;, &apos;global&apos;, &apos;required_ts_mode&apos;):</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="587214aa-7cd0-4cc1-b7b5-57f3c804559b" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>required_ts_mode = gget(&apos;required_ts_mode&apos;)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="4586c3d0-a38e-42a7-8c50-212b99ab1c36" action="else" useFieldsInCommand="false">
                                                    <nestedSteps>
                                                        <item guid="ea2641f1-58bc-4520-b22b-1ab6eb891dc6" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>required_ts_mode = &quot;Legacy&quot;</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="6f801559-c710-4f7c-9229-dab6858f9863" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>&apos;CPA&apos; in required_ts_mode:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="21f91309-33a9-48a2-a001-d4099e6a72ef" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>cpa_enabled == &quot;false&quot;:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="35a68abb-be73-4429-acea-45236aa27c4a" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>message = &apos;This test requires Test Servers are in &quot;Control Plane Accelerator (CPA)&quot; mode. Actually, &quot;CPA&quot; mode of the Test Server &quot;{0}&quot; was disabled, please enable it in Landslide TAS.&apos;.format(ts_name)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="b6ed5b65-e6c9-4617-81f1-17cc3ca67644" action="execute_fail_message" session="[session]" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>-should_exit true -message [message]</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="2200caca-faa8-4d19-a4fb-31e90fb235da" action="elif" useFieldsInCommand="false">
                                                            <command>
                                                                <body>&apos;;&apos; in required_ts_mode:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="55525305-5ca7-47b1-9fcc-b24c08b66d0e" action="if" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>ts_mode not in required_ts_mode:</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="b91d901f-7c29-4057-a823-13cc65dfc995" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>message = &apos;This test requires Test Servers are in &quot;{0}&quot; mode. Actually, the Test Server &quot;{1}&quot; is in &quot;{2}&quot; mode.&apos;.format(required_ts_mode, ts_name, ts_mode)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="06c01151-31b4-46c8-ae49-7c6c31065775" action="execute_fail_message" session="[session]" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>-should_exit true -message [message]</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="d0d63f4d-2ad9-42ad-8905-8dbc2f125903" action="else" useFieldsInCommand="false">
                                                    <nestedSteps>
                                                        <item guid="9cf42fce-b5e3-4e1a-adb1-e897a571361a" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>ts_mode not in required_ts_mode:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="a6652175-38dd-44c1-80c8-9c95a522c32d" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>message = &apos;This test requires Test Servers are in &quot;{0}&quot; mode. Actually, the Test Server &quot;{1}&quot; is in &quot;{2}&quot; mode.&apos;.format(required_ts_mode, ts_name, ts_mode)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="08e87edf-e908-4d80-8739-91e1bda0a43e" action="execute_fail_message" session="[session]" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>-should_exit true -message [message]</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="cfedb7cc-73e5-42c0-b6fc-09b7648dfe32" action="return">
                    <command>
                        <body>[ts_groups]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="ts_groups">
                    <description>Group of TS reserve on Topology or in parameter file. Data type: JSON Object.</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="required_number_of_ts"/>
                <item name="required_ts_mode">
                    <description>Required &quot;DataGenPerformance&quot; of each test.
Allowed values:
Legacy - Balanced processor resource allocation
Max - Resource allocation biased toward data plan process
Fireball - TBD</description>
                </item>
                <item name="required_cpa"/>
            </arguments>
            <response>{}</response>
        </item>
        <item name="waiting_for_test_get_expected_state" isPublic="true">
            <steps>
                <item guid="78644fdc-9d3d-4e7c-ab64-c2a007182307" action="if" useFieldsInCommand="false">
                    <command>
                        <body>not running_test_id:</body>
                    </command>
                    <nestedSteps>
                        <item guid="325002e4-c3a2-4b7a-97de-2a32eabdecdd" action="return">
                            <command>
                                <body>False</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="4515138e-2b8a-419b-a22a-7ed790751eba" action="ShowRunningTest" session="[session]">
                    <command>
                        <body>-runningTestId [running_test_id]</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>boolean(Result/testStateOrStep)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>value == &quot;true&quot;</expression>
                                        <actionsWhenFalse>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>test_state = &quot;&quot;</statement>
                                                </actionProperties>
                                            </item>
                                            <item actionId="SkipRemainingRules">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>testStateOrStep()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>test_state</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                        <storeResponseAt>response</storeResponseAt>
                        <storeResponseText>true</storeResponseText>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="ShowRunningTest" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" runningTestId="[running_test_id]" runningTestId.inherit="false"/>
                </item>
                <item guid="818ed01b-25fa-4eaa-ac65-3d17816eae25" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>timeout = int(time_out)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="fcaf8e92-8f49-408b-96f4-72809bf427fe" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>unexpected_state_list = unexpected_states.split(&quot;;&quot;)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="be4e2c89-d78b-4437-bd4b-e018216de0d7" action="while" useFieldsInCommand="false">
                    <command>
                        <body>timeout &gt; 0 and test_state and test_state != expected_state and test_state not in unexpected_state_list:</body>
                    </command>
                    <nestedSteps>
                        <item guid="1367a36e-b640-478e-b6e9-228cc8dc8869" action="sleep">
                            <command>
                                <body>10</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="e458d997-577c-43e3-924a-1a467b72eb13" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>timeout -= 10</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="90bc3f9c-b114-4550-8b5b-e429e0d3b8fb" action="ShowRunningTest" session="[session]">
                            <command>
                                <body>-runningTestId [running_test_id]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>boolean(Result/testStateOrStep)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>value == &quot;true&quot;</expression>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>test_state = &quot;&quot;</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>testStateOrStep()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>test_state</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>response</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="ShowRunningTest" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" runningTestId="[running_test_id]" runningTestId.inherit="false"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="1d809f91-cb7b-40bb-af7f-cfc2b56caf42" action="if" useFieldsInCommand="false">
                    <command>
                        <body>not test_state:</body>
                    </command>
                    <nestedSteps>
                        <item guid="ca4a284d-d048-49c7-9b2c-1ddabd6b0d05" action="message" useFieldsInCommand="false">
                            <command>
                                <body>Warning:Cannot get test session state. Response: &quot;[response]&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                <severity inherit="false">Warning</severity>
                                <message inherit="false">Cannot get test session state. Response: &quot;[response]&quot;</message>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="8b8cdd72-afd2-45ed-8b7d-68b785bf692d" action="return">
                    <command>
                        <body>[test_state]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="running_test_id">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="expected_state">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="unexpected_states">
                    <description>Unexpected states for running test. Using seperator &apos;;&apos; between each state</description>
                    <defaultValue>ERROR;COMPLETE_ERROR</defaultValue>
                </item>
                <item name="time_out">
                    <defaultValue>180</defaultValue>
                </item>
            </arguments>
            <response>{}</response>
        </item>
    </procedures>
</testCase>
